{"version":3,"sources":["env.js"],"names":["isShadyRoot","obj","__localName","ownerShadyRootForNode","node","root","getRootNode","matchesSelector","element","selector","matches","call","copyOwnProperty","name","source","target","pd","Object","getOwnPropertyDescriptor","defineProperty","extend","n$","getOwnPropertyNames","n","i","length","extendAll","sources","mixin","patchPrototype","proto","getPrototypeOf","hasOwnProperty","patchProto","create","__sourceProto","__patchProto","__proto__","enqueue","callback","scheduled","promish","then","flush","flushList","push","flushCount","shift","customElements$1","isFlushedMaxed","Error","filterMutations","mutations","targetRootNode","map","mutation","mutationInScope","addedNodes","nodes","Array","from","filter","value","configurable","m","escapeReplace","c","escapeAttr","s","replace","escapeAttrRegExp","escapeData","escapeDataRegExp","makeSet","arr","set","getOuterHTML","parentNode","composed","nodeType","Node","ELEMENT_NODE","tagName","localName","attrs","attributes","attr","voidElements","getInnerHTML","TEXT_NODE","data","plaintextParents","COMMENT_NODE","window","console","error","content","c$","childNodes","child","l","nodeWalker","currentNode","firstChild","lastChild","nextSibling","firstElementChild","elementWalker","lastElementChild","previousElementSibling","previousSibling","nextElementSibling","children","innerHTML","textContent","nodeValue","textWalker","document","createTreeWalker","NodeFilter","SHOW_TEXT","nextNode","getProperty","prop","__shady","hasProperty","generateSimpleDescriptor","get","nativeTree","clearNode","removeChild","getDocumentActiveElement","nativeActiveElementDescriptor","settings","hasDescriptors","activeElement","activeElementForNode","active","isShadyRoot$$1","host","contains","activeRoot","patchAccessorGroup","descriptors","force","p","objDesc","warn","patchAccessors","OutsideAccessors","InsideAccessors","ActiveElementAccessor","recordInsertBefore","container","ref_node","patchInsideElementAccessors","DOCUMENT_FRAGMENT_NODE","linkNode","resetTo","patchOutsideElementAccessors","ps","ns","recordRemoveChild","addNode","ownerRoot","ipAdded","__noInsertionPoint","_changePending","_skipUpdateInsertionPoints","_maybeAddInsertionPoint","handled","_maybeDistribute","shadyRoot","removeNode","distributed","logicalParent","maybeDistributeParent","removedDistributed","_removeDistributedChildren","addedInsertionPoint","getInsertionPointTag","updateRootViaContentChange","_removeOwnerShadyRoot","_scheduleObserver","addedNode","removedNode","observer","removedNodes","schedule","removeNodeFromParent","parent","_hasCachedOwnerRoot","__ownerShadyRoot","documentElement","insertionPointTag","fragContent","querySelector","wrappedContent","hasContent","needsDist","_nodeNeedsDistribution","added","querySelectorAll","np","na","recordChildNodes","hasInsertionPoint","hostNeedsDist","ip$","_insertionPoints","insertionPoint","_contains","dc$","assignedNodes","flatten","j","firstComposedNode","isFinalDestination","update","distributeAttributeChange","query","matcher","halter","list","_queryElements","elements","_queryElement","result","renderRootNode","render","setAttribute$1","ShadyCSS","ownerDocument","setElementClass","setAttribute","removeAttribute$1","removeAttribute","insertBefore$1","insertBefore","appendChild","removeChild$1","nativeParent","cloneNode$1","deep","cloneNode","nc","importNode$1","nativeImportNode","importNode","pathComposer","startNode","composedPath","current","startRoot","assignedSlot","retarget","refNode","path","refNodePath","p$","ancestor","lastRoot","rootIdx","indexOf","mixinComposedFlag","Base","klazz","type","options","event","__composed","prototype","fireHandlers","phase","hs","__handlers","fn","__immediatePropagationStopped","retargetNonBubblingEvent","e","__propagationStopped","Event","AT_TARGET","lastFiredRoot","shadowRoot","activateFocusEventOverrides","ev","nonBubblingEventsToRetarget","addEventListener","__target","__relatedTarget","relatedTarget","eventMixin","stopImmediatePropagation","patchEvents","PatchedEvent","CustomEvent","PatchedCustomEvent","MouseEvent","PatchedMouseEvent","newSplice","index","removed","addedCount","attachShadow","createDocumentFragment","ShadyRootPrototype","_init","getAssignedSlot","patchBuiltin","d","patchBuiltins","nodeMixin","Text","textMixin","DocumentFragment","fragmentMixin","Element","elementMixin","Document","documentMixin","previousImportNode","HTMLSlotElement","slotMixin","nativeHTMLElement","customElements","HTMLElement","ShadyDOM","hasNativeShadowDOM","desc","inUse","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","Promise","resolve","twiddle","createTextNode","cb","MutationObserver","disconnect","observe","characterData","AsyncObserver","constructor","_scheduled","callbacks","Set","takeRecords","forEach","observeChildren","add","_callback","_observer","_node","unobserveChildren","handle","delete","size","removeEventListener","nativeMethods","freeze","SHOW_ALL","SHOW_ELEMENT","parentElement","nativeInnerHTMLDesc","inertDoc","implementation","createHTMLDocument","htmlContainer","createElement","className","getAttribute","tc","cn","join","text","ShadowRootAccessor","__outsideAccessors","__insideAccessors","alwaysComposed","blur","focus","focusin","focusout","click","dblclick","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","wheel","beforeinput","input","keydown","keyup","compositionstart","compositionupdate","compositionend","touchstart","touchend","touchmove","touchcancel","pointerover","pointerenter","pointerdown","pointermove","pointerup","pointercancel","pointerout","pointerleave","gotpointercapture","lostpointercapture","dragstart","drag","dragenter","dragleave","dragover","drop","dragend","DOMActivate","DOMFocusIn","DOMFocusOut","keypress","isTrusted","__composedPath","currentTarget","__relatedTargetComposedPath","stopPropagation","EDIT_LEAVE","EDIT_UPDATE","EDIT_ADD","EDIT_DELETE","ArraySplice","calcEditDistances","currentStart","currentEnd","old","oldStart","oldEnd","rowCount","columnCount","distances","equals","north","west","spliceOperationsFromEditDistances","edits","min","northWest","reverse","calcSplices","splice","prefixCount","suffixCount","minLength","Math","sharedPrefix","sharedSuffix","ops","splices","oldIndex","searchLength","index1","index2","count","calculateSplices","previous","currentValue","previousValue","NormalizedEvent","inType","params","createEvent","initEvent","bubbles","cancelable","Distributor","getInsertionPoints","isInsertionPoint","distribute","distributePool","collectPool","pool","dirtyRoots","distributeInsertionPoint","prevAssignedNodes","clearAssignedSlots","needsSlotChange","anyDistributed","matchesInsertionPoint","_prevAssignedSlot","distributeNodeInto","children$$1","setDistributedNodesOnInsertionPoint","_fireSlotChange","slot","savePrevious","slotName","trim","distributedNodes","d$","dispatchEvent","_renderPending","_hasRendered","_distributor","_getRenderRoot","renderRoot","_rendererForHost","_render","updateInsertionPoints","compose","forceRender","i$","__insertionPoints","insertionPoints","_composeTree","_updateChildNodes","_composeNode","distributedNode","next","optionsOrCapture","capture","once","passive","__eventWrappers","wrapperFn","eventPhase","BUBBLING_PHASE","bubble","idx","replaceChild","isConnected","defineProperties","_activeElement","patch"],"mappings":"AAAC,WAAY,CACb,aAEA;;;;;;;;EAmBA,QAASA,EAAT,CAAqBC,EAArB,CAA0B,CACxB,QAAmC,WAApB,MAAIC,WAAnB,CACD,CAED,QAASC,EAAT,CAA+BC,EAA/B,CAAqC,CACnC,GAAIC,IAAOD,GAAKE,WAAL,EAAX,CACA,GAAIN,EAAYK,EAAZ,CAAJ,CACE,MAAOA,GAEV,CAOD,QAASE,EAAT,CAAyBC,EAAzB,CAAkCC,EAAlC,CAA4C,CAC1C,MAAOC,IAAQC,IAAR,CAAaH,EAAb,CAAsBC,EAAtB,CACR,CAED,QAASG,EAAT,CAAyBC,EAAzB,CAA+BC,EAA/B,CAAuCC,EAAvC,CAA+C,CAC7C,GAAIC,IAAKC,OAAOC,wBAAP,CAAgCJ,EAAhC,CAAwCD,EAAxC,CAAT,CACIG,EAFyC,EAG3CC,OAAOE,cAAP,CAAsBJ,EAAtB,CAA8BF,EAA9B,CAAoCG,EAApC,CAEH,CAED,QAASI,EAAT,CAAgBL,EAAhB,CAAwBD,EAAxB,CAAgC,CAC9B,GAAIC,IAAUD,EAAd,CAAsB,CACpB,GAAIO,IAAKJ,OAAOK,mBAAP,CAA2BR,EAA3B,CAAT,CACA,IAAK,GAASS,GAAT,CAAIC,GAAE,CAAX,CAAkBA,GAAEH,GAAGI,MAAN,GAAkBF,GAAEF,GAAGG,EAAH,CAApB,CAAjB,CAA6CA,IAA7C,CACEZ,EAAgBW,EAAhB,CAAmBT,EAAnB,CAA2BC,EAA3B,CAEH,CACD,MAAOA,KAAUD,EAClB,CAED,QAASY,EAAT,CAAmBX,EAAnB,CAA2B,GAAGY,EAA9B,CAAuC,CACrC,IAAK,GAAIH,IAAE,CAAX,CAAcA,GAAIG,GAAQF,MAA1B,CAAkCD,IAAlC,CACEJ,EAAOL,EAAP,CAAeY,GAAQH,EAAR,CAAf,EAEF,MAAOT,GACR,CAED,QAASa,EAAT,CAAeb,EAAf,CAAuBD,EAAvB,CAA+B,CAC7B,IAAK,GAAIU,GAAT,GAAcV,GAAd,CACEC,GAAOS,EAAP,EAAYV,GAAOU,EAAP,CAAZ,CAEF,MAAOT,GACR,CAED,QAASc,EAAT,CAAwB5B,EAAxB,CAA6B2B,EAA7B,CAAoC,CAClC,GAAIE,IAAQb,OAAOc,cAAP,CAAsB9B,EAAtB,CAAZ,CACA,GAAI,CAAC6B,GAAME,cAAN,CAAqB,cAArB,CAAL,CAA2C,CACzC,GAAIC,IAAahB,OAAOiB,MAAP,CAAcJ,EAAd,CAAjB,CACAG,GAAWE,aAAX,CAA2BL,EAFc,CAGzCV,EAAOa,EAAP,CAAmBL,EAAnB,CAHyC,CAIzCE,GAAMM,YAAN,CAAqBH,EACtB,CAEDhC,GAAIoC,SAAJ,CAAgBP,GAAMM,YACvB,CAuCD,QAASE,EAAT,CAAiBC,EAAjB,CAA2B,CACpBC,EADoB,GAEvBA,KAFuB,CAGvBC,GAAQC,IAAR,CAAaC,CAAb,CAHuB,EAKzBC,GAAUC,IAAV,CAAeN,EAAf,CACD,CAED,QAASI,EAAT,EAAiB,KACfH,KADe,CAEfM,IAFe,CAGRF,GAAUnB,MAHF,EAIbmB,GAAUG,KAAV,KAEEC,IAAoBA,GAAiBL,KAN1B,EAObK,GAAiBL,KAAjB,EAPa,CAUf,KAAMM,IAnBO,GAmBW,GAAxB,CAKA,GAJIL,GAAUnB,MAAV,EAAoB,CAACwB,EAIzB,EAHIN,GAGJ,CADAG,GAAa,CACb,CAAIG,EAAJ,CACE,KAAM,IAAIC,MAAJ,CAAU,mDAAV,CAET,CA2FD,QAASC,EAAT,CAAyBC,EAAzB,CAAoCrC,EAApC,CAA4C,CAC1C,KAAMsC,IAAiBtC,GAAOT,WAAP,EAAvB,CACA,MAAO8C,IAAUE,GAAV,CAAc,SAASC,EAAT,CAAmB,CACtC,KAAMC,IAAmBH,KAAmBE,GAASxC,MAAT,CAAgBT,WAAhB,EAA5C,CACA,GAAIkD,IAAmBD,GAASE,UAAhC,CAA4C,CAC1C,GAAIC,IAAQC,MAAMC,IAAN,CAAWL,GAASE,UAApB,EAAgCI,MAAhC,CAAuC,SAAStC,EAAT,CAAY,CAC7D,MAAQ8B,MAAmB9B,GAAEjB,WAAF,EAC5B,CAFW,CAAZ,CAGA,GAAIoD,GAAMjC,MAAV,CAME,MALA8B,IAAWtC,OAAOiB,MAAP,CAAcqB,EAAd,CAKX,CAJAtC,OAAOE,cAAP,CAAsBoC,EAAtB,CAAgC,YAAhC,CAA8C,CAC5CO,MAAOJ,EADqC,CAE5CK,eAF4C,CAA9C,CAIA,CAAOR,EAEV,CAZD,IAYO,IAAIC,EAAJ,CACL,MAAOD,GAEV,CAjBM,EAiBJM,MAjBI,CAiBG,SAASG,EAAT,CAAY,CAAE,MAAOA,GAAE,CAjB1B,CAkBR,CAsDD,QAASC,EAAT,CAAuBC,EAAvB,CAA0B,OAEjB,GAFiB,GAChBA,EADgB,CAGb,OAHa,CAIjB,GAJiB,GAChBA,EADgB,CAKb,MALa,CAMjB,GANiB,GAChBA,EADgB,CAOb,MAPa,CAQjB,GARiB,GAChBA,EADgB,CASb,QATa,CAUjB,MAViB,GAChBA,EADgB,CAWb,QAXa,OAazB,CAED,QAASC,EAAT,CAAoBC,EAApB,CAAuB,CACrB,MAAOA,IAAEC,OAAF,CAAUC,EAAV,CAA4BL,CAA5B,CACR,CAED,QAASM,EAAT,CAAoBH,EAApB,CAAuB,CACrB,MAAOA,IAAEC,OAAF,CAAUG,EAAV,CAA4BP,CAA5B,CACR,CAED,QAASQ,EAAT,CAAiBC,EAAjB,CAAsB,CACpB,GAAIC,MAAJ,CACA,IAAK,GAAInD,IAAI,CAAb,CAAgBA,GAAIkD,GAAIjD,MAAxB,CAAgCD,IAAhC,CACEmD,GAAID,GAAIlD,EAAJ,CAAJ,KAEF,MAAOmD,GACR,CAiCD,QAASC,EAAT,CAAsBxE,EAAtB,CAA4ByE,EAA5B,CAAwCC,EAAxC,CAAkD,CAChD,OAAQ1E,GAAK2E,QAAb,EACE,IAAKC,MAAKC,YAAV,CAAwB,CACtB,GAAIC,IAAU9E,GAAK+E,SAAnB,CACIf,GAAI,IAAMc,EADd,CAEIE,GAAQhF,GAAKiF,UAFjB,CAGA,IAAK,GAAWC,GAAX,CAAI9D,GAAI,CAAb,CAAuB8D,GAAOF,GAAM5D,EAAN,CAA9B,CAAyCA,IAAzC,CACE4C,IAAK,IAAMkB,GAAKzE,IAAX,CAAkB,IAAlB,CAAyBsD,EAAWmB,GAAKxB,KAAhB,CAAzB,CAAkD,GAAvD,CALoB,MAOtBM,KAAK,GAPiB,CAQlBmB,GAAaL,EAAb,CARkB,CASbd,EATa,CAWfA,GAAIoB,EAAapF,EAAb,CAAmB0E,EAAnB,CAAJ,CAAmC,IAAnC,CAA0CI,EAA1C,CAAoD,GAC5D,CACD,IAAKF,MAAKS,SAAV,CAAqB,CACnB,GAAIC,IAAOtF,GAAKsF,IAAhB,CADmB,MAEfb,KAAcc,GAAiBd,GAAWM,SAA5B,CAFC,CAGVO,EAHU,CAKZnB,EAAWmB,EAAX,CACR,CACD,IAAKV,MAAKY,YAAV,CACE,MAAO,OAASxF,GAAKsF,IAAd,CAAqB,KAA5B,CAEF,QAEE,KADAG,QAAOC,OAAP,CAAeC,KAAf,CAAqB3F,EAArB,CACA,CAAM,GAAI8C,MAAJ,CAAU,iBAAV,CAAN,CA1BJ,CA6BD,CAED,QAASsC,EAAT,CAAsBpF,EAAtB,CAA4B0E,EAA5B,CAAsC,CACb,UAAnB,MAAKK,SAD2B,GAElC/E,GAAOA,GAAK4F,OAFsB,EAIpC,GAAI5B,IAAI,EAAR,CACI6B,GAAKnB,GAAWA,GAAS1E,EAAT,CAAX,CAA4BA,GAAK8F,UAD1C,CAEA,IAAK,GAAsBC,GAAtB,CAAI3E,GAAE,CAAN,CAAS4E,GAAEH,GAAGxE,MAAnB,CAAmCD,GAAE4E,EAAH,GAAUD,GAAMF,GAAGzE,EAAH,CAAhB,CAAlC,CAA0DA,IAA1D,CACE4C,IAAKQ,EAAauB,EAAb,CAAoB/F,EAApB,CAA0B0E,EAA1B,CAAL,CAEF,MAAOV,GACR,CAkBD,QAASS,EAAT,CAAoBzE,EAApB,CAA0B,CAExB,MADAiG,IAAWC,WAAX,CAAyBlG,EACzB,CAAOiG,GAAWxB,UAAX,EACR,CAED,QAAS0B,EAAT,CAAoBnG,EAApB,CAA0B,CAExB,MADAiG,IAAWC,WAAX,CAAyBlG,EACzB,CAAOiG,GAAWE,UAAX,EACR,CAED,QAASC,EAAT,CAAmBpG,EAAnB,CAAyB,CAEvB,MADAiG,IAAWC,WAAX,CAAyBlG,EACzB,CAAOiG,GAAWG,SAAX,EACR,CAYD,QAASN,EAAT,CAAoB9F,EAApB,CAA0B,CACxB,GAAIsD,MAAJ,CACA2C,GAAWC,WAAX,CAAyBlG,EAFD,KAGxB,GAAImB,IAAI8E,GAAWE,UAAX,EAHgB,CAIjBhF,EAJiB,EAKtBmC,GAAMb,IAAN,CAAWtB,EAAX,CALsB,CAMtBA,GAAI8E,GAAWI,WAAX,EANkB,CAQxB,MAAO/C,GACR,CAOD,QAASgD,EAAT,CAA2BtG,EAA3B,CAAiC,CAE/B,MADAuG,IAAcL,WAAd,CAA4BlG,EAC5B,CAAOuG,GAAcJ,UAAd,EACR,CAED,QAASK,EAAT,CAA0BxG,EAA1B,CAAgC,CAE9B,MADAuG,IAAcL,WAAd,CAA4BlG,EAC5B,CAAOuG,GAAcH,SAAd,EACR,CAED,QAASK,EAAT,CAAgCzG,EAAhC,CAAsC,CAEpC,MADAuG,IAAcL,WAAd,CAA4BlG,EAC5B,CAAOuG,GAAcG,eAAd,EACR,CAED,QAASC,EAAT,CAA4B3G,EAA5B,CAAkC,CAEhC,MADAuG,IAAcL,WAAd,CAA4BlG,EAC5B,CAAOuG,GAAcF,WAAd,EACR,CAED,QAASO,EAAT,CAAkB5G,EAAlB,CAAwB,CACtB,GAAIsD,MAAJ,CACAiD,GAAcL,WAAd,CAA4BlG,EAFN,KAGtB,GAAImB,IAAIoF,GAAcJ,UAAd,EAHc,CAIfhF,EAJe,EAKpBmC,GAAMb,IAAN,CAAWtB,EAAX,CALoB,CAMpBA,GAAIoF,GAAcF,WAAd,EANgB,CAQtB,MAAO/C,GACR,CAED,QAASuD,EAAT,CAAmB7G,EAAnB,CAAyB,CACvB,MAAOoF,GAAapF,EAAb,CAAoBmB,EAAD,EAAO2E,EAAW3E,EAAX,CAA1B,CACR,CAED,QAAS2F,EAAT,CAAqB9G,EAArB,CAA2B,CACzB,GAAIA,GAAK2E,QAAL,GAAkBC,KAAKC,YAA3B,CACE,MAAO7E,IAAK+G,SAAZ,CAEF,GAAIC,IAAaC,SAASC,gBAAT,CAA0BlH,EAA1B,CAAgCmH,WAAWC,SAA3C,CACf,IADe,IAAjB,CAEIxB,GAAU,EAFd,CAEkBzE,EAFlB,CAJyB,KAOhBA,GAAI6F,GAAWK,QAAX,EAPY,EAUvBzB,IAAWzE,GAAE4F,SAAb,CAEF,MAAOnB,GACR,CA6BD,QAAS0B,EAAT,CAAqBtH,EAArB,CAA2BuH,EAA3B,CAAiC,CAC/B,MAAOvH,IAAKwH,OAAL,EAAgBxH,GAAKwH,OAAL,CAAaD,EAAb,CACxB,CAED,QAASE,EAAT,CAAqBzH,EAArB,CAA2BuH,EAA3B,CAAiC,CAC/B,MAAOD,GAAYtH,EAAZ,CAAkBuH,EAAlB,UACR,CAYD,QAASG,EAAT,CAAkCH,EAAlC,CAAwC,CACtC,MAAO,CACLI,KAAM,CACJ,GAAI3B,IAAIsB,EAAY,IAAZ,CAAkBC,EAAlB,CAAR,CACA,MAAOvB,aAAsB4B,GAAWL,EAAX,EAAiB,IAAjB,CAAtB,CAAkBvB,EAC1B,CAJI,CAKLrC,eALK,CAOR,CAED,QAASkE,EAAT,CAAmB7H,EAAnB,CAAyB,MAChBA,GAAKmG,UADW,EAErBnG,GAAK8H,WAAL,CAAiB9H,GAAKmG,UAAtB,CAEH,CAWD,QAAS4B,EAAT,EAAoC,CAClC,GAAIC,IAAiCA,GAA8BL,GAAnE,CACE,MAAOK,IAA8BL,GAA9B,CAAkCpH,IAAlC,CAAuC0G,QAAvC,CAAP,CAFgC,MAGtBgB,IAASC,cAHa,QAIzBjB,SAASkB,aAEnB,CAED,QAASC,EAAT,CAA8BpI,EAA9B,CAAoC,CAClC,GAAIqI,IAASN,GAAb,CACA,GAAI,CAACM,EAAL,CACE,MAAO,KAAP,CAEF,GAAIC,IAAiB,CAAC,CAAE1I,EAAYI,EAAZ,CAAxB,CACA,GAAIA,KAASiH,QAAb,CAAuB,CAGrB,GAAI,CAACqB,EAAL,CACE,MAAO,KAAP,CAKF,GAAItI,GAAKuI,IAAL,GAAcF,EAAd,EACA,CAACrI,GAAKuI,IAAL,CAAUC,QAAV,CAAmBH,EAAnB,CADL,CAEE,MAAO,KAEV,CAID,GAAII,IAAa1I,EAAsBsI,EAAtB,CAAjB,CAvBkC,KAwB3BI,IAAcA,KAAezI,EAxBF,EAyBhCqI,GAASI,GAAWF,IAzBY,CA0BhCE,GAAa1I,EAAsBsI,EAAtB,CA1BmB,OA4B9BrI,MAASiH,QA5BqB,CA8BzBwB,GAAa,IAAb,CAAoBJ,EA9BK,CAkCzBI,KAAezI,EAAf,CAAsBqI,EAAtB,CAA+B,IAEzC,CAiND,QAASK,EAAT,CAA4B7I,EAA5B,CAAiC8I,EAAjC,CAA8CC,EAA9C,CAAqD,CACnD,IAAK,GAAIC,GAAT,GAAcF,GAAd,CAA2B,CACzB,GAAIG,IAAUjI,OAAOC,wBAAP,CAAgCjB,EAAhC,CAAqCgJ,EAArC,CAAd,CACKC,IAAWA,GAAQnF,YAApB,EACD,CAACmF,EAAD,EAAYF,EAHU,CAIvB/H,OAAOE,cAAP,CAAsBlB,EAAtB,CAA2BgJ,EAA3B,CAA8BF,GAAYE,EAAZ,CAA9B,CAJuB,CAKdD,EALc,EAMvBlD,QAAQqD,IAAR,CAAa,kBAAb,CAAiCF,EAAjC,CAAoC,IAApC,CAA0ChJ,EAA1C,CAEH,CACF,CAGD,QAASmJ,EAAT,CAAwBtH,EAAxB,CAA+B,CAC7BgH,EAAmBhH,EAAnB,CAA0BuH,EAA1B,CAD6B,CAE7BP,EAAmBhH,EAAnB,CAA0BwH,EAA1B,CAF6B,CAG7BR,EAAmBhH,EAAnB,CAA0ByH,EAA1B,CACD,CAuCD,QAASC,EAAT,CAA4BpJ,EAA5B,CAAkCqJ,EAAlC,CAA6CC,EAA7C,CAAuD,CAOrD,GANAC,GAA4BF,EAA5B,CAMA,CALAA,GAAU7B,OAAV,CAAoB6B,GAAU7B,OAAV,IAKpB,CAJIC,EAAY4B,EAAZ,CAAuB,YAAvB,CAIJ,GAHEA,GAAU7B,OAAV,CAAkB1B,UAAlB,CAA+B,IAGjC,EAAI9F,GAAK2E,QAAL,GAAkBC,KAAK4E,sBAA3B,CAAmD,CACjD,GAAI3D,IAAK7F,GAAK8F,UAAd,CACA,IAAK,GAAI1E,IAAE,CAAX,CAAcA,GAAIyE,GAAGxE,MAArB,CAA6BD,IAA7B,CACEqI,EAAS5D,GAAGzE,EAAH,CAAT,CAAgBiI,EAAhB,CAA2BC,EAA3B,EAGFtJ,GAAKwH,OAAL,CAAexH,GAAKwH,OAAL,IANkC,CAOjD,GAAIkC,IAAUjC,EAAYzH,EAAZ,CAAkB,YAAlB,EAAkC,IAAlC,OAAd,CACAA,GAAKwH,OAAL,CAAarB,UAAb,CAA0BnG,GAAKwH,OAAL,CAAapB,SAAb,CAAyBsD,EARF,CASjD1J,GAAKwH,OAAL,CAAa1B,UAAb,CAA0B4D,EAC3B,CAVD,IAWED,GAASzJ,EAAT,CAAeqJ,EAAf,CAA0BC,EAA1B,CAEH,CAED,QAASG,EAAT,CAAkBzJ,EAAlB,CAAwBqJ,EAAxB,CAAmCC,EAAnC,CAA6C,CAC3CK,GAA6B3J,EAA7B,CAD2C,CAE3CsJ,GAAWA,IAAY,IAFoB,CAG3CtJ,GAAKwH,OAAL,CAAexH,GAAKwH,OAAL,IAH4B,CAI3C6B,GAAU7B,OAAV,CAAoB6B,GAAU7B,OAAV,IAJuB,CAKvC8B,EALuC,GAMzCA,GAAS9B,OAAT,CAAmB8B,GAAS9B,OAAT,IANsB,EAS3CxH,GAAKwH,OAAL,CAAad,eAAb,CAA+B4C,GAAWA,GAAS9B,OAAT,CAAiBd,eAA5B,CAC7B2C,GAAUjD,SAV+B,CAW3C,GAAIwD,IAAK5J,GAAKwH,OAAL,CAAad,eAAtB,CACIkD,IAAMA,GAAGpC,OAZ8B,GAazCoC,GAAGpC,OAAH,CAAWnB,WAAX,CAAyBrG,EAbgB,EAgB3C,GAAI6J,IAAK7J,GAAKwH,OAAL,CAAanB,WAAb,CAA2BiD,EAApC,CACIO,IAAMA,GAAGrC,OAjB8B,GAkBzCqC,GAAGrC,OAAH,CAAWd,eAAX,CAA6B1G,EAlBY,EAqB3CA,GAAKwH,OAAL,CAAa/C,UAAb,CAA0B4E,EArBiB,CAsBvCC,EAtBuC,CAuBrCA,KAAaD,GAAU7B,OAAV,CAAkBrB,UAvBM,GAwBvCkD,GAAU7B,OAAV,CAAkBrB,UAAlB,CAA+BnG,EAxBQ,GA2BzCqJ,GAAU7B,OAAV,CAAkBpB,SAAlB,CAA8BpG,EA3BW,CA4BrC,CAACqJ,GAAU7B,OAAV,CAAkBrB,UA5BkB,GA6BvCkD,GAAU7B,OAAV,CAAkBrB,UAAlB,CAA+BnG,EA7BQ,GAiC3CqJ,GAAU7B,OAAV,CAAkB1B,UAAlB,CAA+B,IAChC,CAED,QAASgE,EAAT,CAA2B9J,EAA3B,CAAiCqJ,EAAjC,CAA4C,CAC1CrJ,GAAKwH,OAAL,CAAexH,GAAKwH,OAAL,IAD2B,CAE1C6B,GAAU7B,OAAV,CAAoB6B,GAAU7B,OAAV,IAFsB,CAGtCxH,KAASqJ,GAAU7B,OAAV,CAAkBrB,UAHW,GAIxCkD,GAAU7B,OAAV,CAAkBrB,UAAlB,CAA+BnG,GAAKwH,OAAL,CAAanB,WAJJ,EAMtCrG,KAASqJ,GAAU7B,OAAV,CAAkBpB,SANW,GAOxCiD,GAAU7B,OAAV,CAAkBpB,SAAlB,CAA8BpG,GAAKwH,OAAL,CAAad,eAPH,EAS1C,GAAImC,IAAI7I,GAAKwH,OAAL,CAAad,eAArB,CACIvF,GAAInB,GAAKwH,OAAL,CAAanB,WADrB,CAEIwC,EAXsC,GAYxCA,GAAErB,OAAF,CAAYqB,GAAErB,OAAF,IAZ4B,CAaxCqB,GAAErB,OAAF,CAAUnB,WAAV,CAAwBlF,EAbgB,EAetCA,EAfsC,GAgBxCA,GAAEqG,OAAF,CAAYrG,GAAEqG,OAAF,IAhB4B,CAiBxCrG,GAAEqG,OAAF,CAAUd,eAAV,CAA4BmC,EAjBY,EAsB1C7I,GAAKwH,OAAL,CAAa/C,UAAb,CAA0BzE,GAAKwH,OAAL,CAAad,eAAb,CACxB1G,GAAKwH,OAAL,CAAanB,WAAb,OAvBwC,CAwBtCoB,EAAY4B,EAAZ,CAAuB,YAAvB,CAxBsC,GA0BxCA,GAAU7B,OAAV,CAAkB1B,UAAlB,CAA+B,IA1BS,CA4B3C,CA+BD,QAASiE,EAAT,CAAiBV,EAAjB,CAA4BrJ,EAA5B,CAAkCsJ,EAAlC,CAA4C,CAC1C,GAAIU,IAAYjK,EAAsBsJ,EAAtB,CAAhB,CACIY,EADJ,CAEID,EAHsC,GAMpChK,GAAKkK,kBAAL,EAA2B,CAACF,GAAUG,cANF,GAOtCH,GAAUI,0BAAV,GAPsC,EAYxCH,GAAUI,GAAwBrK,EAAxB,CAA8BqJ,EAA9B,CAAyCW,EAAzC,CAZ8B,CAcpCC,EAdoC,GAetCD,GAAUI,0BAAV,GAfsC,GAkBtC3C,EAAY4B,EAAZ,CAAuB,YAAvB,CAlBsC,EAmBxCD,EAAmBpJ,EAAnB,CAAyBqJ,EAAzB,CAAoCC,EAApC,CAnBwC,CAwB1C,GAAIgB,IAAUC,GAAiBvK,EAAjB,CAAuBqJ,EAAvB,CAAkCW,EAAlC,CAA6CC,EAA7C,GACZZ,GAAUmB,SADZ,CAEA,MAAOF,GACR,CAMD,QAASG,EAAT,CAAoBzK,EAApB,CAA0B,CAExB,GAEI0K,GAFJ,CAAIC,GAAgBlD,EAAYzH,EAAZ,CAAkB,YAAlB,GAClBsH,EAAYtH,EAAZ,CAAkB,YAAlB,CADF,CAGIgK,GAAYjK,EAAsBC,EAAtB,CAHhB,CAIA,GAAI2K,IAAiBX,EAArB,CAAgC,CAE9BU,GAAcE,GAAsB5K,EAAtB,CAFgB,CAG1B2K,EAH0B,EAI5Bb,EAAkB9J,EAAlB,CAAwB2K,EAAxB,CAJ4B,CAO9B,GAAIE,IAAqBb,IACvBc,GAA2Bd,EAA3B,CAAsChK,EAAtC,CADF,CAEI+K,GAAuBJ,IAAiBX,EAAjB,EACzBW,GAAc5F,SAAd,GAA4BiF,GAAUgB,oBAAV,EAH9B,CAP8B,CAW1BH,IAAsBE,EAXI,IAY5Bf,GAAUI,0BAAV,GAZ4B,CAa5Ba,GAA2BjB,EAA3B,CAb4B,CAe/B,CAED,MADAkB,IAAsBlL,EAAtB,CACA,CAAO0K,EACR,CAGD,QAASS,EAAT,CAA2BnL,EAA3B,CAAiCoL,EAAjC,CAA4CC,EAA5C,CAAyD,CACvD,GAAIC,IAAWtL,GAAKwH,OAAL,EAAgBxH,GAAKwH,OAAL,CAAa8D,QAA5C,CACIA,EAFmD,GAGjDF,EAHiD,EAInDE,GAASjI,UAAT,CAAoBZ,IAApB,CAAyB2I,EAAzB,CAJmD,CAMjDC,EANiD,EAOnDC,GAASC,YAAT,CAAsB9I,IAAtB,CAA2B4I,EAA3B,CAPmD,CASrDC,GAASE,QAAT,EATqD,CAWxD,CAED,QAASC,EAAT,CAA8BzL,EAA9B,CAAoC0L,EAApC,CAA4C,OACtCA,GADsC,EAExCP,EAAkBO,EAAlB,CAA0B,IAA1B,CAAgC1L,EAAhC,CAFwC,CAGjCyK,EAAWzK,EAAX,CAHiC,MAKxCkL,IAAsBlL,EAAtB,CAEH,CAED,QAAS2L,EAAT,CAA6B3L,EAA7B,CAAmC,CACjC,QAAeA,GAAK4L,gBAAL,SAAf,CACD,CAED,QAAS1L,GAAT,CAAqBF,EAArB,CAA2B,CACzB,GAAKA,EAAD,EAAUA,GAAK2E,QAAnB,EAGA,GAAI1E,IAAOD,GAAK4L,gBAAhB,CACA,GAAI,WAAJ,CAAwB,CACtB,GAAIhM,EAAYI,EAAZ,CAAJ,CACEC,GAAOD,EADT,KAEO,CACL,GAAI0L,IAAS1L,GAAKyE,UAAlB,CACAxE,GAAOyL,GAASxL,GAAYwL,EAAZ,CAAT,CAA+B1L,EACvC,CAMGiH,SAAS4E,eAAT,CAAyBrD,QAAzB,CAAkCxI,EAAlC,CAZkB,GAapBA,GAAK4L,gBAAL,CAAwB3L,EAbJ,CAevB,CACD,MAAOA,GApBP,CAqBD,CAED,QAASsK,GAAT,CAA0BvK,EAA1B,CAAgCqJ,EAAhC,CAA2CW,EAA3C,CAAsDC,EAAtD,CAA+D,CAO7D,GAAI6B,IAAoB9B,IAAaA,GAAUgB,oBAAV,EAAb,EAAiD,EAAzE,CACIe,GAAe/L,GAAK2E,QAAL,GAAkBC,KAAK4E,sBAAxB,EAChB,CAACxJ,GAAKkK,kBADU,EAEhB4B,EAFgB,EAEK9L,GAAKgM,aAAL,CAAmBF,EAAnB,CAHvB,CAIIG,GAAiBF,IAClBA,GAAYtH,UAAZ,CAAuBE,QAAvB,GACDC,KAAK4E,sBANP,CAOI0C,GAAaH,IAAgB/L,GAAK+E,SAAL,GAAmB+G,EAPpD,CAP6D,CAqBzDI,IAAe7C,GAAUtE,SAAV,GAAwB+G,EAAvC,EAA6D7B,EArBJ,GAsBvDD,EAtBuD,EAyBzDiB,GAA2BjB,EAA3B,CAzByD,CA4B7D,GAAImC,IAAYC,GAAuB/C,EAAvB,CAAhB,CASA,MARI8C,GAQJ,EAPElB,GAA2B5B,GAAUmB,SAArC,CAOF,CAAO2B,IAAcD,IAAc,CAACD,EACrC,CAID,QAAS5B,GAAT,CAAiCrK,EAAjC,CAAuC0L,EAAvC,CAA+CzL,EAA/C,CAAqD,CACnD,GAAIoM,GAAJ,CACIP,GAAoB7L,GAAK+K,oBAAL,EADxB,CAEA,GAAIhL,GAAK2E,QAAL,GAAkBC,KAAK4E,sBAAvB,EACF,CAACxJ,GAAKkK,kBADR,CAC4B,CAC1B,GAAIrE,IAAK7F,GAAKsM,gBAAL,CAAsBR,EAAtB,CAAT,CACA,IAAK,GAAS3K,GAAT,CAAYoL,EAAZ,CAAgBC,EAAhB,CAAIpL,GAAE,CAAX,CAA0BA,GAAEyE,GAAGxE,MAAN,GAAkBF,GAAE0E,GAAGzE,EAAH,CAApB,CAAzB,CAAqDA,IAArD,CACEmL,GAAKpL,GAAEsD,UADT,CAGM8H,KAAOvM,EAHb,GAIIuM,GAAKb,EAJT,EAMEc,GAAKnC,GAAwBlJ,EAAxB,CAA2BoL,EAA3B,CAA+BtM,EAA/B,CANP,CAOEoM,GAAQA,IAASG,EAEpB,CAZD,IAYWxM,IAAK+E,SAAL,GAAmB+G,EAZ9B,GAaEW,GAAiBf,EAAjB,CAbF,CAcEe,GAAiBzM,EAAjB,CAdF,CAeEqM,KAfF,EAiBA,MAAOA,GACR,CAED,QAASD,GAAT,CAAgCpM,EAAhC,CAAsC,CACpC,MAAOA,KAAQA,GAAKwK,SAAb,EACLxK,GAAKwK,SAAL,CAAekC,iBAAf,EACH,CAED,QAAS5B,GAAT,CAAoC7K,EAApC,CAA0CoJ,EAA1C,CAAqD,CACnD,GAAIsD,GAAJ,CACIC,GAAM3M,GAAK4M,gBADf,CAEA,IAAK,GAAIzL,IAAE,CAAX,CAAcA,GAAEwL,GAAIvL,MAApB,CAA4BD,IAA5B,CAAiC,CAC/B,GAAI0L,IAAiBF,GAAIxL,EAAJ,CAArB,CACA,GAAI2L,GAAU1D,EAAV,CAAqByD,EAArB,CAAJ,CAA0C,CACxC,GAAIE,IAAMF,GAAeG,aAAf,CAA6B,CAACC,UAAD,CAA7B,CAAV,CACA,IAAK,GAAIC,IAAE,CAAX,CAAcA,GAAEH,GAAI3L,MAApB,CAA4B8L,IAA5B,CAAiC,CAC/BR,KAD+B,CAE/B,GAAI3M,IAAOgN,GAAIG,EAAJ,CAAX,CACIzB,GAASjH,EAAWzE,EAAX,CADb,CAEI0L,EAJ2B,EAK7B5D,GAAYvH,IAAZ,CAAiBmL,EAAjB,CAAyB1L,EAAzB,CAEH,CACF,CACF,CACD,MAAO2M,GACR,CAED,QAASI,GAAT,CAAmB1D,EAAnB,CAA8BrJ,EAA9B,CAAoC,MAC3BA,EAD2B,EACrB,CACX,GAAIA,IAAQqJ,EAAZ,CACE,SAEFrJ,GAAOA,GAAKyE,UACb,CACF,CAED,QAASyG,GAAT,CAA+BlL,EAA/B,CAAqC,CAEnC,GAAI2L,EAAoB3L,EAApB,CAAJ,CAA+B,CAC7B,GAAI6F,IAAK7F,GAAK8F,UAAd,CACA,IAAK,GAAsB3E,GAAtB,CAAIC,GAAE,CAAN,CAAS4E,GAAEH,GAAGxE,MAAnB,CAA+BD,GAAE4E,EAAH,GAAU7E,GAAE0E,GAAGzE,EAAH,CAAZ,CAA9B,CAAkDA,IAAlD,CACE8J,GAAsB/J,EAAtB,CAEH,CACDnB,GAAK4L,gBAAL,OACD,CAKD,QAASwB,GAAT,CAA2BN,EAA3B,CAA2C,CACzC,GAAI7L,IAAK6L,GAAeG,aAAf,CAA6B,CAACC,UAAD,CAA7B,CAAT,CACIjN,GAAOC,GAAY4M,EAAZ,CADX,CAEA,IAAK,GAAsB3L,GAAtB,CAAIC,GAAE,CAAN,CAAS4E,GAAE/E,GAAGI,MAAnB,CAA+BD,GAAE4E,EAAH,GAAU7E,GAAEF,GAAGG,EAAH,CAAZ,CAA9B,CAAkDA,IAAlD,CAEE,GAAInB,GAAKoN,kBAAL,CAAwBP,EAAxB,CAAwC3L,EAAxC,CAAJ,CACE,MAAOA,GAGZ,CAED,QAASyJ,GAAT,CAA+B5K,EAA/B,CAAqC,CACnC,GAAI0L,IAAS1L,GAAKyE,UAAlB,CACA,GAAI2H,GAAuBV,EAAvB,CAAJ,CAEE,MADAT,IAA2BS,GAAOlB,SAAlC,CACA,GAEH,CAED,QAASS,GAAT,CAAoChL,EAApC,CAA0C,CAExCA,GAAKkK,cAAL,GAFwC,CAGxClK,GAAKqN,MAAL,EACD,CAED,QAASC,GAAT,CAAmCvN,EAAnC,CAAyCS,EAAzC,CAA+C,CAC7C,GAAa,MAAT,KAAJ,CACEmK,GAAsB5K,EAAtB,CADF,KAEO,IAAuB,MAAnB,MAAK+E,SAAL,EAAsC,MAAT,KAAjC,CAAkD,CACvD,GAAI9E,IAAOF,EAAsBC,EAAtB,CAAX,CACIC,EAFmD,EAGrDA,GAAKqN,MAAL,EAEH,CACF,CAKD,QAASE,GAAT,CAAexN,EAAf,CAAqByN,EAArB,CAA8BC,EAA9B,CAAsC,CACpC,GAAIC,MAAJ,CAGA,MAFAC,IAAe5N,GAAK8F,UAApB,CAAgC2H,EAAhC,CACEC,EADF,CACUC,EADV,CAEA,CAAOA,EACR,CAED,QAASC,GAAT,CAAwBC,EAAxB,CAAkCJ,EAAlC,CAA2CC,EAA3C,CAAmDC,EAAnD,CAAyD,CACvD,IAAK,GAA4B7J,GAA5B,CAAI1C,GAAE,CAAN,CAAS4E,GAAE6H,GAASxM,MAAzB,CAAqCD,GAAE4E,EAAH,GAAUlC,GAAE+J,GAASzM,EAAT,CAAZ,CAApC,CAA8DA,IAA9D,CACE,GAAI0C,GAAEa,QAAF,GAAeC,KAAKC,YAApB,EACAiJ,GAAchK,EAAd,CAAiB2J,EAAjB,CAA0BC,EAA1B,CAAkCC,EAAlC,CADJ,CAEE,QAGL,CAED,QAASG,GAAT,CAAuB9N,EAAvB,CAA6ByN,EAA7B,CAAsCC,EAAtC,CAA8CC,EAA9C,CAAoD,CAClD,GAAII,IAASN,GAAQzN,EAAR,CAAb,CADkD,MAE9C+N,GAF8C,EAGhDJ,GAAKlL,IAAL,CAAUzC,EAAV,CAHgD,CAK9C0N,IAAUA,GAAOK,EAAP,CALoC,CAMzCA,EANyC,KAQlDH,IAAe5N,GAAK8F,UAApB,CAAgC2H,EAAhC,CACEC,EADF,CACUC,EADV,CAED,CAED,QAASK,GAAT,CAAwB5N,EAAxB,CAAiC,CAC/B,GAAIH,IAAOG,GAAQF,WAAR,EAAX,CACIN,EAAYK,EAAZ,CAF2B,EAG7BA,GAAKgO,MAAL,EAEH,CAED,QAASC,GAAT,CAAwBlO,EAAxB,CAA8BkF,EAA9B,CAAoCxB,EAApC,CAA2C,CAErC+B,OAAO0I,QAAP,EAA4B,OAAT,KAAnB,EAAuCnO,GAAKoO,aAAL,GAAuBnH,QAFzB,CAGvCxB,OAAO0I,QAAP,CAAgBE,eAAhB,CAAgCrO,EAAhC,CAAsC0D,EAAtC,CAHuC,EAKvC4K,GAAa/N,IAAb,CAAkBP,EAAlB,CAAwBkF,EAAxB,CAA8BxB,EAA9B,CALuC,CAMvC6J,GAA0BvN,EAA1B,CAAgCkF,EAAhC,CANuC,CAQ1C,CAED,QAASqJ,GAAT,CAA2BvO,EAA3B,CAAiCkF,EAAjC,CAAuC,CACrCsJ,GAAgBjO,IAAhB,CAAqBP,EAArB,CAA2BkF,EAA3B,CADqC,CAErCqI,GAA0BvN,EAA1B,CAAgCkF,EAAhC,CACD,CAQD,QAASuJ,GAAT,CAAwB/C,EAAxB,CAAgC1L,EAAhC,CAAsCsJ,EAAtC,CAAgD,CAC9C,GAAIA,EAAJ,CAAc,CACZ,GAAIT,IAAIvB,EAAYgC,EAAZ,CAAsB,YAAtB,CAAR,CACA,GAAI,aAAmBT,KAAM6C,EAA7B,CACE,KAAM5I,wEAGT,CAED,GAAI9C,GAAK2E,QAAL,GAAkBC,KAAK4E,sBAA3B,CAAmD,CACjD,GAAIkC,IAASpE,EAAYtH,EAAZ,CAAkB,YAAlB,CAAb,CACI0L,EAF6C,CAG/CD,EAAqBzL,EAArB,CAA2B0L,EAA3B,CAH+C,CAItC1L,GAAKyE,UAJiC,EAK/CqD,GAAYvH,IAAZ,CAAiBP,GAAKyE,UAAtB,CAAkCzE,EAAlC,CAEH,CACD,GAAI,CAAC+J,EAAQ2B,EAAR,CAAgB1L,EAAhB,CAAsBsJ,EAAtB,CAAL,CAAsC,CACpC,GAAIA,EAAJ,CAAc,CAEZ,GAAIrJ,IAAOF,EAAsBuJ,EAAtB,CAAX,CACIrJ,EAHQ,GAIVqJ,GAAWA,GAASvE,SAAT,GAAuB9E,GAAK+K,oBAAL,EAAvB,CACToC,GAAkB9D,EAAlB,CADS,CACqBA,EALtB,CAOb,CAED,GAAID,IAAYzJ,EAAY8L,EAAZ,EACdA,GAAOnD,IADO,CACAmD,EADhB,CAEIpC,EAZgC,CAalCoF,GAAanO,IAAb,CAAkB8I,EAAlB,CAA6BrJ,EAA7B,CAAmCsJ,EAAnC,CAbkC,CAelCqF,GAAYpO,IAAZ,CAAiB8I,EAAjB,CAA4BrJ,EAA5B,CAEH,CAED,MADAmL,GAAkBO,EAAlB,CAA0B1L,EAA1B,CACA,CAAOA,EACR,CAMD,QAAS4O,GAAT,CAAuBlD,EAAvB,CAA+B1L,EAA/B,CAAqC,CACnC,GAAIA,GAAKyE,UAAL,GAAoBiH,EAAxB,CACE,KAAM5I,OAAM,uDACV9C,EADI,CAAN,CAGF,GAAI,CAACyK,EAAWzK,EAAX,CAAL,CAAuB,CAErB,GAAIqJ,IAAYzJ,EAAY8L,EAAZ,EACdA,GAAOnD,IADO,CAEdmD,EAFF,CAKImD,GAAepK,EAAWzE,EAAX,CALnB,CAMIqJ,KAAcwF,EARG,EASnB/G,GAAYvH,IAAZ,CAAiB8I,EAAjB,CAA4BrJ,EAA5B,CAEH,CAED,MADAmL,GAAkBO,EAAlB,CAA0B,IAA1B,CAAgC1L,EAAhC,CACA,CAAOA,EACR,CAED,QAAS8O,GAAT,CAAqB9O,EAArB,CAA2B+O,EAA3B,CAAiC,CAC/B,GAAsB,UAAlB,KAAKhK,SAAT,CACE,MAAOiK,IAAUzO,IAAV,CAAeP,EAAf,CAAqB+O,EAArB,CAAP,CAEA,GAAI5N,IAAI6N,GAAUzO,IAAV,CAAeP,EAAf,IAAR,CACA,GAAI+O,EAAJ,CAAU,CACR,GAAIlJ,IAAK7F,GAAK8F,UAAd,CACA,IAAK,GAASmJ,GAAT,CAAI7N,GAAE,CAAX,CAAkBA,GAAIyE,GAAGxE,MAAzB,CAAiCD,IAAjC,CACE6N,GAAKpJ,GAAGzE,EAAH,EAAM4N,SAAN,IADP,CAEE7N,GAAEwN,WAAF,CAAcM,EAAd,CAEH,CACD,MAAO9N,GAEV,CAOD,QAAS+N,GAAT,CAAsBlP,EAAtB,CAA4B+O,EAA5B,CAAkCI,EAAlC,CAAoD,CAIlD,GAHKA,EAGL,GAFEA,GAAmBC,EAErB,EAAIpP,GAAKoO,aAAL,GAAuBnH,QAA3B,CACE,MAAOkI,IAAiB5O,IAAjB,CAAsB0G,QAAtB,CAAgCjH,EAAhC,CAAsC+O,EAAtC,CAAP,CAEF,GAAI5N,IAAIgO,GAAiB5O,IAAjB,CAAsB0G,QAAtB,CAAgCjH,EAAhC,IAAR,CACA,GAAI+O,EAAJ,CAAU,CACR,GAAIlJ,IAAK7F,GAAK8F,UAAd,CACA,IAAK,GAASmJ,GAAT,CAAI7N,GAAE,CAAX,CAAkBA,GAAIyE,GAAGxE,MAAzB,CAAiCD,IAAjC,CACE6N,GAAKC,GAAarJ,GAAGzE,EAAH,CAAb,IAA0B+N,EAA1B,CADP,CAEEhO,GAAEwN,WAAF,CAAcM,EAAd,CAEH,CACD,MAAO9N,GACR,CA8DD,QAASkO,GAAT,CAAsBC,EAAtB,CAAiC5K,EAAjC,CAA2C,CACzC,GAAI6K,MAAJ,CACIC,GAAUF,EADd,CAEIG,GAAYH,KAAc7J,MAAd,CAAuBA,MAAvB,CAAgC6J,GAAUpP,WAAV,EAFhD,CADyC,KAIlCsP,EAJkC,EAKvCD,GAAa9M,IAAb,CAAkB+M,EAAlB,CALuC,CAOrCA,EAPqC,CAMnCA,GAAQE,YAN2B,CAO3BF,GAAQE,YAPmB,CAQ5BF,GAAQ7K,QAAR,GAAqBC,KAAK4E,sBAA1B,EAAoDgG,GAAQjH,IAA5D,GAAqE7D,IAAY8K,KAAYC,EAA7F,CAR4B,CAS3BD,GAAQjH,IATmB,CAW3BiH,GAAQ/K,UAXmB,CAkBzC,MAHI8K,IAAaA,GAAalO,MAAb,CAAsB,CAAnC,IAA0C4F,QAG9C,EAFEsI,GAAa9M,IAAb,CAAkBgD,MAAlB,CAEF,CAAO8J,EACR,CAED,QAASI,GAAT,CAAkBC,EAAlB,CAA2BC,EAA3B,CAAiC,CAC/B,GAAI,CAACjQ,CAAL,CACE,MAAOgQ,GAAP,CAIF,GAAIE,IAAcT,GAAaO,EAAb,IAAlB,CACIG,GAAKF,EADT,CAEA,IAAK,GAASG,GAAT,CAAmBC,EAAnB,CAA6BhQ,EAA7B,CAAmCiQ,EAAnC,CAAI9O,GAAE,CAAX,CAAiDA,GAAI2O,GAAG1O,MAAxD,CAAgED,IAAhE,CAOE,GANA4O,GAAWD,GAAG3O,EAAH,CAMX,CALAnB,GAAO+P,KAAavK,MAAb,CAAsBA,MAAtB,CAA+BuK,GAAS9P,WAAT,EAKtC,CAJID,IAASgQ,EAIb,GAHEC,GAAUJ,GAAYK,OAAZ,CAAoBlQ,EAApB,CAGZ,CAFEgQ,GAAWhQ,EAEb,EAAI,CAACL,EAAYK,EAAZ,CAAD,EAAgC,CAAC,CAAX,GAA1B,CACE,MAAO+P,GAGZ,CA6CD,QAASI,GAAT,CAA2BC,EAA3B,CAAiC,CAG/B,GAAIC,IAAQ,SAASC,EAAT,CAAeC,EAAf,CAAwB,CAClC,GAAIC,IAAQ,GAAIJ,GAAJ,CAASE,EAAT,CAAeC,EAAf,CAAZ,CAEA,MADAC,IAAMC,UAAN,CAAmBF,MAAmBA,GAAQ9L,QAC9C,CAAO+L,EACR,CAJD,CAQA,MAFAjP,GAAM8O,EAAN,CAAaD,EAAb,CAEA,CADAC,GAAMK,SAAN,CAAkBN,GAAKM,SACvB,CAAOL,EACR,CAOD,QAASM,GAAT,CAAsBH,EAAtB,CAA6BzQ,EAA7B,CAAmC6Q,EAAnC,CAA0C,CACxC,GAAIC,IAAK9Q,GAAK+Q,UAAL,EAAmB/Q,GAAK+Q,UAAL,CAAgBN,GAAMF,IAAtB,CAAnB,EACPvQ,GAAK+Q,UAAL,CAAgBN,GAAMF,IAAtB,EAA4BM,EAA5B,CADF,CAEA,GAAIC,EAAJ,CACE,IAAK,GAAWE,GAAX,CAAI5P,GAAI,CAAb,CAAqB4P,GAAKF,GAAG1P,EAAH,CAA1B,CAAkCA,IAAlC,CAEE,GADA4P,GAAGzQ,IAAH,CAAQP,EAAR,CAAcyQ,EAAd,CACA,CAAIA,GAAMQ,6BAAV,CACE,MAIP,CAED,QAASC,GAAT,CAAkCC,EAAlC,CAAqC,CACnC,GAAItB,IAAOsB,GAAE5B,YAAF,EAAX,CACIvP,EADJ,CAGAa,OAAOE,cAAP,CAAsBoQ,EAAtB,CAAyB,eAAzB,CAA0C,CACxCxJ,IAAK,UAAW,CACd,MAAO3H,GACR,CAHuC,CAIxC2D,eAJwC,CAA1C,CAJmC,CAUnC,IAAK,GAAIvC,IAAIyO,GAAKxO,MAAL,CAAc,CAA3B,CAAmC,CAAL,IAA9B,CAAsCD,IAAtC,CAIE,GAHApB,GAAO6P,GAAKzO,EAAL,CAGP,CADAwP,GAAaO,EAAb,CAAgBnR,EAAhB,CAAsB,SAAtB,CACA,CAAImR,GAAEC,oBAAN,CACE,OAKJvQ,OAAOE,cAAP,CAAsBoQ,EAAtB,CAAyB,YAAzB,CAAuC,CAACzN,MAAO2N,MAAMC,SAAd,CAAvC,CApBmC,CAwBnC,GAAIC,GAAJ,CACA,IAAK,GAAInQ,IAAI,CAAb,CAAgBA,GAAIyO,GAAKxO,MAAzB,CAAiCD,IAAjC,CAEE,GADApB,GAAO6P,GAAKzO,EAAL,CACP,EAAU,CAAN,OAAYpB,GAAKwR,UAAL,EAAmBxR,GAAKwR,UAAL,GAAoBD,EAAvD,IACEX,GAAaO,EAAb,CAAgBnR,EAAhB,CAAsB,QAAtB,CADF,CAGMA,KAASyF,MAHf,GAII8L,GAAgBvR,GAAKE,WAAL,EAJpB,EAMMiR,GAAEC,oBANR,EAOI,MAIP,CA8HD,QAASK,GAAT,EAAuC,CACrC,IAAK,GAAIC,GAAT,GAAeC,GAAf,CACElM,OAAOmM,gBAAP,CAAwBF,EAAxB,CAA4B,SAASP,EAAT,CAAY,CACjCA,GAAEU,QAD+B,GAEpCV,GAAEU,QAAF,CAAaV,GAAExQ,MAFqB,CAGpCwQ,GAAEW,eAAF,CAAoBX,GAAEY,aAHc,CAIpCtQ,EAAe0P,EAAf,CAAkBa,EAAlB,CAJoC,CAKpCd,GAAyBC,EAAzB,CALoC,CAMpCA,GAAEc,wBAAF,EANoC,CAQvC,CARD,IAUH,CAMD,QAASC,GAAT,EAAuB,CACrBzM,OAAO4L,KAAP,CAAec,EADM,CAErB1M,OAAO2M,WAAP,CAAqBC,EAFA,CAGrB5M,OAAO6M,UAAP,CAAoBC,EAHC,CAIrBd,IACD,CAYD,QAASe,GAAT,CAAmBC,EAAnB,CAA0BC,EAA1B,CAAmCC,EAAnC,CAA+C,CAC7C,MAAO,CACLF,MAAOA,EADF,CAELC,QAASA,EAFJ,CAGLC,WAAYA,EAHP,CAKR,CAmdD,QAASC,GAAT,CAAsBrK,EAAtB,CAA4BiI,EAA5B,CAAqC,CACnC,GAAI,CAACjI,EAAL,CACE,KAAM,sBAAN,CAEF,GAAI,CAACiI,EAAL,CACE,KAAM,uBAAN,CAIF,GAAIgB,IAAavK,SAAS4L,sBAAT,EAAjB,CAGA,MAFArB,IAAWvP,SAAX,CAAuB6Q,EAEvB,CADAtB,GAAWuB,KAAX,CAAiBxK,EAAjB,CACA,CAAOiJ,EACR,CA8OD,QAASwB,GAAT,CAAyBhT,EAAzB,CAA+B,CAE7B,MADAgO,IAAehO,EAAf,CACA,CAAOsH,EAAYtH,EAAZ,CAAkB,cAAlB,GAAqC,IAC7C,CAwHD,QAASiT,GAAT,CAAsBvR,EAAtB,CAA6B7B,EAA7B,CAAkC,CAChC,GAAIoB,IAAKJ,OAAOK,mBAAP,CAA2BrB,EAA3B,CAAT,CACA,IAAK,GAAIuB,IAAE,CAAX,CAAcA,GAAIH,GAAGI,MAArB,CAA6BD,IAA7B,CAAkC,CAChC,GAAID,IAAIF,GAAGG,EAAH,CAAR,CACI8R,GAAIrS,OAAOC,wBAAP,CAAgCjB,EAAhC,CAAqCsB,EAArC,CADR,CAKI+R,GAAExP,KAN0B,CAO9BhC,GAAMP,EAAN,EAAW+R,GAAExP,KAPiB,CAS9B7C,OAAOE,cAAP,CAAsBW,EAAtB,CAA6BP,EAA7B,CAAgC+R,EAAhC,CAEH,CACF,CAUD,QAASC,GAAT,EAAyB,CAEvBF,GAAaxN,OAAOb,IAAP,CAAY+L,SAAzB,CAAoCyC,EAApC,CAFuB,CAGvBH,GAAaxN,OAAO4N,IAAP,CAAY1C,SAAzB,CAAoC2C,EAApC,CAHuB,CAIvBL,GAAaxN,OAAO8N,gBAAP,CAAwB5C,SAArC,CAAgD6C,EAAhD,CAJuB,CAKvBP,GAAaxN,OAAOgO,OAAP,CAAe9C,SAA5B,CAAuC+C,EAAvC,CALuB,CAMvBT,GAAaxN,OAAOkO,QAAP,CAAgBhD,SAA7B,CAAwCiD,EAAxC,CANuB,CAUvB,GAAIC,IAAqB5M,SAASmI,UAAlC,CAYA,GAXAnI,SAASmI,UAAT,CAAsB,SAASpP,EAAT,CAAe+O,EAAf,CAAqB,CACzC,MAAOG,IAAalP,EAAb,CAAmB+O,EAAnB,CAAyB8E,EAAzB,CACR,CASD,CARIpO,OAAOqO,eAQX,EAPEb,GAAaxN,OAAOqO,eAAP,CAAuBnD,SAApC,CAA+CoD,EAA/C,CAOF,CAAI9L,GAASC,cAAb,CAA6B,CAC3Bc,EAAevD,OAAOb,IAAP,CAAY+L,SAA3B,CAD2B,CAE3B3H,EAAevD,OAAO4N,IAAP,CAAY1C,SAA3B,CAF2B,CAG3B3H,EAAevD,OAAO8N,gBAAP,CAAwB5C,SAAvC,CAH2B,CAI3B3H,EAAevD,OAAOgO,OAAP,CAAe9C,SAA9B,CAJ2B,CAK3B,GAAIqD,IACDvO,OAAOwO,cAAP,EAAyBA,eAAeD,iBAAzC,EACAE,WAFF,CAGAlL,EAAegL,GAAkBrD,SAAjC,CAR2B,CAS3B3H,EAAevD,OAAOkO,QAAP,CAAgBhD,SAA/B,CAT2B,CAUvBlL,OAAOqO,eAVgB,EAWzB9K,EAAevD,OAAOqO,eAAP,CAAuBnD,SAAtC,CAEH,CACF,CAzpFD,GAAI1I,IAAWxC,OAAO0O,QAAP,IAAf,CAEAlM,GAASmM,kBAAT,IAAsCX,QAAQ9C,SAAR,CAAkBiC,YAAlB,EAAkChO,KAAK+L,SAAL,CAAezQ,WAAvF,CAfa,CAiBb,GAAImU,IAAOxT,OAAOC,wBAAP,CAAgC8D,KAAK+L,SAArC,CAAgD,YAAhD,CAAX,CAEA1I,GAASC,cAAT,IAAkCmM,IAAQA,GAAK1Q,YAAb,EAA6B0Q,GAAK1M,GAApE,CAnBa,CAoBbM,GAASqM,KAAT,CAAiBrM,GAASW,KAAT,EAAkB,CAACX,GAASmM,kBApBhC,CAiCb,GAAIvL,IAAI4K,QAAQ9C,SAAhB,CACIrQ,GAAUuI,GAAEvI,OAAF,EAAauI,GAAE1I,eAAf,EACZ0I,GAAE0L,kBADU,EACY1L,GAAE2L,iBADd,EAEZ3L,GAAE4L,gBAFU,EAEU5L,GAAE6L,qBAH1B,CAqDIrS,EArDJ,CAsDA,GAAIoD,OAAOkP,OAAX,CACEtS,GAAUsS,QAAQC,OAAR,EADZ,KAEO,CACL,GAAIC,IAAU5N,SAAS6N,cAAT,CAAwB,EAAxB,CAAd,CACIlP,GAAU,CADd,CAEAvD,GAAU,CACRC,KAAKyS,EAAL,CAAS,CAGP,GAAIzJ,IAAW,GAAI0J,iBAAJ,CAAqB,UAAW,CAC7C1J,GAAS2J,UAAT,EAD6C,CAE7CF,IACD,CAHc,CAAf,CAIAzJ,GAAS4J,OAAT,CAAiBL,EAAjB,CAA0B,CAACM,gBAAD,CAA1B,CAPO,CAQPN,GAAQ/N,WAAR,CAAsBlB,IACvB,CAVO,CAYX,CAaD,GAAIhD,IAAmB6C,OAAOwO,cAA9B,CACIzR,KADJ,CAEIJ,EAFJ,CAGIM,GAAa,CAHjB,CAiCAH,EAAMoL,IAAN,CAAanL,EAtJA,CAkKb,KAAM4S,GAAc,CAElBC,aAAc,CACZ,KAAKC,UAAL,GADY,CAEZ,KAAKjS,UAAL,GAFY,CAGZ,KAAKkI,YAAL,GAHY,CAIZ,KAAKgK,SAAL,CAAiB,GAAIC,IACtB,CAEDhK,UAAW,CACJ,KAAK8J,UADD,GAEP,KAAKA,UAAL,GAFO,CAGPjT,GAAQC,IAAR,CAAa,IAAM,CACjB,KAAKC,KAAL,EACD,CAFD,CAHO,CAOV,CAEDA,OAAQ,CACN,GAAI,KAAK+S,UAAT,CAAqB,CACnB,KAAKA,UAAL,GADmB,CAEnB,GAAItS,IAAY,KAAKyS,WAAL,EAAhB,CACIzS,GAAU3B,MAHK,EAIjB,KAAKkU,SAAL,CAAeG,OAAf,CAAuB,SAASX,EAAT,CAAa,CAClCA,GAAG/R,EAAH,CACD,CAFD,CAIH,CACF,CAEDyS,aAAc,CACZ,GAAI,KAAKpS,UAAL,CAAgBhC,MAAhB,EAA0B,KAAKkK,YAAL,CAAkBlK,MAAhD,CAAwD,CACtD,GAAI2B,IAAY,CAAC,CACfK,WAAY,KAAKA,UADF,CAEfkI,aAAc,KAAKA,YAFJ,CAAD,CAAhB,CAMA,MAFA,MAAKlI,UAAL,GAEA,CADA,KAAKkI,YAAL,GACA,CAAOvI,EACR,CACD,QACD,CAzCiB,CAkDpB,GAAI2S,IAAkB,SAAS3V,EAAT,CAAemC,EAAf,CAAyB,CAC7CnC,GAAKwH,OAAL,CAAexH,GAAKwH,OAAL,IAD8B,CAExCxH,GAAKwH,OAAL,CAAa8D,QAF2B,GAG3CtL,GAAKwH,OAAL,CAAa8D,QAAb,CAAwB,GAAI8J,GAHe,EAK7CpV,GAAKwH,OAAL,CAAa8D,QAAb,CAAsBiK,SAAtB,CAAgCK,GAAhC,CAAoCzT,EAApC,CAL6C,CAM7C,GAAImJ,IAAWtL,GAAKwH,OAAL,CAAa8D,QAA5B,CACA,MAAO,CACLuK,UAAW1T,EADN,CAEL2T,UAAWxK,EAFN,CAGLyK,MAAO/V,EAHF,CAILyV,aAAc,CACZ,MAAOnK,IAASmK,WAAT,EACR,CANI,CAQR,CAfD,CAiBIO,GAAoB,SAASC,EAAT,CAAiB,CACvC,GAAI3K,IAAW2K,IAAUA,GAAOH,SAAhC,CACIxK,EAFmC,GAGrCA,GAASiK,SAAT,CAAmBW,MAAnB,CAA0BD,GAAOJ,SAAjC,CAHqC,CAIjC,CAACvK,GAASiK,SAAT,CAAmBY,IAJa,GAKnCF,GAAOF,KAAP,CAAavO,OAAb,CAAqB8D,QAArB,CAAgC,IALG,EAQxC,CAzBD,CA2DIqD,GAAc8E,QAAQ9C,SAAR,CAAkBhC,WA3DpC,CA4DID,GAAe+E,QAAQ9C,SAAR,CAAkBjC,YA5DrC,CA6DI5G,GAAc2L,QAAQ9C,SAAR,CAAkB7I,WA7DpC,CA8DIwG,GAAemF,QAAQ9C,SAAR,CAAkBrC,YA9DrC,CA+DIE,GAAkBiF,QAAQ9C,SAAR,CAAkBnC,eA/DxC,CAgEIQ,GAAYyE,QAAQ9C,SAAR,CAAkB3B,SAhElC,CAiEII,GAAauE,SAAShD,SAAT,CAAmBvB,UAjEpC,CAkEIwC,GAAmB6B,QAAQ9C,SAAR,CAAkBiB,gBAlEzC,CAmEIwE,GAAsB3C,QAAQ9C,SAAR,CAAkByF,mBAnE5C,CAsEA,GAAIC,IAAgBxV,OAAOyV,MAAP,CAAc,CACjC3H,YAAaA,EADoB,CAEjCD,aAAcA,EAFmB,CAGjC5G,YAAaA,EAHoB,CAIjCwG,aAAcA,EAJmB,CAKjCE,gBAAiBA,EALgB,CAMjCQ,UAAWA,EANsB,CAOjCI,WAAYA,EAPqB,CAQjCwC,iBAAkBA,EARe,CASjCwE,oBAAqBA,EATY,CAAd,CAApB,CA4BA,GAAIlS,IAAmB,aAAvB,CACIE,GAAmB,cADvB,CAmCIe,GAAed,wHAnCnB,CAsDIkB,GAAmBlB,gFAtDvB,CAuHI4B,GAAagB,SAASC,gBAAT,CAA0BD,QAA1B,CAAoCE,WAAWoP,QAA/C,CACf,IADe,IAvHjB,CA0HIhQ,GAAgBU,SAASC,gBAAT,CAA0BD,QAA1B,CAAoCE,WAAWqP,YAA/C,CAClB,IADkB,IA1HpB,CAwNA,GAAI5O,IAAa/G,OAAOyV,MAAP,CAAc,CAC9B7R,WAAYA,CADkB,CAE9B0B,WAAYA,CAFkB,CAG9BC,UAAWA,CAHmB,CAI9BM,gBAhFD,SAAyB1G,EAAzB,CAA+B,CAE7B,MADAiG,IAAWC,WAAX,CAAyBlG,EACzB,CAAOiG,GAAWS,eAAX,EACR,CAyE8B,CAK9BL,YA5ED,SAAqBrG,EAArB,CAA2B,CAEzB,MADAiG,IAAWC,WAAX,CAAyBlG,EACzB,CAAOiG,GAAWI,WAAX,EACR,CAoE8B,CAM9BP,WAAYA,CANkB,CAO9B2Q,cA9DD,SAAuBzW,EAAvB,CAA6B,CAE3B,MADAuG,IAAcL,WAAd,CAA4BlG,EAC5B,CAAOuG,GAAc9B,UAAd,EACR,CAoD8B,CAQ9B6B,kBAAmBA,CARW,CAS9BE,iBAAkBA,CATY,CAU9BC,uBAAwBA,CAVM,CAW9BE,mBAAoBA,CAXU,CAY9BC,SAAUA,CAZoB,CAa9BC,UAAWA,CAbmB,CAc9BC,YAAaA,CAdiB,CAAd,CAAjB,CA6DA,KAAM4P,IACJ7V,OAAOC,wBAAP,CAAgC2S,QAAQ9C,SAAxC,CAAmD,WAAnD,GACA9P,OAAOC,wBAAP,CAAgCoT,YAAYvD,SAA5C,CAAuD,WAAvD,CAFF,CAIMgG,GAAW1P,SAAS2P,cAAT,CAAwBC,kBAAxB,CAA2C,OAA3C,CAJjB,CAKMC,GAAgBH,GAASI,aAAT,CAAuB,KAAvB,CALtB,CAOM/O,GAAgCnH,OAAOC,wBAAP,CACpC6S,SAAShD,SAD2B,CAChB,eADgB,CAPtC,CAuDA,GAAI1H,IAAmB,CAErBwN,cAAe/O,EAAyB,eAAzB,CAFM,CAIrBjD,WAAYiD,EAAyB,YAAzB,CAJS,CAMrBrB,YAAaqB,EAAyB,aAAzB,CANQ,CAQrBhB,gBAAiBgB,EAAyB,iBAAzB,CARI,CAUrBsP,UAAW,CACTrP,KAAM,CACJ,MAAO,MAAKsP,YAAL,CAAkB,OAAlB,CACR,CAHQ,CAIT1S,IAAIb,EAAJ,CAAW,CACT,KAAK4K,YAAL,CAAkB,OAAlB,CAA2B5K,EAA3B,CACD,CANQ,CAOTC,eAPS,CAVU,CAqBrBgD,mBAAoB,CAClBgB,KAAM,CACJ,GAAIF,EAAY,IAAZ,CAAkB,aAAlB,CAAJ,CAAsC,CACpC,GAAItG,IAAI,KAAKkF,WAAb,CADoC,KAE7BlF,IAAKA,GAAEwD,QAAF,GAAeC,KAAKC,YAFI,EAGlC1D,GAAIA,GAAEkF,WAAN,CAEF,MAAOlF,GACR,CACC,MAAOwF,GAAmB,IAAnB,CAEV,CAXiB,CAYlBhD,eAZkB,CArBC,CAoCrB8C,uBAAwB,CACtBkB,KAAM,CACJ,GAAIF,EAAY,IAAZ,CAAkB,iBAAlB,CAAJ,CAA0C,CACxC,GAAItG,IAAI,KAAKuF,eAAb,CADwC,KAEjCvF,IAAKA,GAAEwD,QAAF,GAAeC,KAAKC,YAFQ,EAGtC1D,GAAIA,GAAEuF,eAAN,CAEF,MAAOvF,GACR,CACC,MAAOsF,GAAuB,IAAvB,CAEV,CAXqB,CAYtB9C,eAZsB,CApCH,CAAvB,CAqDIuF,GAAkB,CAEpBpD,WAAY,CACV6B,KAAM,CACJ,GAAIF,EAAY,IAAZ,CAAkB,YAAlB,CAAJ,CAAqC,CACnC,GAAI,CAAC,KAAKD,OAAL,CAAa1B,UAAlB,CAA8B,CAC5B,KAAK0B,OAAL,CAAa1B,UAAb,GAD4B,CAE5B,IAAK,GAAI3E,IAAE,KAAKgF,UAAhB,CAA4BhF,EAA5B,CAA+BA,GAAEA,GAAEkF,WAAnC,CACE,KAAKmB,OAAL,CAAa1B,UAAb,CAAwBrD,IAAxB,CAA6BtB,EAA7B,CAEH,CACD,MAAO,MAAKqG,OAAL,CAAa1B,UACrB,CACC,MAAOA,GAAW,IAAX,CAEV,CAbS,CAcVnC,eAdU,CAFQ,CAmBpBwC,WAAYuB,EAAyB,YAAzB,CAnBQ,CAqBpBtB,UAAWsB,EAAyB,WAAzB,CArBS,CAuBpBZ,YAAa,CACXa,KAAM,CACJ,GAAIF,EAAY,IAAZ,CAAkB,YAAlB,CAAJ,CAAqC,CACnC,GAAIyP,MAAJ,CACA,IAAK,GAAiCpT,GAAjC,CAAI1C,GAAI,CAAR,CAAW+V,GAAK,KAAKrR,UAA1B,CAA0ChC,GAAIqT,GAAG/V,EAAH,CAA9C,CAAsDA,IAAtD,CACM0C,GAAEa,QAAF,GAAeC,KAAKY,YAD1B,EAEI0R,GAAGzU,IAAH,CAAQqB,GAAEgD,WAAV,CAFJ,CAKA,MAAOoQ,IAAGE,IAAH,CAAQ,EAAR,CACR,CACC,MAAOtQ,GAAY,IAAZ,CAEV,CAbU,CAcXvC,IAAI8S,EAAJ,CAAU,CACJ,KAAK1S,QAAL,GAAkBC,KAAKC,YADnB,EAKNgD,EAAU,IAAV,CALM,CAMFwP,EANE,EAOJ,KAAK1I,WAAL,CAAiB1H,SAAS6N,cAAT,CAAwBuC,EAAxB,CAAjB,CAPI,EAGN,KAAKtQ,SAAL,CAAiBsQ,EAOpB,CAxBU,CAyBX1T,eAzBW,CAvBO,CAoDpB2C,kBAAmB,CACjBqB,KAAM,CACJ,GAAIF,EAAY,IAAZ,CAAkB,YAAlB,CAAJ,CAAqC,CACnC,GAAItG,IAAI,KAAKgF,UAAb,CADmC,KAE5BhF,IAAKA,GAAEwD,QAAF,GAAeC,KAAKC,YAFG,EAGjC1D,GAAIA,GAAEkF,WAAN,CAEF,MAAOlF,GACR,CACC,MAAOmF,GAAkB,IAAlB,CAEV,CAXgB,CAYjB3C,eAZiB,CApDC,CAmEpB6C,iBAAkB,CAChBmB,KAAM,CACJ,GAAIF,EAAY,IAAZ,CAAkB,WAAlB,CAAJ,CAAoC,CAClC,GAAItG,IAAI,KAAKiF,SAAb,CADkC,KAE3BjF,IAAKA,GAAEwD,QAAF,GAAeC,KAAKC,YAFE,EAGhC1D,GAAIA,GAAEuF,eAAN,CAEF,MAAOvF,GACR,CACC,MAAOqF,GAAiB,IAAjB,CAEV,CAXe,CAYhB7C,eAZgB,CAnEE,CAkFpBiD,SAAU,CACRe,KAAM,OACAF,GAAY,IAAZ,CAAkB,YAAlB,CADA,CAEKlE,MAAMoN,SAAN,CAAgBlN,MAAhB,CAAuBlD,IAAvB,CAA4B,KAAKuF,UAAjC,CAA6C,SAAS3E,EAAT,CAAY,CAC9D,MAAQA,IAAEwD,QAAF,GAAeC,KAAKC,YAC7B,CAFM,CAFL,CAMK+B,EAAS,IAAT,CAEV,CATO,CAURjD,eAVQ,CAlFU,CAgGpBkD,UAAW,CACTc,KAAM,CACJ,GAAI/B,IAA6B,UAAnB,QAAKb,SAAL,CAAgC,KAAKa,OAArC,CAA+C,IAA7D,CADI,MAEA6B,GAAY,IAAZ,CAAkB,YAAlB,CAFA,CAGKrC,EAAaQ,EAAb,CAHL,CAKKiB,EAAUjB,EAAV,CAEV,CARQ,CASTrB,IAAI8S,EAAJ,CAAU,CACR,GAAIzR,IAA6B,UAAnB,QAAKb,SAAL,CAAgC,KAAKa,OAArC,CAA+C,IAA7D,CADQ,IAERiC,EAAUjC,EAAV,CAFQ,CAGJ8Q,IAAuBA,GAAoBnS,GAHvC,CAINmS,GAAoBnS,GAApB,CAAwBhE,IAAxB,CAA6BuW,EAA7B,CAA4CO,EAA5C,CAJM,CAMNP,GAAcjQ,SAAd,CAA0BwQ,EANpB,CAQDP,GAAc3Q,UARb,EASNP,GAAQ+I,WAAR,CAAoBmI,GAAc3Q,UAAlC,CAEH,CApBQ,CAqBTxC,eArBS,CAhGS,CArDtB,CAkLI2T,GAAqB,CACvB9F,WAAY,CACV7J,KAAM,CACJ,MAAO,MAAK6C,SACb,CAHS,CAIVjG,IAAIb,EAAJ,CAAW,CACT,KAAK8G,SAAL,CAAiB9G,EAClB,CANS,CAOVC,eAPU,CADW,CAlLzB,CAiMIwF,GAAwB,CAE1BhB,cAAe,CACbR,KAAM,CACJ,MAAOS,GAAqB,IAArB,CACR,CAHY,CAIb7D,KAAM,CAAE,CAJK,CAKbZ,eALa,CAFW,CAjM5B,CAyOIgG,GAA+B1B,GAASC,cAAT,CACjC,UAAW,CAAE,CADoB,CACjB,SAAS9H,EAAT,CAAkB,CAC1BA,GAAQoH,OAAR,EAAmBpH,GAAQoH,OAAR,CAAgB+P,kBADT,GAE9BnX,GAAQoH,OAAR,CAAkBpH,GAAQoH,OAAR,IAFY,CAG9BpH,GAAQoH,OAAR,CAAgB+P,kBAAhB,GAH8B,CAI9B7O,EAAmBtI,EAAnB,CAA4B6I,EAA5B,IAJ8B,CAMjC,CAhPH,CAmPIM,GAA8BtB,GAASC,cAAT,CAChC,UAAW,CAAE,CADmB,CAChB,SAAS9H,EAAT,CAAkB,CAC1BA,GAAQoH,OAAR,EAAmBpH,GAAQoH,OAAR,CAAgBgQ,iBADT,GAE9BpX,GAAQoH,OAAR,CAAkBpH,GAAQoH,OAAR,IAFY,CAG9BpH,GAAQoH,OAAR,CAAgBgQ,iBAAhB,GAH8B,CAI9B9O,EAAmBtI,EAAnB,CAA4B8I,EAA5B,IAJ8B,CAK9BR,EAAmBtI,EAAnB,CAA4BkX,EAA5B,IAL8B,CAOjC,CA3PH,CA+VI7K,GAAmB,SAASzM,EAAT,CAAe,CACpC,GAAI,CAACyH,EAAYzH,EAAZ,CAAkB,YAAlB,CAAL,CAAsC,CACpCA,GAAKwH,OAAL,CAAexH,GAAKwH,OAAL,IADqB,CAEpCxH,GAAKwH,OAAL,CAAarB,UAAb,CAA0BA,EAAWnG,EAAX,CAFU,CAGpCA,GAAKwH,OAAL,CAAapB,SAAb,CAAyBA,EAAUpG,EAAV,CAHW,CAIpCuJ,GAA4BvJ,EAA5B,CAJoC,CAKpC,GAAI6F,IAAK7F,GAAKwH,OAAL,CAAa1B,UAAb,CAA0BA,EAAW9F,EAAX,CAAnC,CACA,IAAK,GAASmB,GAAT,CAAIC,GAAE,CAAX,CAAkBA,GAAEyE,GAAGxE,MAAN,GAAkBF,GAAE0E,GAAGzE,EAAH,CAApB,CAAjB,CAA6CA,IAA7C,CACED,GAAEqG,OAAF,CAAYrG,GAAEqG,OAAF,IADd,CAEErG,GAAEqG,OAAF,CAAU/C,UAAV,CAAuBzE,EAFzB,CAGEmB,GAAEqG,OAAF,CAAUnB,WAAV,CAAwBR,GAAGzE,GAAE,CAAL,GAAW,IAHrC,CAIED,GAAEqG,OAAF,CAAUd,eAAV,CAA4Bb,GAAGzE,GAAE,CAAL,GAAW,IAJzC,CAKEuI,GAA6BxI,EAA7B,CAEH,CACF,CA9WD,CA4yBIsW,GAAiB,CACnBC,OADmB,CAEnBC,QAFmB,CAGnBC,UAHmB,CAInBC,WAJmB,CAKnBC,QALmB,CAMnBC,WANmB,CAOnBC,YAPmB,CAQnBC,aARmB,CASnBC,aATmB,CAUnBC,YAVmB,CAWnBC,WAXmB,CAYnBC,YAZmB,CAanBC,UAbmB,CAcnBC,QAdmB,CAenBC,cAfmB,CAgBnBC,QAhBmB,CAiBnBC,UAjBmB,CAkBnBC,QAlBmB,CAmBnBC,mBAnBmB,CAoBnBC,oBApBmB,CAqBnBC,iBArBmB,CAsBnBC,aAtBmB,CAuBnBC,WAvBmB,CAwBnBC,YAxBmB,CAyBnBC,cAzBmB,CA0BnBC,cA1BmB,CA2BnBC,eA3BmB,CA4BnBC,cA5BmB,CA6BnBC,cA7BmB,CA8BnBC,YA9BmB,CA+BnBC,gBA/BmB,CAgCnBC,aAhCmB,CAiCnBC,eAjCmB,CAkCnBC,oBAlCmB,CAmCnBC,qBAnCmB,CAoCnBC,YApCmB,CAqCnBC,OArCmB,CAsCnBC,YAtCmB,CAuCnBC,YAvCmB,CAwCnBC,WAxCmB,CAyCnBC,OAzCmB,CA0CnBC,UA1CmB,CA2CnBC,cA3CmB,CA4CnBC,aA5CmB,CA6CnBC,cA7CmB,CA8CnBC,WA9CmB,CA5yBrB,CAu4BIvI,GAAa,CAEf,GAAItN,SAAJ,EAAe,CAIb,MAHI,MAAK8V,SAAL,EAAkB,cAAK9J,UAG3B,GAFE,KAAKA,UAAL,CAAkB+G,GAAe,KAAKlH,IAApB,CAEpB,EAAO,KAAKG,UAAL,IACR,CAPc,CASfnB,cAAe,CAIb,MAHK,MAAKkL,cAGV,GAFE,KAAKA,cAAL,CAAsBpL,GAAa,KAAKwC,QAAlB,CAA4B,KAAKnN,QAAjC,CAExB,EAAO,KAAK+V,cACb,CAdc,CAgBf,GAAI9Z,OAAJ,EAAa,CACX,MAAOgP,IAAS,KAAK+K,aAAd,CAA6B,KAAKnL,YAAL,EAA7B,CACR,CAlBc,CAqBf,GAAIwC,cAAJ,EAAoB,OACb,MAAKD,eADQ,EAIb,KAAK6I,2BAJQ,GAKhB,KAAKA,2BAAL,CAAmCtL,GAAa,KAAKyC,eAAlB,IALnB,EAQXnC,GAAS,KAAK+K,aAAd,CAA6B,KAAKC,2BAAlC,CARW,EAET,IAOV,CA9Bc,CA+BfC,iBAAkB,CAChBvJ,MAAMV,SAAN,CAAgBiK,eAAhB,CAAgCra,IAAhC,CAAqC,IAArC,CADgB,CAEhB,KAAK6Q,oBAAL,GACD,CAlCc,CAmCfa,0BAA2B,CACzBZ,MAAMV,SAAN,CAAgBsB,wBAAhB,CAAyC1R,IAAzC,CAA8C,IAA9C,CADyB,CAEzB,KAAK0Q,6BAAL,GAFyB,CAGzB,KAAKG,oBAAL,GACD,CAvCc,CAv4BjB,CAg8BIO,GAA8B,CAChCgG,QADgC,CAEhCD,OAFgC,CAh8BlC,CAooCIvF,GAAe/B,GAAkB3K,OAAO4L,KAAzB,CApoCnB,CAqoCIgB,GAAqBjC,GAAkB3K,OAAO2M,WAAzB,CAroCzB,CAsoCIG,GAAoBnC,GAAkB3K,OAAO6M,UAAzB,CAtoCxB,CAiqCA,KAAMuI,IAAa,CAAnB,CACMC,GAAc,CADpB,CAEMC,GAAW,CAFjB,CAGMC,GAAc,CAHpB,CAKA,GAAIC,IAAc,CAahBC,kBAAkB1L,EAAlB,CAA2B2L,EAA3B,CAAyCC,EAAzC,CAC4BC,EAD5B,CACiCC,EADjC,CAC2CC,EAD3C,CACmD,CAEjD,GAAIC,IAAWD,GAASD,EAAT,CAAoB,CAAnC,CACIG,GAAcL,GAAaD,EAAb,CAA4B,CAD9C,CAEIO,GAAgBnY,KAAhB,CAAsBiY,EAAtB,CAFJ,CAKA,IAAK,GAAIpa,IAAI,CAAb,CAAgBA,GAAIoa,EAApB,CAA8Bpa,IAA9B,CACEsa,GAAUta,EAAV,EAAmBmC,KAAnB,CAAyBkY,EAAzB,CADF,CAEEC,GAAUta,EAAV,EAAa,CAAb,EAAkBA,EAFpB,CAMA,IAAK,GAAI+L,IAAI,CAAb,CAAgBA,GAAIsO,EAApB,CAAiCtO,IAAjC,CACEuO,GAAU,CAAV,EAAavO,EAAb,EAAkBA,EAAlB,CAEF,IAAK,GAAI/L,IAAI,CAAb,CAAgBA,GAAIoa,EAApB,CAA8Bpa,IAA9B,CACE,IAAK,GAAI+L,IAAI,CAAb,CAAgBA,GAAIsO,EAApB,CAAiCtO,IAAjC,CACE,GAAI,KAAKwO,MAAL,CAAYnM,GAAQ2L,GAAehO,EAAf,CAAmB,CAA3B,CAAZ,CAA2CkO,GAAIC,GAAWla,EAAX,CAAe,CAAnB,CAA3C,CAAJ,CACEsa,GAAUta,EAAV,EAAa+L,EAAb,EAAkBuO,GAAUta,GAAI,CAAd,EAAiB+L,GAAI,CAArB,CAAlB,CADF,IAEK,CACH,GAAIyO,IAAQF,GAAUta,GAAI,CAAd,EAAiB+L,EAAjB,EAAsB,CAAlC,CACI0O,GAAOH,GAAUta,EAAV,EAAa+L,GAAI,CAAjB,EAAsB,CADjC,CAEAuO,GAAUta,EAAV,EAAa+L,EAAb,EAAkByO,GAAQC,EAAR,CAAeD,EAAf,CAAuBC,EAC1C,CAIL,MAAOH,GACR,CA3Ce,CAgDhBI,kCAAkCJ,EAAlC,CAA6C,CAC3C,GAAIta,IAAIsa,GAAUra,MAAV,CAAmB,CAA3B,CACI8L,GAAIuO,GAAU,CAAV,EAAara,MAAb,CAAsB,CAD9B,CAEImO,GAAUkM,GAAUta,EAAV,EAAa+L,EAAb,CAFd,CAGI4O,KAHJ,CAD2C,KAKhC,CAAJ,KAAa,CAAJ,GAL2B,EAKpB,CACrB,GAAS,CAAL,IAAJ,CAAY,CACVA,GAAMtZ,IAAN,CAAWsY,EAAX,CADU,CAEV5N,IAFU,CAGV,QACD,CACD,GAAS,CAAL,IAAJ,CAAY,CACV4O,GAAMtZ,IAAN,CAAWuY,EAAX,CADU,CAEV5Z,IAFU,CAGV,QACD,CACD,GAII4a,GAJJ,CAAIC,GAAYP,GAAUta,GAAI,CAAd,EAAiB+L,GAAI,CAArB,CAAhB,CACI0O,GAAOH,GAAUta,GAAI,CAAd,EAAiB+L,EAAjB,CADX,CAEIyO,GAAQF,GAAUta,EAAV,EAAa+L,GAAI,CAAjB,CAFZ,CAME6O,EAjBmB,CAgBjBH,GAAOD,EAhBU,CAiBbC,GAAOI,EAAP,CAAmBJ,EAAnB,CAA0BI,EAjBb,CAmBbL,GAAQK,EAAR,CAAoBL,EAApB,CAA4BK,EAnBf,CAqBjBD,IAAOC,EArBU,EAsBfA,IAAazM,EAtBE,CAuBjBuM,GAAMtZ,IAAN,CAAWoY,EAAX,CAvBiB,EAyBjBkB,GAAMtZ,IAAN,CAAWqY,EAAX,CAzBiB,CA0BjBtL,GAAUyM,EA1BO,EA4BnB7a,IA5BmB,CA6BnB+L,IA7BmB,EA8BV6O,IAAOH,EA9BG,EA+BnBE,GAAMtZ,IAAN,CAAWuY,EAAX,CA/BmB,CAgCnB5Z,IAhCmB,CAiCnBoO,GAAUqM,EAjCS,GAmCnBE,GAAMtZ,IAAN,CAAWsY,EAAX,CAnCmB,CAoCnB5N,IApCmB,CAqCnBqC,GAAUoM,EArCS,CAuCtB,CAGD,MADAG,IAAMG,OAAN,EACA,CAAOH,EACR,CAhGe,CA0HhBI,YAAY3M,EAAZ,CAAqB2L,EAArB,CAAmCC,EAAnC,CACsBC,EADtB,CAC2BC,EAD3B,CACqCC,EADrC,CAC6C,CAC3C,GAEIa,GAFJ,CAAIC,GAAc,CAAlB,CACIC,GAAc,CADlB,CAIIC,GAAYC,KAAKR,GAAL,CAASZ,GAAaD,EAAtB,CAAoCI,GAASD,EAA7C,CAJhB,CAgBA,GAXoB,CAAhB,MAAiC,CAAZ,IAWzB,GAVEe,GAAc,KAAKI,YAAL,CAAkBjN,EAAlB,CAA2B6L,EAA3B,CAAgCkB,EAAhC,CAUhB,EARInB,IAAc5L,GAAQnO,MAAtB,EAAgCka,IAAUF,GAAIha,MAQlD,GAPEib,GAAc,KAAKI,YAAL,CAAkBlN,EAAlB,CAA2B6L,EAA3B,CAAgCkB,GAAYF,EAA5C,CAOhB,EALAlB,IAAgBkB,EAKhB,CAJAf,IAAYe,EAIZ,CAHAjB,IAAckB,EAGd,CAFAf,IAAUe,EAEV,CAAiC,CAA7B,KAAanB,EAAb,EAAuD,CAArB,KAASG,EAA/C,CACE,SAEF,GAAIH,IAAgBC,EAApB,CAAgC,KAC9BgB,GAAS5J,GAAU2I,EAAV,IAA4B,CAA5B,CADqB,CAEvBG,GAAWC,EAFY,EAG5Ba,GAAO1J,OAAP,CAAejQ,IAAf,CAAoB4Y,GAAIC,IAAJ,CAApB,EAEF,MAAO,CAAEc,EAAF,CACR,CAAM,GAAId,IAAYC,EAAhB,CACL,MAAO,CAAE/I,GAAU2I,EAAV,IAA4BC,GAAaD,EAAzC,CAAF,CAAP,CAEF,GAAIwB,IAAM,KAAKb,iCAAL,CACN,KAAKZ,iBAAL,CAAuB1L,EAAvB,CAAgC2L,EAAhC,CAA8CC,EAA9C,CACuBC,EADvB,CAC4BC,EAD5B,CACsCC,EADtC,CADM,CAAV,CAIAa,SAjC2C,CAkC3C,GAAIQ,MAAJ,CACInK,GAAQ0I,EADZ,CAEI0B,GAAWvB,EAFf,CAGA,IAAK,GAAIla,IAAI,CAAb,CAAgBA,GAAIub,GAAItb,MAAxB,CAAgCD,IAAhC,CACE,OAAOub,GAAIvb,EAAJ,CAAP,EACE,IAAKyZ,GAAL,CACMuB,EADN,GAEIQ,GAAQna,IAAR,CAAa2Z,EAAb,CAFJ,CAGIA,SAHJ,EAME3J,IANF,CAOEoK,IAPF,CAQE,MACF,IAAK/B,GAAL,CACOsB,EADP,GAEIA,GAAS5J,GAAUC,EAAV,IAAqB,CAArB,CAFb,EAIE2J,GAAOzJ,UAAP,EAJF,CAKEF,IALF,CAOE2J,GAAO1J,OAAP,CAAejQ,IAAf,CAAoB4Y,GAAIwB,EAAJ,CAApB,CAPF,CAQEA,IARF,CASE,MACF,IAAK9B,GAAL,CACOqB,EADP,GAEIA,GAAS5J,GAAUC,EAAV,IAAqB,CAArB,CAFb,EAIE2J,GAAOzJ,UAAP,EAJF,CAKEF,IALF,CAME,MACF,IAAKuI,GAAL,CACOoB,EADP,GAEIA,GAAS5J,GAAUC,EAAV,IAAqB,CAArB,CAFb,EAIE2J,GAAO1J,OAAP,CAAejQ,IAAf,CAAoB4Y,GAAIwB,EAAJ,CAApB,CAJF,CAKEA,IALF,CA3BF,CAwCF,MAHIT,GAGJ,EAFEQ,GAAQna,IAAR,CAAa2Z,EAAb,CAEF,CAAOQ,EACR,CA1Me,CA4MhBH,aAAajN,EAAb,CAAsB6L,EAAtB,CAA2ByB,EAA3B,CAAyC,CACvC,IAAK,GAAI1b,IAAI,CAAb,CAAgBA,GAAI0b,EAApB,CAAkC1b,IAAlC,CACE,GAAI,CAAC,KAAKua,MAAL,CAAYnM,GAAQpO,EAAR,CAAZ,CAAwBia,GAAIja,EAAJ,CAAxB,CAAL,CACE,MAAOA,GAAP,CACJ,MAAO0b,GACR,CAjNe,CAmNhBJ,aAAalN,EAAb,CAAsB6L,EAAtB,CAA2ByB,EAA3B,CAAyC,CACvC,GAAIC,IAASvN,GAAQnO,MAArB,CACI2b,GAAS3B,GAAIha,MADjB,CAEI4b,GAAQ,CAFZ,CADuC,KAIhCA,GAAQH,EAAR,EAAwB,KAAKnB,MAAL,CAAYnM,GAAQ,EAAEuN,EAAV,CAAZ,CAA+B1B,GAAI,EAAE2B,EAAN,CAA/B,CAJQ,EAKrCC,KAEF,MAAOA,GACR,CA3Ne,CA6NhBC,iBAAiB1N,EAAjB,CAA0B2N,EAA1B,CAAoC,CAClC,MAAO,MAAKhB,WAAL,CAAiB3M,EAAjB,CAA0B,CAA1B,CAA6BA,GAAQnO,MAArC,CAA6C8b,EAA7C,CAAuD,CAAvD,CACiBA,GAAS9b,MAD1B,CAER,CAhOe,CAkOhBsa,OAAOyB,EAAP,CAAqBC,EAArB,CAAoC,CAClC,MAAOD,MAAiBC,EACzB,CApOe,CAAlB,CAwOIH,GAAmB,CAAC1N,EAAD,CAAU2N,EAAV,GACrBlC,GAAYiC,gBAAZ,CAA6B1N,EAA7B,CAAsC2N,EAAtC,CAzOF,CAsPIG,GAAmC,UAAjB,QAAOjM,MAAP,CAA8BA,KAA9B,CACpB,SAASkM,EAAT,CAAiBC,EAAjB,CAAyB,CACvBA,GAASA,MADc,CAEvB,GAAIrM,IAAIlK,SAASwW,WAAT,CAAqB,OAArB,CAAR,CAEA,MADAtM,IAAEuM,SAAF,CAAYH,EAAZ,GAA4BC,GAAOG,OAAnC,GAAqDH,GAAOI,UAA5D,CACA,CAAOzM,EACR,CA5PH,CA8PA,GAAI0M,IAAc,KAAM,CAEtBxI,YAAYpV,EAAZ,CAAkB,CAChB,KAAKA,IAAL,CAAYA,EADI,CAEhB,KAAK6L,iBAAL,CAAyB,MAC1B,CAEDgS,oBAAqB,CACnB,MAAO,MAAK7d,IAAL,CAAUqM,gBAAV,CAA2B,KAAKR,iBAAhC,CACR,CAEDY,mBAAoB,CAClB,SAAe,KAAKzM,IAAL,CAAU4M,gBAAV,EACb,KAAK5M,IAAL,CAAU4M,gBAAV,CAA2BxL,MAD7B,CAED,CAED0c,iBAAiB/d,EAAjB,CAAuB,CACrB,MAAOA,IAAK+E,SAAL,EAAkB/E,GAAK+E,SAAL,EAAkB,KAAK+G,iBACjD,CAEDkS,YAAa,OACP,MAAKtR,iBAAL,EADO,CAEF,KAAKuR,cAAL,CAAoB,KAAKhe,IAAzB,CAA+B,KAAKie,WAAL,EAA/B,CAFE,GAKZ,CAIDA,aAAc,CACZ,GAAI3V,IAAO,KAAKtI,IAAL,CAAUsI,IAArB,CACI4V,KADJ,CACa/c,GAAE,CADf,CAEA,IAAK,GAAID,IAAEoH,GAAKpC,UAAhB,CAA4BhF,EAA5B,CAA+BA,GAAEA,GAAEkF,WAAnC,CACE8X,GAAK/c,IAAL,EAAYD,EAAZ,CAEF,MAAOgd,GACR,CAKDF,eAAeje,EAAf,CAAqBme,EAArB,CAA2B,CACzB,GAAIC,MAAJ,CACIrO,GAAK,KAAK9P,IAAL,CAAU4M,gBADnB,CAEA,IAAK,GAAsBhE,GAAtB,CAAIzH,GAAE,CAAN,CAAS4E,GAAE+J,GAAG1O,MAAnB,CAA+BD,GAAE4E,EAAH,GAAU6C,GAAEkH,GAAG3O,EAAH,CAAZ,CAA9B,CAAkDA,IAAlD,CAAuD,CACrD,KAAKid,wBAAL,CAA8BxV,EAA9B,CAAiCsV,EAAjC,CADqD,CAMrD,GAAIzS,IAAS7C,GAAEpE,UAAf,CACIiH,IAAUA,GAAOlB,SAAjB,EACA,KAAKkC,iBAAL,CAAuBhB,GAAOlB,SAA9B,CARiD,EASnD4T,GAAW3b,IAAX,CAAgBiJ,GAAOlB,SAAvB,CAEH,CACD,IAAK,GAAIpJ,IAAE,CAAX,CAAcA,GAAI+c,GAAK9c,MAAvB,CAA+BD,IAA/B,CAAoC,CAClC,GAAIyH,IAAIsV,GAAK/c,EAAL,CAAR,CACA,GAAIyH,EAAJ,CAAO,CACLA,GAAErB,OAAF,CAAYqB,GAAErB,OAAF,IADP,CAELqB,GAAErB,OAAF,CAAUkI,YAAV,OAFK,CAIL,GAAIhE,IAASjH,EAAWoE,EAAX,CAAb,CACI6C,EALC,EAMH5D,GAAYvH,IAAZ,CAAiBmL,EAAjB,CAAyB7C,EAAzB,CAEH,CACF,CACD,MAAOuV,GACR,CAEDC,yBAAyBvR,EAAzB,CAAyCqR,EAAzC,CAA+C,CAC7C,GAAIG,IAAoBxR,GAAetF,OAAf,CAAuByF,aAA/C,CACIqR,EAFyC,EAG3C,KAAKC,kBAAL,CAAwBzR,EAAxB,IAH2C,CAK7CA,GAAetF,OAAf,CAAuByF,aAAvB,GAL6C,CAM7C,GAAIuR,MAAJ,CAEIC,KAFJ,CAGA,IAAK,GAAwBze,GAAxB,CAAIoB,GAAE,CAAN,CAAS4E,GAAEmY,GAAK9c,MAArB,CAAmCD,GAAI4E,EAAvC,CAA0C5E,IAA1C,EACEpB,GAAKme,GAAK/c,EAAL,CADP,EAGM,CAACpB,EAHP,GAOM,KAAK0e,qBAAL,CAA2B1e,EAA3B,CAAiC8M,EAAjC,CAPN,GAQQ9M,GAAKwH,OAAL,CAAamX,iBAAb,EAAkC7R,EAR1C,GASM0R,KATN,EAWI,KAAKI,kBAAL,CAAwB5e,EAAxB,CAA8B8M,EAA9B,CAXJ,CAaIqR,GAAK/c,EAAL,QAbJ,CAeIqd,KAfJ,EAmBA,GAAI,CAACA,EAAL,CAAqB,CACnB,GAAII,IAAc/R,GAAehH,UAAjC,CACA,IAAK,GAAW9F,GAAX,CAAImN,GAAI,CAAb,CAAsBA,GAAI0R,GAAYxd,MAAtC,CAA8C8L,IAA9C,CACEnN,GAAO6e,GAAY1R,EAAZ,CADT,CAEMnN,GAAKwH,OAAL,CAAamX,iBAAb,EAAkC7R,EAFxC,GAGI0R,KAHJ,EAKE,KAAKI,kBAAL,CAAwB5e,EAAxB,CAA8B8M,EAA9B,CAEH,CAGD,GAAIwR,EAAJ,CAAuB,CAIrB,IAAK,GAAIld,IAAE,CAAX,CAAcA,GAAIkd,GAAkBjd,MAApC,CAA4CD,IAA5C,CACEkd,GAAkBld,EAAlB,EAAqBoG,OAArB,CAA6BmX,iBAA7B,CAAiD,IAAjD,CAEE7R,GAAetF,OAAf,CAAuByF,aAAvB,CAAqC5L,MAArC,CAA8Cid,GAAkBjd,MAP/C,GAQnBmd,KARmB,CAUtB,CACD,KAAKM,mCAAL,CAAyChS,EAAzC,CAnD6C,CAoDzC0R,EApDyC,EAqD3C,KAAKO,eAAL,CAAqBjS,EAArB,CAEH,CAEDyR,mBAAmBS,EAAnB,CAAyBC,EAAzB,CAAuC,CACrC,GAAIhe,IAAK+d,GAAKxX,OAAL,CAAayF,aAAtB,CACA,GAAIhM,EAAJ,CACE,IAAK,GAAIG,IAAE,CAAX,CAAcA,GAAIH,GAAGI,MAArB,CAA6BD,IAA7B,CAAkC,CAChC,GAAID,IAAIF,GAAGG,EAAH,CAAR,CACI6d,EAF4B,GAG9B9d,GAAEqG,OAAF,CAAUmX,iBAAV,CAA8Bxd,GAAEqG,OAAF,CAAUkI,YAHV,EAQ5BvO,GAAEqG,OAAF,CAAUkI,YAAV,GAA2BsP,EARC,GAS9B7d,GAAEqG,OAAF,CAAUkI,YAAV,CAAyB,IATK,CAWjC,CAEJ,CAEDgP,sBAAsB1e,EAAtB,CAA4B8M,EAA5B,CAA4C,CAC1C,GAAIoS,IAAWpS,GAAemK,YAAf,CAA4B,MAA5B,CAAf,CACAiI,GAAWA,GAAWA,GAASC,IAAT,EAAX,CAA6B,EAFE,CAG1C,GAAIH,IAAOhf,GAAKiX,YAAL,EAAqBjX,GAAKiX,YAAL,CAAkB,MAAlB,CAAhC,CAEA,MADA+H,IAAOA,GAAOA,GAAKG,IAAL,EAAP,CAAqB,EAC5B,CAAQH,IAAQE,EACjB,CAEDN,mBAAmB7Y,EAAnB,CAA0B+G,EAA1B,CAA0C,CACxCA,GAAetF,OAAf,CAAuByF,aAAvB,CAAqCxK,IAArC,CAA0CsD,EAA1C,CADwC,CAExCA,GAAMyB,OAAN,CAAckI,YAAd,CAA6B5C,EAC9B,CAEDgS,oCAAoChS,EAApC,CAAoD,CAClD,GAAI7L,IAAK6L,GAAetF,OAAf,CAAuByF,aAAhC,CACAH,GAAetF,OAAf,CAAuB4X,gBAAvB,GAFkD,CAGlD,IAAK,GAASje,GAAT,CAAIC,GAAE,CAAX,CAAkBA,GAAEH,GAAGI,MAAN,GAAkBF,GAAEF,GAAGG,EAAH,CAApB,CAAjB,CAA8CA,IAA9C,CACE,GAAI,KAAK2c,gBAAL,CAAsB5c,EAAtB,CAAJ,CAA8B,CAC5B,GAAIke,IAAKle,GAAEqG,OAAF,CAAU4X,gBAAnB,CACA,GAAIC,EAAJ,CACE,IAAK,GAAIlS,IAAE,CAAX,CAAcA,GAAIkS,GAAGhe,MAArB,CAA6B8L,IAA7B,CACEL,GAAetF,OAAf,CAAuB4X,gBAAvB,CAAwC3c,IAAxC,CAA6C4c,GAAGlS,EAAH,CAA7C,CAGL,CAPD,IAQEL,IAAetF,OAAf,CAAuB4X,gBAAvB,CAAwC3c,IAAxC,CAA6CxB,GAAGG,EAAH,CAA7C,CAGL,CAED2d,gBAAgBjS,EAAhB,CAAgC,CAI9BA,GAAewS,aAAf,CAA6B,GAAIhC,GAAJ,CAAoB,YAApB,CAA7B,CAJ8B,CAK1BxQ,GAAetF,OAAf,CAAuBkI,YALG,EAM5B,KAAKqP,eAAL,CAAqBjS,GAAetF,OAAf,CAAuBkI,YAA5C,CAEH,CAEDrC,mBAAmBP,EAAnB,CAAmC,CACjC,MAAO,CAAEA,GAAetF,OAAf,CAAuBkI,YACjC,CA5LqB,CAAxB,CA6NA,GAAIoD,IAAqBjS,OAAOiB,MAAP,CAAcyR,iBAAiB5C,SAA/B,CAAzB,CACArP,EAAUwR,EAAV,CAA8B,CAE5BC,MAAMxK,EAAN,CAAY,CAIV,KAAKzI,WAAL,CAAmB,WAJT,CAMV2M,GAAiBlE,EAAjB,CANU,CAOVkE,GAAiB,IAAjB,CAPU,CASVlE,GAAKiJ,UAAL,CAAkB,IATR,CAUV,KAAKjJ,IAAL,CAAYA,EAVF,CAYV,KAAKgX,cAAL,GAZU,CAaV,KAAKC,YAAL,GAbU,CAcV,KAAKrV,cAAL,GAdU,CAeV,KAAKsV,YAAL,CAAoB,GAAI5B,GAAJ,CAAgB,IAAhB,CAfV,CAgBV,KAAKvQ,MAAL,EACD,CAnB2B,CAsB5BA,QAAS,CACF,KAAKiS,cADH,GAEL,KAAKA,cAAL,GAFK,CAGLrd,EAAQ,IAAM,KAAK+L,MAAL,EAAd,CAHK,CAKR,CA3B2B,CA8B5ByR,gBAAiB,CACf,GAAIC,IAAa,IAAjB,CACI1f,GAAO,IADX,CADe,KAGRA,EAHQ,EAITA,GAAKsf,cAJI,GAKXI,GAAa1f,EALF,EAObA,GAAOA,GAAK2f,gBAAL,EAPM,CASf,MAAOD,GACR,CAxC2B,CA4C5BC,kBAAmB,CACjB,GAAI3f,IAAO,KAAKsI,IAAL,CAAUrI,WAAV,EAAX,CACA,GAAIN,EAAYK,EAAZ,CAAJ,CAAuB,CACrB,GAAI4F,IAAK,KAAK0C,IAAL,CAAUzC,UAAnB,CACA,IAAK,GAAShC,GAAT,CAAI1C,GAAE,CAAX,CAAiBA,GAAIyE,GAAGxE,MAAxB,CAAgCD,IAAhC,CAEE,GADA0C,GAAI+B,GAAGzE,EAAH,CACJ,CAAI,KAAKqe,YAAL,CAAkB1B,gBAAlB,CAAmCja,EAAnC,CAAJ,CACE,MAAO7D,GAGZ,CACF,CAvD2B,CAyD5BgO,QAAS,CACH,KAAKsR,cADF,EAEL,KAAKG,cAAL,GAAsBG,OAAtB,EAEH,CA7D2B,CA+D5BA,SAAU,CACR,KAAKN,cAAL,GADQ,CAER,KAAKpV,cAAL,GAFQ,CAGH,KAAKC,0BAHF,CAKG,CAAC,KAAKoV,YALT,GAMN,KAAK3S,gBAAL,GANM,EAIN,KAAKiT,qBAAL,EAJM,CAQR,KAAK1V,0BAAL,GARQ,CAgBR,KAAK4T,UAAL,EAhBQ,CAkBR,KAAK+B,OAAL,EAlBQ,CAmBR,KAAKP,YAAL,GACD,CAnF2B,CAqF5BQ,aAAc,CACZ,KAAKT,cAAL,GADY,CAEZ,KAAKtR,MAAL,EACD,CAxF2B,CA0F5B+P,YAAa,CACX,GAAII,IAAa,KAAKqB,YAAL,CAAkBzB,UAAlB,EAAjB,CACA,IAAK,GAAI5c,IAAE,CAAX,CAAcA,GAAEgd,GAAW/c,MAA3B,CAAmCD,IAAnC,CACEgd,GAAWhd,EAAX,EAAcye,OAAd,EAEH,CA/F2B,CAiG5BC,uBAAwB,CACtB,GAAIG,IAAK,KAAKC,iBAAd,CAEA,GAAID,EAAJ,CACE,IAAK,GAASnc,GAAT,CAAI1C,GAAE,CAAX,CAAiBA,GAAI6e,GAAG5e,MAAxB,CAAgCD,IAAhC,CACE0C,GAAImc,GAAG7e,EAAH,CADN,CAEM0C,GAAE5D,WAAF,KAAoB,IAF1B,EAGI,KAAKuf,YAAL,CAAkBlB,kBAAlB,CAAqCza,EAArC,CAHJ,CAOFmc,GAAK,KAAKpT,gBAAL,CAAwB,KAAK4S,YAAL,CAAkB3B,kBAAlB,EAXP,CAiBtB,IAAK,GAASha,GAAT,CAAI1C,GAAE,CAAX,CAAiBA,GAAI6e,GAAG5e,MAAxB,CAAgCD,IAAhC,CACE0C,GAAImc,GAAG7e,EAAH,CADN,CAEE0C,GAAE0D,OAAF,CAAY1D,GAAE0D,OAAF,IAFd,CAGEiF,GAAiB3I,EAAjB,CAHF,CAIE2I,GAAiB3I,GAAEW,UAAnB,CAEH,CAxH2B,CA0H5B,GAAIoI,iBAAJ,EAAuB,CAIrB,MAHK,MAAKqT,iBAGV,EAFE,KAAKJ,qBAAL,EAEF,CAAO,KAAKI,iBAAL,GAA2B,KAAKA,iBAAL,GAA3B,CACR,CA/H2B,CAiI5B,GAAIrT,iBAAJ,CAAqBsT,EAArB,CAAsC,CACpC,KAAKD,iBAAL,CAAyBC,EAC1B,CAnI2B,CAqI5BzT,mBAAoB,CAClB,MAAO,MAAK+S,YAAL,CAAkB/S,iBAAlB,EACR,CAvI2B,CAyI5BqT,SAAU,CAKR,KAAKK,YAAL,EAGD,CAjJ2B,CAqJ5BA,cAAe,CACb,KAAKC,iBAAL,CAAuB,KAAK9X,IAA5B,CAAkC,KAAK+X,YAAL,CAAkB,KAAK/X,IAAvB,CAAlC,CADa,CAEb,GAAIwH,IAAK,KAAKlD,gBAAL,IAAT,CACA,IAAK,GAAsBhE,GAAtB,CAAyB6C,EAAzB,CAAItK,GAAE,CAAN,CAAS4E,GAAE+J,GAAG1O,MAAnB,CAAuCD,GAAE4E,EAAH,GAAU6C,GAAEkH,GAAG3O,EAAH,CAAZ,CAAtC,CAA0DA,IAA1D,CACEsK,GAAS7C,GAAEpE,UADb,CAEOiH,KAAW,KAAKnD,IAAjB,EAA2BmD,KAAW,IAF5C,EAGI,KAAK2U,iBAAL,CAAuB3U,EAAvB,CAA+B,KAAK4U,YAAL,CAAkB5U,EAAlB,CAA/B,CAGL,CA9J2B,CAiK5B4U,aAAatgB,EAAb,CAAmB,CACjB,GAAI6e,MAAJ,CACIhZ,GAAK,CAAC7F,GAAKwK,SAAL,EAAkBxK,EAAnB,EAAyB8F,UADlC,CAEA,IAAK,GAAI1E,IAAI,CAAb,CAAgBA,GAAIyE,GAAGxE,MAAvB,CAA+BD,IAA/B,CAAoC,CAClC,GAAI2E,IAAQF,GAAGzE,EAAH,CAAZ,CACA,GAAI,KAAKqe,YAAL,CAAkB1B,gBAAlB,CAAmChY,EAAnC,CAAJ,CAA+C,CAC7C,GAAIqZ,IAAmBrZ,GAAMyB,OAAN,CAAc4X,gBAAd,GACpBrZ,GAAMyB,OAAN,CAAc4X,gBAAd,GADoB,CAAvB,CAEA,IAAK,GAAIjS,IAAI,CAAb,CAAgBA,GAAIiS,GAAiB/d,MAArC,CAA6C8L,IAA7C,CAAkD,CAChD,GAAIoT,IAAkBnB,GAAiBjS,EAAjB,CAAtB,CACI,KAAKE,kBAAL,CAAwBtH,EAAxB,CAA+Bwa,EAA/B,CAF4C,EAG9C1B,GAAYpc,IAAZ,CAAiB8d,EAAjB,CAEH,CACF,CATD,IAUE1B,IAAYpc,IAAZ,CAAiBsD,EAAjB,CAEH,CACD,MAAO8Y,GACR,CApL2B,CAsL5BxR,mBAAmBP,EAAnB,CAAmC9M,EAAnC,CAAyC,CACvC,MAAO,MAAKyf,YAAL,CAAkBpS,kBAAlB,CACLP,EADK,CACW9M,EADX,CAER,CAzL2B,CA4L5BqgB,kBAAkBhX,EAAlB,CAA6BwV,EAA7B,CAA0C,CACxC,GAAIna,IAAWoB,EAAWuD,EAAX,CAAf,CACIuT,GAAUM,GAAiB2B,EAAjB,CAA8Bna,EAA9B,CADd,CAGA,IAAK,GAAcV,GAAd,CAAI5C,GAAE,CAAN,CAAS8R,GAAE,CAAhB,CAAuB9R,GAAEwb,GAAQvb,MAAX,GAAuB2C,GAAE4Y,GAAQxb,EAAR,CAAzB,CAAtB,CAA4DA,IAA5D,CAAiE,CAC/D,IAAK,GAASD,GAAT,CAAIgM,GAAE,CAAX,CAAkBA,GAAInJ,GAAE0O,OAAF,CAAUrR,MAAf,GAA2BF,GAAE6C,GAAE0O,OAAF,CAAUvF,EAAV,CAA7B,CAAjB,CAA6DA,IAA7D,CAKM1I,EAAWtD,EAAX,IAAkBkI,EALxB,EAMIvB,GAAYvH,IAAZ,CAAiB8I,EAAjB,CAA4BlI,EAA5B,CANJ,CAQEuD,GAAS0X,MAAT,CAAgBpY,GAAEyO,KAAF,CAAUS,EAA1B,CAA6B,CAA7B,CARF,CAUAA,IAAKlP,GAAE2O,UACR,CAED,IAAK,GAAS3O,GAAT,CAAYwc,EAAZ,CAAIpf,GAAE,CAAX,CAAwBA,GAAEwb,GAAQvb,MAAX,GAAuB2C,GAAE4Y,GAAQxb,EAAR,CAAzB,CAAvB,CAA6DA,IAA7D,CAAkE,CAChEof,GAAO9b,GAASV,GAAEyO,KAAX,CADyD,CAEhE,IAAK,GAAetR,GAAf,CAAIgM,GAAEnJ,GAAEyO,KAAb,CAAuBtF,GAAInJ,GAAEyO,KAAF,CAAUzO,GAAE2O,UAAvC,CAAmDxF,IAAnD,CACEhM,GAAI0d,GAAY1R,EAAZ,CADN,CAEEuB,GAAanO,IAAb,CAAkB8I,EAAlB,CAA6BlI,EAA7B,CAAgCqf,EAAhC,CAFF,CAIE9b,GAAS0X,MAAT,CAAgBjP,EAAhB,CAAmB,CAAnB,CAAsBhM,EAAtB,CAEH,CACF,CAvN2B,CAyN5B6J,sBAAuB,CACrB,MAAO,MAAKyU,YAAL,CAAkB3T,iBAC1B,CA3N2B,CAA9B,CApwEa,CAq2Bb,SAAkCpK,EAAlC,CAAyC,CACvCgH,EAAmBhH,EAAnB,CAA0BwH,EAA1B,IADuC,CAEvCR,EAAmBhH,EAAnB,CAA0ByH,EAA1B,IACD,CA2nDD,CAAyB2J,EAAzB,CAn+Ea,CAo/Eb,GAAIM,IAAY,CAEdxB,iBA13BF,SAA4BrB,EAA5B,CAAkCS,EAAlC,CAAsCyP,EAAtC,CAAwD,CACtD,GAAKzP,EAAL,EAUA,GAAI0P,GAAJ,CAAaC,EAAb,CAAmBC,EAAnB,CAUA,GATgC,QAA5B,QAAOH,GASX,EAREC,KAAkBD,GAAiBC,OAQrC,CAPEC,KAAeF,GAAiBE,IAOlC,CANEC,KAAkBH,GAAiBG,OAMrC,GAJEF,KAAkBD,EAIpB,CAHEE,KAGF,CAFEC,KAEF,EAAI5P,GAAG6P,eAAP,EAEE,IAAK,GAAIzf,IAAI,CAAb,CAAgBA,GAAI4P,GAAG6P,eAAH,CAAmBxf,MAAvC,CAA+CD,IAA/C,CACE,GAAI4P,GAAG6P,eAAH,CAAmBzf,EAAnB,EAAsBpB,IAAtB,GAA+B,IAA/B,EACAgR,GAAG6P,eAAH,CAAmBzf,EAAnB,EAAsBmP,IAAtB,GAA+BA,EAD/B,EAEAS,GAAG6P,eAAH,CAAmBzf,EAAnB,EAAsBsf,OAAtB,GAAkCA,EAFlC,EAGA1P,GAAG6P,eAAH,CAAmBzf,EAAnB,EAAsBuf,IAAtB,GAA+BA,EAH/B,EAIA3P,GAAG6P,eAAH,CAAmBzf,EAAnB,EAAsBwf,OAAtB,GAAkCA,EAJtC,CAKE,OARN,KAYE5P,IAAG6P,eAAH,GAZF,CAeA,KAAMC,IAAY,SAAS3P,EAAT,CAAY,CAa5B,GAXIwP,EAWJ,EAVE,KAAKvK,mBAAL,CAAyB7F,EAAzB,CAA+BS,EAA/B,CAAmCyP,EAAnC,CAUF,CARKtP,GAAEU,QAQP,GAPEV,GAAEU,QAAF,CAAaV,GAAExQ,MAOjB,CANEwQ,GAAEW,eAAF,CAAoBX,GAAEY,aAMxB,CALEtQ,EAAe0P,EAAf,CAAkBa,EAAlB,CAKF,EAAIb,GAAEzM,QAAF,EAA+C,CAAC,CAAlC,IAAE6K,YAAF,GAAiBY,OAAjB,CAAyB,IAAzB,CAAlB,OACMgB,IAAE4P,UAAF,GAAiB1P,MAAM2P,cAD7B,EAEQ7P,GAAExQ,MAAF,GAAawQ,GAAEY,aAFvB,KAGMZ,IAAEc,wBAAF,EAHN,CAOSjB,GAAGG,EAAH,CAEV,CAtBD,CAwBAH,GAAG6P,eAAH,CAAmBpe,IAAnB,CAAwB,CACtBzC,KAAM,IADgB,CAEtBuQ,KAAMA,EAFgB,CAGtBmQ,QAASA,EAHa,CAItBC,KAAMA,EAJgB,CAKtBC,QAASA,EALa,CAMtBE,UAAWA,EANW,CAAxB,CA3DA,CAoEInP,GAA4BpB,EAA5B,CApEJ,EAqEE,KAAKQ,UAAL,CAAkB,KAAKA,UAAL,IArEpB,CAsEE,KAAKA,UAAL,CAAgBR,EAAhB,EAAwB,KAAKQ,UAAL,CAAgBR,EAAhB,GAAyB,CAACmQ,UAAD,CAAcO,SAAd,CAtEnD,CAuEE,KAAKlQ,UAAL,CAAgBR,EAAhB,EAAsBmQ,GAAU,SAAV,CAAsB,QAA5C,EAAsDje,IAAtD,CAA2Dqe,EAA3D,CAvEF,EAyEElP,GAAiBrR,IAAjB,CAAsB,IAAtB,CAA4BgQ,EAA5B,CAAkCuQ,EAAlC,CAA6CL,EAA7C,CAzEF,CA2ED,CA4yBe,CAIdrK,oBA9yBF,SAA+B7F,EAA/B,CAAqCS,EAArC,CAAyCyP,EAAzC,CAA2D,CACzD,GAAKzP,EAAL,EAKA,GAAI0P,GAAJ,CAAaC,EAAb,CAAmBC,EAAnB,CACgC,QAA5B,QAAOH,GANX,EAOEC,KAAkBD,GAAiBC,OAPrC,CAQEC,KAAeF,GAAiBE,IARlC,CASEC,KAAkBH,GAAiBG,OATrC,GAWEF,KAAkBD,EAXpB,CAYEE,KAZF,CAaEC,KAbF,EAgBA,GAAIE,GAAJ,CACA,GAAI9P,GAAG6P,eAAP,CACE,IAAK,GAAIzf,IAAI,CAAb,CAAgBA,GAAI4P,GAAG6P,eAAH,CAAmBxf,MAAvC,CAA+CD,IAA/C,CACE,GAAI4P,GAAG6P,eAAH,CAAmBzf,EAAnB,EAAsBpB,IAAtB,GAA+B,IAA/B,EACAgR,GAAG6P,eAAH,CAAmBzf,EAAnB,EAAsBmP,IAAtB,GAA+BA,EAD/B,EAEAS,GAAG6P,eAAH,CAAmBzf,EAAnB,EAAsBsf,OAAtB,GAAkCA,EAFlC,EAGA1P,GAAG6P,eAAH,CAAmBzf,EAAnB,EAAsBuf,IAAtB,GAA+BA,EAH/B,EAIA3P,GAAG6P,eAAH,CAAmBzf,EAAnB,EAAsBwf,OAAtB,GAAkCA,EAJtC,CAI+C,CAC7CE,GAAY9P,GAAG6P,eAAH,CAAmBzE,MAAnB,CAA0Bhb,EAA1B,CAA6B,CAA7B,EAAgC,CAAhC,EAAmC0f,SADF,CAGxC9P,GAAG6P,eAAH,CAAmBxf,MAHqB,GAI3C2P,GAAG6P,eAAH,OAJ2C,EAM7C,KACD,CAKL,GADAzK,GAAoB7V,IAApB,CAAyB,IAAzB,CAA+BgQ,EAA/B,CAAqCuQ,IAAa9P,EAAlD,CAAsDyP,EAAtD,CACA,CAAIK,IAAanP,GAA4BpB,EAA5B,CAAb,EACA,KAAKQ,UADL,EACmB,KAAKA,UAAL,CAAgBR,EAAhB,CADvB,CAC8C,CAC5C,KAAMjM,IAAM,KAAKyM,UAAL,CAAgBR,EAAhB,EAAsBmQ,GAAU,SAAV,CAAsB,QAA5C,CAAZ,CACMQ,GAAM5c,GAAI6L,OAAJ,CAAY2Q,EAAZ,CADZ,CAEU,CAAC,CAAP,GAHwC,EAI1Cxc,GAAI8X,MAAJ,CAAW8E,EAAX,CAAgB,CAAhB,CAEH,CA1CD,CA2CD,CA8vBe,CAMdvS,YAAY3O,EAAZ,CAAkB,CAChB,MAAOyO,IAAe,IAAf,CAAqBzO,EAArB,CACR,CARa,CAUd0O,aAAa1O,EAAb,CAAmBsJ,EAAnB,CAA6B,CAC3B,MAAOmF,IAAe,IAAf,CAAqBzO,EAArB,CAA2BsJ,EAA3B,CACR,CAZa,CAcdxB,YAAY9H,EAAZ,CAAkB,CAChB,MAAO4O,IAAc,IAAd,CAAoB5O,EAApB,CACR,CAhBa,CAkBdmhB,aAAanhB,EAAb,CAAmBsJ,EAAnB,CAA6B,CAG3B,MAFA,MAAKoF,YAAL,CAAkB1O,EAAlB,CAAwBsJ,EAAxB,CAEA,CADA,KAAKxB,WAAL,CAAiBwB,EAAjB,CACA,CAAOtJ,EACR,CAtBa,CAwBdgP,UAAUD,EAAV,CAAgB,CACd,MAAOD,IAAY,IAAZ,CAAkBC,EAAlB,CACR,CA1Ba,CA4Bd7O,YAAYsQ,EAAZ,CAAqB,CACnB,MAAOtQ,IAAY,IAAZ,CAAkBsQ,EAAlB,CACR,CA9Ba,CAgCd,GAAI4Q,YAAJ,EAAkB,CAChB,MAAOna,UAAS4E,eAAT,CAAyBrD,QAAzB,CAAkC,IAAlC,CACR,CAlCa,CAAhB,CAuCI8K,GAAY,CACd,GAAI5D,aAAJ,EAAmB,CACjB,MAAOsD,IAAgB,IAAhB,CACR,CAHa,CAvChB,CA6CIQ,GAAgB,CAGlBxH,cAAc3L,EAAd,CAAwB,CAEtB,GAAI0N,IAASP,GAAM,IAAN,CAAY,SAASrM,EAAT,CAAY,CACnC,MAAOhB,GAAgBgB,EAAhB,CAAmBd,EAAnB,CACR,CAFY,CAEV,SAASc,EAAT,CAAY,CACb,QAAeA,EAChB,CAJY,EAIV,CAJU,CAAb,CAKA,MAAO4M,KAAU,IAClB,CAXiB,CAalBzB,iBAAiBjM,EAAjB,CAA2B,CACzB,MAAOmN,IAAM,IAAN,CAAY,SAASrM,EAAT,CAAY,CAC7B,MAAOhB,GAAgBgB,EAAhB,CAAmBd,EAAnB,CACR,CAFM,CAGR,CAjBiB,CA7CpB,CAkEI0T,GAAY,CAEd9G,cAAcuD,EAAd,CAAuB,CACrB,GAAuB,MAAnB,QAAKzL,SAAT,CAEE,MADAiJ,IAAe,IAAf,CACA,CAAO,KAAKxG,OAAL,CACJ,CAACgJ,IAAWA,GAAQtD,OAAnB,CAA6B,KAAK1F,OAAL,CAAa4X,gBAA1C,CACF,KAAK5X,OAAL,CAAayF,aADZ,KADI,GAKV,CAVa,CAlEhB,CAgFIyG,GAAepS,EAAU,CAE3BgN,aAAa7N,EAAb,CAAmBiD,EAAnB,CAA0B,CACxBwK,GAAe,IAAf,CAAqBzN,EAArB,CAA2BiD,EAA3B,CACD,CAJ0B,CAM3B8K,gBAAgB/N,EAAhB,CAAsB,CACpB8N,GAAkB,IAAlB,CAAwB9N,EAAxB,CACD,CAR0B,CAU3BmS,aAAapC,EAAb,CAAsB,CACpB,MAAOoC,IAAa,IAAb,CAAmBpC,EAAnB,CACR,CAZ0B,CAc3B,GAAIwO,KAAJ,EAAW,CACT,MAAO,MAAK/H,YAAL,CAAkB,MAAlB,CACR,CAhB0B,CAkB3B,GAAI+H,KAAJ,CAAStb,EAAT,CAAgB,CACd,KAAK4K,YAAL,CAAkB,MAAlB,CAA0B5K,EAA1B,CACD,CApB0B,CAsB3B,GAAIgM,aAAJ,EAAmB,CACjB,MAAOsD,IAAgB,IAAhB,CACR,CAxB0B,CAAV,CA0BhBQ,EA1BgB,CA0BDO,EA1BC,CAhFnB,CA4GAlT,OAAOwgB,gBAAP,CAAwB3N,EAAxB,CAAsC4D,EAAtC,CAhmFa,CAkmFb,GAAI1D,IAAgBtS,KAEjBkS,EAFiB,CAApB,CAIA3S,OAAOwgB,gBAAP,CAAwBzN,EAAxB,CAAuC,CACrC0N,eAAgBnY,GAAsBhB,aADD,CAAvC,CAtmFa,CA4rFTF,GAASqM,KA5rFA,GA8rFX7O,OAAO0O,QAAP,CAAkB,CAEhBG,MAAOrM,GAASqM,KAFA,CAIhBiN,MAAO,SAASvhB,EAAT,CAAe,CAAE,MAAOA,GAAO,CAJtB,CAKhBJ,YAAaA,CALG,CAMhBsC,QAASA,CANO,CAOhBK,MAAOA,CAPS,CAQhB0F,SAAUA,EARM,CAShBlF,gBAAiBA,CATD,CAUhB4S,gBAAiBA,EAVD,CAWhBK,kBAAmBA,EAXH,CAYhBK,cAAeA,EAZC,CAahBzO,WAAYA,EAbI,CA9rFP,CA+sFXsK,IA/sFW,CAitFXiB,IAjtFW,CAqtFZ,CArtFA,G","file":"shadydom.min.js","sourcesContent":["(function () {\n'use strict';\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nlet settings = window.ShadyDOM || {};\n\nsettings.hasNativeShadowDOM = Boolean(Element.prototype.attachShadow && Node.prototype.getRootNode);\n\nlet desc = Object.getOwnPropertyDescriptor(Node.prototype, 'firstChild');\n\nsettings.hasDescriptors = Boolean(desc && desc.configurable && desc.get);\nsettings.inUse = settings.force || !settings.hasNativeShadowDOM;\n\nfunction isShadyRoot(obj) {\n  return Boolean(obj.__localName === 'ShadyRoot');\n}\n\nfunction ownerShadyRootForNode(node) {\n  let root = node.getRootNode();\n  if (isShadyRoot(root)) {\n    return root;\n  }\n}\n\nlet p = Element.prototype;\nlet matches = p.matches || p.matchesSelector ||\n  p.mozMatchesSelector || p.msMatchesSelector ||\n  p.oMatchesSelector || p.webkitMatchesSelector;\n\nfunction matchesSelector(element, selector) {\n  return matches.call(element, selector);\n}\n\nfunction copyOwnProperty(name, source, target) {\n  let pd = Object.getOwnPropertyDescriptor(source, name);\n  if (pd) {\n    Object.defineProperty(target, name, pd);\n  }\n}\n\nfunction extend(target, source) {\n  if (target && source) {\n    let n$ = Object.getOwnPropertyNames(source);\n    for (let i=0, n; (i<n$.length) && (n=n$[i]); i++) {\n      copyOwnProperty(n, source, target);\n    }\n  }\n  return target || source;\n}\n\nfunction extendAll(target, ...sources) {\n  for (let i=0; i < sources.length; i++) {\n    extend(target, sources[i]);\n  }\n  return target;\n}\n\nfunction mixin(target, source) {\n  for (var i in source) {\n    target[i] = source[i];\n  }\n  return target;\n}\n\nfunction patchPrototype(obj, mixin) {\n  let proto = Object.getPrototypeOf(obj);\n  if (!proto.hasOwnProperty('__patchProto')) {\n    let patchProto = Object.create(proto);\n    patchProto.__sourceProto = proto;\n    extend(patchProto, mixin);\n    proto.__patchProto = patchProto;\n  }\n  // old browsers don't have setPrototypeOf\n  obj.__proto__ = proto.__patchProto;\n}\n\n// TODO(sorvell): actually rely on a real Promise polyfill...\nlet promish;\nif (window.Promise) {\n  promish = Promise.resolve();\n} else {\n  let twiddle = document.createTextNode('');\n  let content = 0;\n  promish = {\n    then(cb) {\n      // To preserve timing with Promise microtasks\n      // we create a new observer for every callback.\n      let observer = new MutationObserver(function() {\n        observer.disconnect();\n        cb();\n      });\n      observer.observe(twiddle, {characterData: true});\n      twiddle.textContent = content++;\n    }\n  };\n}\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n// render enqueuer/flusher\nlet customElements$1 = window.customElements;\nlet flushList = [];\nlet scheduled;\nlet flushCount = 0;\nlet flushMax = 100;\nfunction enqueue(callback) {\n  if (!scheduled) {\n    scheduled = true;\n    promish.then(flush);\n  }\n  flushList.push(callback);\n}\n\nfunction flush() {\n  scheduled = false;\n  flushCount++;\n  while (flushList.length) {\n    flushList.shift()();\n  }\n  if (customElements$1 && customElements$1.flush) {\n    customElements$1.flush();\n  }\n  // continue flushing after elements are upgraded...\n  const isFlushedMaxed = (flushCount > flushMax);\n  if (flushList.length && !isFlushedMaxed) {\n      flush();\n  }\n  flushCount = 0;\n  if (isFlushedMaxed) {\n    throw new Error('Loop detected in ShadyDOM distribution, aborting.')\n  }\n}\n\nflush.list = flushList;\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nclass AsyncObserver {\n\n  constructor() {\n    this._scheduled = false;\n    this.addedNodes = [];\n    this.removedNodes = [];\n    this.callbacks = new Set();\n  }\n\n  schedule() {\n    if (!this._scheduled) {\n      this._scheduled = true;\n      promish.then(() => {\n        this.flush();\n      });\n    }\n  }\n\n  flush() {\n    if (this._scheduled) {\n      this._scheduled = false;\n      let mutations = this.takeRecords();\n      if (mutations.length) {\n        this.callbacks.forEach(function(cb) {\n          cb(mutations);\n        });\n      }\n    }\n  }\n\n  takeRecords() {\n    if (this.addedNodes.length || this.removedNodes.length) {\n      let mutations = [{\n        addedNodes: this.addedNodes,\n        removedNodes: this.removedNodes\n      }];\n      this.addedNodes = [];\n      this.removedNodes = [];\n      return mutations;\n    }\n    return [];\n  }\n\n}\n\n// TODO(sorvell): consider instead polyfilling MutationObserver\n// directly so that users do not have to fork their code.\n// Supporting the entire api may be challenging: e.g. filtering out\n// removed nodes in the wrong scope and seeing non-distributing\n// subtree child mutations.\nlet observeChildren = function(node, callback) {\n  node.__shady = node.__shady || {};\n  if (!node.__shady.observer) {\n    node.__shady.observer = new AsyncObserver();\n  }\n  node.__shady.observer.callbacks.add(callback);\n  let observer = node.__shady.observer;\n  return {\n    _callback: callback,\n    _observer: observer,\n    _node: node,\n    takeRecords() {\n      return observer.takeRecords()\n    }\n  };\n};\n\nlet unobserveChildren = function(handle) {\n  let observer = handle && handle._observer;\n  if (observer) {\n    observer.callbacks.delete(handle._callback);\n    if (!observer.callbacks.size) {\n      handle._node.__shady.observer = null;\n    }\n  }\n};\n\nfunction filterMutations(mutations, target) {\n  const targetRootNode = target.getRootNode();\n  return mutations.map(function(mutation) {\n    const mutationInScope = (targetRootNode === mutation.target.getRootNode());\n    if (mutationInScope && mutation.addedNodes) {\n      let nodes = Array.from(mutation.addedNodes).filter(function(n) {\n        return (targetRootNode === n.getRootNode());\n      });\n      if (nodes.length) {\n        mutation = Object.create(mutation);\n        Object.defineProperty(mutation, 'addedNodes', {\n          value: nodes,\n          configurable: true\n        });\n        return mutation;\n      }\n    } else if (mutationInScope) {\n      return mutation;\n    }\n  }).filter(function(m) { return m});\n}\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nlet appendChild = Element.prototype.appendChild;\nlet insertBefore = Element.prototype.insertBefore;\nlet removeChild = Element.prototype.removeChild;\nlet setAttribute = Element.prototype.setAttribute;\nlet removeAttribute = Element.prototype.removeAttribute;\nlet cloneNode = Element.prototype.cloneNode;\nlet importNode = Document.prototype.importNode;\nlet addEventListener = Element.prototype.addEventListener;\nlet removeEventListener = Element.prototype.removeEventListener;\n\n\nvar nativeMethods = Object.freeze({\n\tappendChild: appendChild,\n\tinsertBefore: insertBefore,\n\tremoveChild: removeChild,\n\tsetAttribute: setAttribute,\n\tremoveAttribute: removeAttribute,\n\tcloneNode: cloneNode,\n\timportNode: importNode,\n\taddEventListener: addEventListener,\n\tremoveEventListener: removeEventListener\n});\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n// Cribbed from ShadowDOM polyfill\n// https://github.com/webcomponents/webcomponentsjs/blob/master/src/ShadowDOM/wrappers/HTMLElement.js#L28\n/////////////////////////////////////////////////////////////////////////////\n// innerHTML and outerHTML\n\n// http://www.whatwg.org/specs/web-apps/current-work/multipage/the-end.html#escapingString\nlet escapeAttrRegExp = /[&\\u00A0\"]/g;\nlet escapeDataRegExp = /[&\\u00A0<>]/g;\n\nfunction escapeReplace(c) {\n  switch (c) {\n    case '&':\n      return '&amp;';\n    case '<':\n      return '&lt;';\n    case '>':\n      return '&gt;';\n    case '\"':\n      return '&quot;';\n    case '\\u00A0':\n      return '&nbsp;';\n  }\n}\n\nfunction escapeAttr(s) {\n  return s.replace(escapeAttrRegExp, escapeReplace);\n}\n\nfunction escapeData(s) {\n  return s.replace(escapeDataRegExp, escapeReplace);\n}\n\nfunction makeSet(arr) {\n  let set = {};\n  for (let i = 0; i < arr.length; i++) {\n    set[arr[i]] = true;\n  }\n  return set;\n}\n\n// http://www.whatwg.org/specs/web-apps/current-work/#void-elements\nlet voidElements = makeSet([\n  'area',\n  'base',\n  'br',\n  'col',\n  'command',\n  'embed',\n  'hr',\n  'img',\n  'input',\n  'keygen',\n  'link',\n  'meta',\n  'param',\n  'source',\n  'track',\n  'wbr'\n]);\n\nlet plaintextParents = makeSet([\n  'style',\n  'script',\n  'xmp',\n  'iframe',\n  'noembed',\n  'noframes',\n  'plaintext',\n  'noscript'\n]);\n\nfunction getOuterHTML(node, parentNode, composed) {\n  switch (node.nodeType) {\n    case Node.ELEMENT_NODE: {\n      let tagName = node.localName;\n      let s = '<' + tagName;\n      let attrs = node.attributes;\n      for (let i = 0, attr; (attr = attrs[i]); i++) {\n        s += ' ' + attr.name + '=\"' + escapeAttr(attr.value) + '\"';\n      }\n      s += '>';\n      if (voidElements[tagName]) {\n        return s;\n      }\n      return s + getInnerHTML(node, composed) + '</' + tagName + '>';\n    }\n    case Node.TEXT_NODE: {\n      let data = node.data;\n      if (parentNode && plaintextParents[parentNode.localName]) {\n        return data;\n      }\n      return escapeData(data);\n    }\n    case Node.COMMENT_NODE: {\n      return '<!--' + node.data + '-->';\n    }\n    default: {\n      window.console.error(node);\n      throw new Error('not implemented');\n    }\n  }\n}\n\nfunction getInnerHTML(node, composed) {\n  if (node.localName === 'template') {\n    node = node.content;\n  }\n  let s = '';\n  let c$ = composed ? composed(node) : node.childNodes;\n  for (let i=0, l=c$.length, child; (i<l) && (child=c$[i]); i++) {\n    s += getOuterHTML(child, node, composed);\n  }\n  return s;\n}\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nlet nodeWalker = document.createTreeWalker(document, NodeFilter.SHOW_ALL,\n  null, false);\n\nlet elementWalker = document.createTreeWalker(document, NodeFilter.SHOW_ELEMENT,\n  null, false);\n\nfunction parentNode(node) {\n  nodeWalker.currentNode = node;\n  return nodeWalker.parentNode();\n}\n\nfunction firstChild(node) {\n  nodeWalker.currentNode = node;\n  return nodeWalker.firstChild();\n}\n\nfunction lastChild(node) {\n  nodeWalker.currentNode = node;\n  return nodeWalker.lastChild();\n}\n\nfunction previousSibling(node) {\n  nodeWalker.currentNode = node;\n  return nodeWalker.previousSibling();\n}\n\nfunction nextSibling(node) {\n  nodeWalker.currentNode = node;\n  return nodeWalker.nextSibling();\n}\n\nfunction childNodes(node) {\n  let nodes = [];\n  nodeWalker.currentNode = node;\n  let n = nodeWalker.firstChild();\n  while (n) {\n    nodes.push(n);\n    n = nodeWalker.nextSibling();\n  }\n  return nodes;\n}\n\nfunction parentElement(node) {\n  elementWalker.currentNode = node;\n  return elementWalker.parentNode();\n}\n\nfunction firstElementChild(node) {\n  elementWalker.currentNode = node;\n  return elementWalker.firstChild();\n}\n\nfunction lastElementChild(node) {\n  elementWalker.currentNode = node;\n  return elementWalker.lastChild();\n}\n\nfunction previousElementSibling(node) {\n  elementWalker.currentNode = node;\n  return elementWalker.previousSibling();\n}\n\nfunction nextElementSibling(node) {\n  elementWalker.currentNode = node;\n  return elementWalker.nextSibling();\n}\n\nfunction children(node) {\n  let nodes = [];\n  elementWalker.currentNode = node;\n  let n = elementWalker.firstChild();\n  while (n) {\n    nodes.push(n);\n    n = elementWalker.nextSibling();\n  }\n  return nodes;\n}\n\nfunction innerHTML(node) {\n  return getInnerHTML(node, (n) => childNodes(n));\n}\n\nfunction textContent(node) {\n  if (node.nodeType !== Node.ELEMENT_NODE) {\n    return node.nodeValue;\n  }\n  let textWalker = document.createTreeWalker(node, NodeFilter.SHOW_TEXT,\n    null, false);\n  let content = '', n;\n  while ( (n = textWalker.nextNode()) ) {\n    // TODO(sorvell): can't use textContent since we patch it on Node.prototype!\n    // However, should probably patch it only on element.\n    content += n.nodeValue;\n  }\n  return content;\n}\n\nvar nativeTree = Object.freeze({\n\tparentNode: parentNode,\n\tfirstChild: firstChild,\n\tlastChild: lastChild,\n\tpreviousSibling: previousSibling,\n\tnextSibling: nextSibling,\n\tchildNodes: childNodes,\n\tparentElement: parentElement,\n\tfirstElementChild: firstElementChild,\n\tlastElementChild: lastElementChild,\n\tpreviousElementSibling: previousElementSibling,\n\tnextElementSibling: nextElementSibling,\n\tchildren: children,\n\tinnerHTML: innerHTML,\n\ttextContent: textContent\n});\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nfunction getProperty(node, prop) {\n  return node.__shady && node.__shady[prop];\n}\n\nfunction hasProperty(node, prop) {\n  return getProperty(node, prop) !== undefined;\n}\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nfunction generateSimpleDescriptor(prop) {\n  return {\n    get() {\n      let l = getProperty(this, prop);\n      return l !== undefined ? l : nativeTree[prop](this);\n    },\n    configurable: true\n  }\n}\n\nfunction clearNode(node) {\n  while (node.firstChild) {\n    node.removeChild(node.firstChild);\n  }\n}\n\nconst nativeInnerHTMLDesc =\n  Object.getOwnPropertyDescriptor(Element.prototype, 'innerHTML') ||\n  Object.getOwnPropertyDescriptor(HTMLElement.prototype, 'innerHTML');\n\nconst inertDoc = document.implementation.createHTMLDocument('inert');\nconst htmlContainer = inertDoc.createElement('div');\n\nconst nativeActiveElementDescriptor = Object.getOwnPropertyDescriptor(\n  Document.prototype, 'activeElement');\nfunction getDocumentActiveElement() {\n  if (nativeActiveElementDescriptor && nativeActiveElementDescriptor.get) {\n    return nativeActiveElementDescriptor.get.call(document);\n  } else if (!settings.hasDescriptors) {\n    return document.activeElement;\n  }\n}\n\nfunction activeElementForNode(node) {\n  let active = getDocumentActiveElement();\n  if (!active) {\n    return null;\n  }\n  let isShadyRoot$$1 = !!(isShadyRoot(node));\n  if (node !== document) {\n    // If this node isn't a document or shady root, then it doesn't have\n    // an active element.\n    if (!isShadyRoot$$1) {\n      return null;\n    }\n    // If this shady root's host is the active element or the active\n    // element is not a descendant of the host (in the composed tree),\n    // then it doesn't have an active element.\n    if (node.host === active ||\n        !node.host.contains(active)) {\n      return null;\n    }\n  }\n  // This node is either the document or a shady root of which the active\n  // element is a (composed) descendant of its host; iterate upwards to\n  // find the active element's most shallow host within it.\n  let activeRoot = ownerShadyRootForNode(active);\n  while (activeRoot && activeRoot !== node) {\n    active = activeRoot.host;\n    activeRoot = ownerShadyRootForNode(active);\n  }\n  if (node === document) {\n    // This node is the document, so activeRoot should be null.\n    return activeRoot ? null : active;\n  } else {\n    // This node is a non-document shady root, and it should be\n    // activeRoot.\n    return activeRoot === node ? active : null;\n  }\n}\n\nlet OutsideAccessors = {\n  // node...\n  parentElement: generateSimpleDescriptor('parentElement'),\n\n  parentNode: generateSimpleDescriptor('parentNode'),\n\n  nextSibling: generateSimpleDescriptor('nextSibling'),\n\n  previousSibling: generateSimpleDescriptor('previousSibling'),\n\n  className: {\n    get() {\n      return this.getAttribute('class');\n    },\n    set(value) {\n      this.setAttribute('class', value);\n    },\n    configurable: true\n  },\n\n  // fragment, element, document\n  nextElementSibling: {\n    get() {\n      if (hasProperty(this, 'nextSibling')) {\n        let n = this.nextSibling;\n        while (n && n.nodeType !== Node.ELEMENT_NODE) {\n          n = n.nextSibling;\n        }\n        return n;\n      } else {\n        return nextElementSibling(this);\n      }\n    },\n    configurable: true\n  },\n\n  previousElementSibling: {\n    get() {\n      if (hasProperty(this, 'previousSibling')) {\n        let n = this.previousSibling;\n        while (n && n.nodeType !== Node.ELEMENT_NODE) {\n          n = n.previousSibling;\n        }\n        return n;\n      } else {\n        return previousElementSibling(this);\n      }\n    },\n    configurable: true\n  }\n\n};\n\nlet InsideAccessors = {\n\n  childNodes: {\n    get() {\n      if (hasProperty(this, 'firstChild')) {\n        if (!this.__shady.childNodes) {\n          this.__shady.childNodes = [];\n          for (let n=this.firstChild; n; n=n.nextSibling) {\n            this.__shady.childNodes.push(n);\n          }\n        }\n        return this.__shady.childNodes;\n      } else {\n        return childNodes(this);\n      }\n    },\n    configurable: true\n  },\n\n  firstChild: generateSimpleDescriptor('firstChild'),\n\n  lastChild: generateSimpleDescriptor('lastChild'),\n\n  textContent: {\n    get() {\n      if (hasProperty(this, 'firstChild')) {\n        let tc = [];\n        for (let i = 0, cn = this.childNodes, c; (c = cn[i]); i++) {\n          if (c.nodeType !== Node.COMMENT_NODE) {\n            tc.push(c.textContent);\n          }\n        }\n        return tc.join('');\n      } else {\n        return textContent(this);\n      }\n    },\n    set(text) {\n      if (this.nodeType !== Node.ELEMENT_NODE) {\n        // TODO(sorvell): can't do this if patch nodeValue.\n        this.nodeValue = text;\n      } else {\n        clearNode(this);\n        if (text) {\n          this.appendChild(document.createTextNode(text));\n        }\n      }\n    },\n    configurable: true\n  },\n\n  // fragment, element, document\n  firstElementChild: {\n    get() {\n      if (hasProperty(this, 'firstChild')) {\n        let n = this.firstChild;\n        while (n && n.nodeType !== Node.ELEMENT_NODE) {\n          n = n.nextSibling;\n        }\n        return n;\n      } else {\n        return firstElementChild(this);\n      }\n    },\n    configurable: true\n  },\n\n  lastElementChild: {\n    get() {\n      if (hasProperty(this, 'lastChild')) {\n        let n = this.lastChild;\n        while (n && n.nodeType !== Node.ELEMENT_NODE) {\n          n = n.previousSibling;\n        }\n        return n;\n      } else {\n        return lastElementChild(this);\n      }\n    },\n    configurable: true\n  },\n\n  children: {\n    get() {\n      if (hasProperty(this, 'firstChild')) {\n        return Array.prototype.filter.call(this.childNodes, function(n) {\n          return (n.nodeType === Node.ELEMENT_NODE);\n        });\n      } else {\n        return children(this);\n      }\n    },\n    configurable: true\n  },\n\n  // element (HTMLElement on IE11)\n  innerHTML: {\n    get() {\n      let content = this.localName === 'template' ? this.content : this;\n      if (hasProperty(this, 'firstChild')) {\n        return getInnerHTML(content);\n      } else {\n        return innerHTML(content);\n      }\n    },\n    set(text) {\n      let content = this.localName === 'template' ? this.content : this;\n      clearNode(content);\n      if (nativeInnerHTMLDesc && nativeInnerHTMLDesc.set) {\n        nativeInnerHTMLDesc.set.call(htmlContainer, text);\n      } else {\n        htmlContainer.innerHTML = text;\n      }\n      while (htmlContainer.firstChild) {\n        content.appendChild(htmlContainer.firstChild);\n      }\n    },\n    configurable: true\n  }\n\n};\n\n// Note: Can be patched on element prototype on all browsers.\n// Must be patched on instance on browsers that support native Shadow DOM\n// but do not have builtin accessors (old Chrome).\nlet ShadowRootAccessor = {\n  shadowRoot: {\n    get() {\n      return this.shadyRoot;\n    },\n    set(value) {\n      this.shadyRoot = value;\n    },\n    configurable: true\n  }\n};\n\n// Note: Can be patched on document prototype on browsers with builtin accessors.\n// Must be patched separately on simulated ShadowRoot.\n// Must be patched as `_activeElement` on browsers without builtin accessors.\nlet ActiveElementAccessor = {\n\n  activeElement: {\n    get() {\n      return activeElementForNode(this);\n    },\n    set() {},\n    configurable: true\n  }\n\n};\n\n// patch a group of descriptors on an object only if it exists or if the `force`\n// argument is true.\nfunction patchAccessorGroup(obj, descriptors, force) {\n  for (let p in descriptors) {\n    let objDesc = Object.getOwnPropertyDescriptor(obj, p);\n    if ((objDesc && objDesc.configurable) ||\n      (!objDesc && force)) {\n      Object.defineProperty(obj, p, descriptors[p]);\n    } else if (force) {\n      console.warn('Could not define', p, 'on', obj);\n    }\n  }\n}\n\n// patch dom accessors on proto where they exist\nfunction patchAccessors(proto) {\n  patchAccessorGroup(proto, OutsideAccessors);\n  patchAccessorGroup(proto, InsideAccessors);\n  patchAccessorGroup(proto, ActiveElementAccessor);\n}\n\n// ensure element descriptors (IE/Edge don't have em)\nfunction patchShadowRootAccessors(proto) {\n  patchAccessorGroup(proto, InsideAccessors, true);\n  patchAccessorGroup(proto, ActiveElementAccessor, true);\n}\n\n// ensure an element has patched \"outside\" accessors; no-op when not needed\nlet patchOutsideElementAccessors = settings.hasDescriptors ?\n  function() {} : function(element) {\n    if (!(element.__shady && element.__shady.__outsideAccessors)) {\n      element.__shady = element.__shady || {};\n      element.__shady.__outsideAccessors = true;\n      patchAccessorGroup(element, OutsideAccessors, true);\n    }\n  };\n\n// ensure an element has patched \"inside\" accessors; no-op when not needed\nlet patchInsideElementAccessors = settings.hasDescriptors ?\n  function() {} : function(element) {\n    if (!(element.__shady && element.__shady.__insideAccessors)) {\n      element.__shady = element.__shady || {};\n      element.__shady.__insideAccessors = true;\n      patchAccessorGroup(element, InsideAccessors, true);\n      patchAccessorGroup(element, ShadowRootAccessor, true);\n    }\n  };\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nfunction recordInsertBefore(node, container, ref_node) {\n  patchInsideElementAccessors(container);\n  container.__shady = container.__shady || {};\n  if (hasProperty(container, 'firstChild')) {\n    container.__shady.childNodes = null;\n  }\n  // handle document fragments\n  if (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n    let c$ = node.childNodes;\n    for (let i=0; i < c$.length; i++) {\n      linkNode(c$[i], container, ref_node);\n    }\n    // cleanup logical dom in doc fragment.\n    node.__shady = node.__shady || {};\n    let resetTo = hasProperty(node, 'firstChild') ? null : undefined;\n    node.__shady.firstChild = node.__shady.lastChild = resetTo;\n    node.__shady.childNodes = resetTo;\n  } else {\n    linkNode(node, container, ref_node);\n  }\n}\n\nfunction linkNode(node, container, ref_node) {\n  patchOutsideElementAccessors(node);\n  ref_node = ref_node || null;\n  node.__shady = node.__shady || {};\n  container.__shady = container.__shady || {};\n  if (ref_node) {\n    ref_node.__shady = ref_node.__shady || {};\n  }\n  // update ref_node.previousSibling <-> node\n  node.__shady.previousSibling = ref_node ? ref_node.__shady.previousSibling :\n    container.lastChild;\n  let ps = node.__shady.previousSibling;\n  if (ps && ps.__shady) {\n    ps.__shady.nextSibling = node;\n  }\n  // update node <-> ref_node\n  let ns = node.__shady.nextSibling = ref_node;\n  if (ns && ns.__shady) {\n    ns.__shady.previousSibling = node;\n  }\n  // update node <-> container\n  node.__shady.parentNode = container;\n  if (ref_node) {\n    if (ref_node === container.__shady.firstChild) {\n      container.__shady.firstChild = node;\n    }\n  } else {\n    container.__shady.lastChild = node;\n    if (!container.__shady.firstChild) {\n      container.__shady.firstChild = node;\n    }\n  }\n  // remove caching of childNodes\n  container.__shady.childNodes = null;\n}\n\nfunction recordRemoveChild(node, container) {\n  node.__shady = node.__shady || {};\n  container.__shady = container.__shady || {};\n  if (node === container.__shady.firstChild) {\n    container.__shady.firstChild = node.__shady.nextSibling;\n  }\n  if (node === container.__shady.lastChild) {\n    container.__shady.lastChild = node.__shady.previousSibling;\n  }\n  let p = node.__shady.previousSibling;\n  let n = node.__shady.nextSibling;\n  if (p) {\n    p.__shady = p.__shady || {};\n    p.__shady.nextSibling = n;\n  }\n  if (n) {\n    n.__shady = n.__shady || {};\n    n.__shady.previousSibling = p;\n  }\n  // When an element is removed, logical data is no longer tracked.\n  // Explicitly set `undefined` here to indicate this. This is disginguished\n  // from `null` which is set if info is null.\n  node.__shady.parentNode = node.__shady.previousSibling =\n    node.__shady.nextSibling = undefined;\n  if (hasProperty(container, 'childNodes')) {\n    // remove caching of childNodes\n    container.__shady.childNodes = null;\n  }\n}\n\nlet recordChildNodes = function(node) {\n  if (!hasProperty(node, 'firstChild')) {\n    node.__shady = node.__shady || {};\n    node.__shady.firstChild = firstChild(node);\n    node.__shady.lastChild = lastChild(node);\n    patchInsideElementAccessors(node);\n    let c$ = node.__shady.childNodes = childNodes(node);\n    for (let i=0, n; (i<c$.length) && (n=c$[i]); i++) {\n      n.__shady = n.__shady || {};\n      n.__shady.parentNode = node;\n      n.__shady.nextSibling = c$[i+1] || null;\n      n.__shady.previousSibling = c$[i-1] || null;\n      patchOutsideElementAccessors(n);\n    }\n  }\n};\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n// Try to add node. Record logical info, track insertion points, perform\n// distribution iff needed. Return true if the add is handled.\nfunction addNode(container, node, ref_node) {\n  let ownerRoot = ownerShadyRootForNode(container);\n  let ipAdded;\n  if (ownerRoot) {\n    // optimization: special insertion point tracking\n    // TODO(sorvell): verify that the renderPending check here should not be needed.\n    if (node.__noInsertionPoint && !ownerRoot._changePending) {\n      ownerRoot._skipUpdateInsertionPoints = true;\n    }\n    // note: we always need to see if an insertion point is added\n    // since this saves logical tree info; however, invalidation state\n    // needs\n    ipAdded = _maybeAddInsertionPoint(node, container, ownerRoot);\n    // invalidate insertion points IFF not already invalid!\n    if (ipAdded) {\n      ownerRoot._skipUpdateInsertionPoints = false;\n    }\n  }\n  if (hasProperty(container, 'firstChild')) {\n    recordInsertBefore(node, container, ref_node);\n  }\n  // if not distributing and not adding to host, do a fast path addition\n  // TODO(sorvell): revisit flow since `ipAdded` needed here if\n  // node is a fragment that has a patched QSA.\n  let handled = _maybeDistribute(node, container, ownerRoot, ipAdded) ||\n    container.shadyRoot;\n  return handled;\n}\n\n// Try to remove node: update logical info and perform distribution iff\n// needed. Return true if the removal has been handled.\n// note that it's possible for both the node's host and its parent\n// to require distribution... both cases are handled here.\nfunction removeNode(node) {\n  // important that we want to do this only if the node has a logical parent\n  let logicalParent = hasProperty(node, 'parentNode') &&\n    getProperty(node, 'parentNode');\n  let distributed;\n  let ownerRoot = ownerShadyRootForNode(node);\n  if (logicalParent || ownerRoot) {\n    // distribute node's parent iff needed\n    distributed = maybeDistributeParent(node);\n    if (logicalParent) {\n      recordRemoveChild(node, logicalParent);\n    }\n    // remove node from root and distribute it iff needed\n    let removedDistributed = ownerRoot &&\n      _removeDistributedChildren(ownerRoot, node);\n    let addedInsertionPoint = (logicalParent && ownerRoot &&\n      logicalParent.localName === ownerRoot.getInsertionPointTag());\n    if (removedDistributed || addedInsertionPoint) {\n      ownerRoot._skipUpdateInsertionPoints = false;\n      updateRootViaContentChange(ownerRoot);\n    }\n  }\n  _removeOwnerShadyRoot(node);\n  return distributed;\n}\n\n\nfunction _scheduleObserver(node, addedNode, removedNode) {\n  let observer = node.__shady && node.__shady.observer;\n  if (observer) {\n    if (addedNode) {\n      observer.addedNodes.push(addedNode);\n    }\n    if (removedNode) {\n      observer.removedNodes.push(removedNode);\n    }\n    observer.schedule();\n  }\n}\n\nfunction removeNodeFromParent(node, parent) {\n  if (parent) {\n    _scheduleObserver(parent, null, node);\n    return removeNode(node);\n  } else {\n    _removeOwnerShadyRoot(node);\n  }\n}\n\nfunction _hasCachedOwnerRoot(node) {\n  return Boolean(node.__ownerShadyRoot !== undefined);\n}\n\nfunction getRootNode(node) {\n  if (!node || !node.nodeType) {\n    return;\n  }\n  let root = node.__ownerShadyRoot;\n  if (root === undefined) {\n    if (isShadyRoot(node)) {\n      root = node;\n    } else {\n      let parent = node.parentNode;\n      root = parent ? getRootNode(parent) : node;\n    }\n    // memo-ize result for performance but only memo-ize\n    // result if node is in the document. This avoids a problem where a root\n    // can be cached while an element is inside a fragment.\n    // If this happens and we cache the result, the value can become stale\n    // because for perf we avoid processing the subtree of added fragments.\n    if (document.documentElement.contains(node)) {\n      node.__ownerShadyRoot = root;\n    }\n  }\n  return root;\n}\n\nfunction _maybeDistribute(node, container, ownerRoot, ipAdded) {\n  // TODO(sorvell): technically we should check non-fragment nodes for\n  // <content> children but since this case is assumed to be exceedingly\n  // rare, we avoid the cost and will address with some specific api\n  // when the need arises.  For now, the user must call\n  // distributeContent(true), which updates insertion points manually\n  // and forces distribution.\n  let insertionPointTag = ownerRoot && ownerRoot.getInsertionPointTag() || '';\n  let fragContent = (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) &&\n    !node.__noInsertionPoint &&\n    insertionPointTag && node.querySelector(insertionPointTag);\n  let wrappedContent = fragContent &&\n    (fragContent.parentNode.nodeType !==\n    Node.DOCUMENT_FRAGMENT_NODE);\n  let hasContent = fragContent || (node.localName === insertionPointTag);\n  // There are 3 possible cases where a distribution may need to occur:\n  // 1. <content> being inserted (the host of the shady root where\n  //    content is inserted needs distribution)\n  // 2. children being inserted into parent with a shady root (parent\n  //    needs distribution)\n  // 3. container is an insertionPoint\n  if (hasContent || (container.localName === insertionPointTag) || ipAdded) {\n    if (ownerRoot) {\n      // note, insertion point list update is handled after node\n      // mutations are complete\n      updateRootViaContentChange(ownerRoot);\n    }\n  }\n  let needsDist = _nodeNeedsDistribution(container);\n  if (needsDist) {\n    updateRootViaContentChange(container.shadyRoot);\n  }\n  // Return true when distribution will fully handle the composition\n  // Note that if a content was being inserted that was wrapped by a node,\n  // and the parent does not need distribution, return false to allow\n  // the nodes to be added directly, after which children may be\n  // distributed and composed into the wrapping node(s)\n  return needsDist || (hasContent && !wrappedContent);\n}\n\n/* note: parent argument is required since node may have an out\nof date parent at this point; returns true if a <content> is being added */\nfunction _maybeAddInsertionPoint(node, parent, root) {\n  let added;\n  let insertionPointTag = root.getInsertionPointTag();\n  if (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE &&\n    !node.__noInsertionPoint) {\n    let c$ = node.querySelectorAll(insertionPointTag);\n    for (let i=0, n, np, na; (i<c$.length) && (n=c$[i]); i++) {\n      np = n.parentNode;\n      // don't allow node's parent to be fragment itself\n      if (np === node) {\n        np = parent;\n      }\n      na = _maybeAddInsertionPoint(n, np, root);\n      added = added || na;\n    }\n  } else if (node.localName === insertionPointTag) {\n    recordChildNodes(parent);\n    recordChildNodes(node);\n    added = true;\n  }\n  return added;\n}\n\nfunction _nodeNeedsDistribution(node) {\n  return node && node.shadyRoot &&\n    node.shadyRoot.hasInsertionPoint();\n}\n\nfunction _removeDistributedChildren(root, container) {\n  let hostNeedsDist;\n  let ip$ = root._insertionPoints;\n  for (let i=0; i<ip$.length; i++) {\n    let insertionPoint = ip$[i];\n    if (_contains(container, insertionPoint)) {\n      let dc$ = insertionPoint.assignedNodes({flatten: true});\n      for (let j=0; j<dc$.length; j++) {\n        hostNeedsDist = true;\n        let node = dc$[j];\n        let parent = parentNode(node);\n        if (parent) {\n          removeChild.call(parent, node);\n        }\n      }\n    }\n  }\n  return hostNeedsDist;\n}\n\nfunction _contains(container, node) {\n  while (node) {\n    if (node == container) {\n      return true;\n    }\n    node = node.parentNode;\n  }\n}\n\nfunction _removeOwnerShadyRoot(node) {\n  // optimization: only reset the tree if node is actually in a root\n  if (_hasCachedOwnerRoot(node)) {\n    let c$ = node.childNodes;\n    for (let i=0, l=c$.length, n; (i<l) && (n=c$[i]); i++) {\n      _removeOwnerShadyRoot(n);\n    }\n  }\n  node.__ownerShadyRoot = undefined;\n}\n\n// TODO(sorvell): This will fail if distribution that affects this\n// question is pending; this is expected to be exceedingly rare, but if\n// the issue comes up, we can force a flush in this case.\nfunction firstComposedNode(insertionPoint) {\n  let n$ = insertionPoint.assignedNodes({flatten: true});\n  let root = getRootNode(insertionPoint);\n  for (let i=0, l=n$.length, n; (i<l) && (n=n$[i]); i++) {\n    // means that we're composed to this spot.\n    if (root.isFinalDestination(insertionPoint, n)) {\n      return n;\n    }\n  }\n}\n\nfunction maybeDistributeParent(node) {\n  let parent = node.parentNode;\n  if (_nodeNeedsDistribution(parent)) {\n    updateRootViaContentChange(parent.shadyRoot);\n    return true;\n  }\n}\n\nfunction updateRootViaContentChange(root) {\n  // mark root as mutation based on a mutation\n  root._changePending = true;\n  root.update();\n}\n\nfunction distributeAttributeChange(node, name) {\n  if (name === 'slot') {\n    maybeDistributeParent(node);\n  } else if (node.localName === 'slot' && name === 'name') {\n    let root = ownerShadyRootForNode(node);\n    if (root) {\n      root.update();\n    }\n  }\n}\n\n// NOTE: `query` is used primarily for ShadyDOM's querySelector impl,\n// but it's also generally useful to recurse through the element tree\n// and is used by Polymer's styling system.\nfunction query(node, matcher, halter) {\n  let list = [];\n  _queryElements(node.childNodes, matcher,\n    halter, list);\n  return list;\n}\n\nfunction _queryElements(elements, matcher, halter, list) {\n  for (let i=0, l=elements.length, c; (i<l) && (c=elements[i]); i++) {\n    if (c.nodeType === Node.ELEMENT_NODE &&\n        _queryElement(c, matcher, halter, list)) {\n      return true;\n    }\n  }\n}\n\nfunction _queryElement(node, matcher, halter, list) {\n  let result = matcher(node);\n  if (result) {\n    list.push(node);\n  }\n  if (halter && halter(result)) {\n    return result;\n  }\n  _queryElements(node.childNodes, matcher,\n    halter, list);\n}\n\nfunction renderRootNode(element) {\n  var root = element.getRootNode();\n  if (isShadyRoot(root)) {\n    root.render();\n  }\n}\n\nfunction setAttribute$1(node, attr, value) {\n  // avoid scoping elements in non-main document to avoid template documents\n  if (window.ShadyCSS && attr === 'class' && node.ownerDocument === document) {\n    window.ShadyCSS.setElementClass(node, value);\n  } else {\n    setAttribute.call(node, attr, value);\n    distributeAttributeChange(node, attr);\n  }\n}\n\nfunction removeAttribute$1(node, attr) {\n  removeAttribute.call(node, attr);\n  distributeAttributeChange(node, attr);\n}\n\n// cases in which we may not be able to just do standard native call\n// 1. container has a shadyRoot (needsDistribution IFF the shadyRoot\n// has an insertion point)\n// 2. container is a shadyRoot (don't distribute, instead set\n// container to container.host.\n// 3. node is <content> (host of container needs distribution)\nfunction insertBefore$1(parent, node, ref_node) {\n  if (ref_node) {\n    let p = getProperty(ref_node, 'parentNode');\n    if (p !== undefined && p !== parent) {\n      throw Error('The ref_node to be inserted before is not a child ' +\n        'of this node');\n    }\n  }\n  // remove node from its current position iff it's in a tree.\n  if (node.nodeType !== Node.DOCUMENT_FRAGMENT_NODE) {\n    let parent = getProperty(node, 'parentNode');\n    if (parent) {\n      removeNodeFromParent(node, parent);\n    } else if (node.parentNode) {\n      removeChild.call(node.parentNode, node);\n    }\n  }\n  if (!addNode(parent, node, ref_node)) {\n    if (ref_node) {\n      // if ref_node is an insertion point replace with first distributed node\n      let root = ownerShadyRootForNode(ref_node);\n      if (root) {\n        ref_node = ref_node.localName === root.getInsertionPointTag() ?\n          firstComposedNode(ref_node) : ref_node;\n      }\n    }\n    // if adding to a shadyRoot, add to host instead\n    let container = isShadyRoot(parent) ?\n      parent.host : parent;\n    if (ref_node) {\n      insertBefore.call(container, node, ref_node);\n    } else {\n      appendChild.call(container, node);\n    }\n  }\n  _scheduleObserver(parent, node);\n  return node;\n}\n\n/**\n  Removes the given `node` from the element's `lightChildren`.\n  This method also performs dom composition.\n*/\nfunction removeChild$1(parent, node) {\n  if (node.parentNode !== parent) {\n    throw Error('The node to be removed is not a child of this node: ' +\n      node);\n  }\n  if (!removeNode(node)) {\n    // if removing from a shadyRoot, remove form host instead\n    let container = isShadyRoot(parent) ?\n      parent.host :\n      parent;\n    // not guaranteed to physically be in container; e.g.\n    // undistributed nodes.\n    let nativeParent = parentNode(node);\n    if (container === nativeParent) {\n      removeChild.call(container, node);\n    }\n  }\n  _scheduleObserver(parent, null, node);\n  return node;\n}\n\nfunction cloneNode$1(node, deep) {\n  if (node.localName == 'template') {\n    return cloneNode.call(node, deep);\n  } else {\n    let n = cloneNode.call(node, false);\n    if (deep) {\n      let c$ = node.childNodes;\n      for (let i=0, nc; i < c$.length; i++) {\n        nc = c$[i].cloneNode(true);\n        n.appendChild(nc);\n      }\n    }\n    return n;\n  }\n}\n\n// note: Though not technically correct, we fast path `importNode`\n// when called on a node not owned by the main document.\n// This allows, for example, elements that cannot\n// contain custom elements and are therefore not likely to contain shadowRoots\n// to cloned natively. This is a fairly significant performance win.\nfunction importNode$1(node, deep, nativeImportNode) {\n  if (!nativeImportNode) {\n    nativeImportNode = importNode;\n  }\n  if (node.ownerDocument !== document) {\n    return nativeImportNode.call(document, node, deep);\n  }\n  let n = nativeImportNode.call(document, node, false);\n  if (deep) {\n    let c$ = node.childNodes;\n    for (let i=0, nc; i < c$.length; i++) {\n      nc = importNode$1(c$[i], true, nativeImportNode);\n      n.appendChild(nc);\n    }\n  }\n  return n;\n}\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n// https://github.com/w3c/webcomponents/issues/513#issuecomment-224183937\nlet alwaysComposed = {\n  blur: true,\n  focus: true,\n  focusin: true,\n  focusout: true,\n  click: true,\n  dblclick: true,\n  mousedown: true,\n  mouseenter: true,\n  mouseleave: true,\n  mousemove: true,\n  mouseout: true,\n  mouseover: true,\n  mouseup: true,\n  wheel: true,\n  beforeinput: true,\n  input: true,\n  keydown: true,\n  keyup: true,\n  compositionstart: true,\n  compositionupdate: true,\n  compositionend: true,\n  touchstart: true,\n  touchend: true,\n  touchmove: true,\n  touchcancel: true,\n  pointerover: true,\n  pointerenter: true,\n  pointerdown: true,\n  pointermove: true,\n  pointerup: true,\n  pointercancel: true,\n  pointerout: true,\n  pointerleave: true,\n  gotpointercapture: true,\n  lostpointercapture: true,\n  dragstart: true,\n  drag: true,\n  dragenter: true,\n  dragleave: true,\n  dragover: true,\n  drop: true,\n  dragend: true,\n  DOMActivate: true,\n  DOMFocusIn: true,\n  DOMFocusOut: true,\n  keypress: true\n};\n\nfunction pathComposer(startNode, composed) {\n  let composedPath = [];\n  let current = startNode;\n  let startRoot = startNode === window ? window : startNode.getRootNode();\n  while (current) {\n    composedPath.push(current);\n    if (current.assignedSlot) {\n      current = current.assignedSlot;\n    } else if (current.nodeType === Node.DOCUMENT_FRAGMENT_NODE && current.host && (composed || current !== startRoot)) {\n      current = current.host;\n    } else {\n      current = current.parentNode;\n    }\n  }\n  // event composedPath includes window when startNode's ownerRoot is document\n  if (composedPath[composedPath.length - 1] === document) {\n    composedPath.push(window);\n  }\n  return composedPath;\n}\n\nfunction retarget(refNode, path) {\n  if (!isShadyRoot) {\n    return refNode;\n  }\n  // If ANCESTOR's root is not a shadow root or ANCESTOR's root is BASE's\n  // shadow-including inclusive ancestor, return ANCESTOR.\n  let refNodePath = pathComposer(refNode, true);\n  let p$ = path;\n  for (let i=0, ancestor, lastRoot, root, rootIdx; i < p$.length; i++) {\n    ancestor = p$[i];\n    root = ancestor === window ? window : ancestor.getRootNode();\n    if (root !== lastRoot) {\n      rootIdx = refNodePath.indexOf(root);\n      lastRoot = root;\n    }\n    if (!isShadyRoot(root) || rootIdx > -1) {\n      return ancestor;\n    }\n  }\n}\n\nlet eventMixin = {\n\n  get composed() {\n    if (this.isTrusted && this.__composed === undefined) {\n      this.__composed = alwaysComposed[this.type];\n    }\n    return this.__composed || false;\n  },\n\n  composedPath() {\n    if (!this.__composedPath) {\n      this.__composedPath = pathComposer(this.__target, this.composed);\n    }\n    return this.__composedPath;\n  },\n\n  get target() {\n    return retarget(this.currentTarget, this.composedPath());\n  },\n\n  // http://w3c.github.io/webcomponents/spec/shadow/#event-relatedtarget-retargeting\n  get relatedTarget() {\n    if (!this.__relatedTarget) {\n      return null;\n    }\n    if (!this.__relatedTargetComposedPath) {\n      this.__relatedTargetComposedPath = pathComposer(this.__relatedTarget, true);\n    }\n    // find the deepest node in relatedTarget composed path that is in the same root with the currentTarget\n    return retarget(this.currentTarget, this.__relatedTargetComposedPath);\n  },\n  stopPropagation() {\n    Event.prototype.stopPropagation.call(this);\n    this.__propagationStopped = true;\n  },\n  stopImmediatePropagation() {\n    Event.prototype.stopImmediatePropagation.call(this);\n    this.__immediatePropagationStopped = true;\n    this.__propagationStopped = true;\n  }\n\n};\n\nfunction mixinComposedFlag(Base) {\n  // NOTE: avoiding use of `class` here so that transpiled output does not\n  // try to do `Base.call` with a dom construtor.\n  let klazz = function(type, options) {\n    let event = new Base(type, options);\n    event.__composed = options && Boolean(options.composed);\n    return event;\n  };\n  // put constructor properties on subclass\n  mixin(klazz, Base);\n  klazz.prototype = Base.prototype;\n  return klazz;\n}\n\nlet nonBubblingEventsToRetarget = {\n  focus: true,\n  blur: true\n};\n\nfunction fireHandlers(event, node, phase) {\n  let hs = node.__handlers && node.__handlers[event.type] &&\n    node.__handlers[event.type][phase];\n  if (hs) {\n    for (let i = 0, fn; (fn = hs[i]); i++) {\n      fn.call(node, event);\n      if (event.__immediatePropagationStopped) {\n        return;\n      }\n    }\n  }\n}\n\nfunction retargetNonBubblingEvent(e) {\n  let path = e.composedPath();\n  let node;\n  // override `currentTarget` to let patched `target` calculate correctly\n  Object.defineProperty(e, 'currentTarget', {\n    get: function() {\n      return node;\n    },\n    configurable: true\n  });\n  for (let i = path.length - 1; i >= 0; i--) {\n    node = path[i];\n    // capture phase fires all capture handlers\n    fireHandlers(e, node, 'capture');\n    if (e.__propagationStopped) {\n      return;\n    }\n  }\n\n  // set the event phase to `AT_TARGET` as in spec\n  Object.defineProperty(e, 'eventPhase', {value: Event.AT_TARGET});\n\n  // the event only needs to be fired when owner roots change when iterating the event path\n  // keep track of the last seen owner root\n  let lastFiredRoot;\n  for (let i = 0; i < path.length; i++) {\n    node = path[i];\n    if (i === 0 || (node.shadowRoot && node.shadowRoot === lastFiredRoot)) {\n      fireHandlers(e, node, 'bubble');\n      // don't bother with window, it doesn't have `getRootNode` and will be last in the path anyway\n      if (node !== window) {\n        lastFiredRoot = node.getRootNode();\n      }\n      if (e.__propagationStopped) {\n        return;\n      }\n    }\n  }\n}\n\nfunction addEventListener$1(type, fn, optionsOrCapture) {\n  if (!fn) {\n    return;\n  }\n\n  // The callback `fn` might be used for multiple nodes/events. Since we generate\n  // a wrapper function, we need to keep track of it when we remove the listener.\n  // It's more efficient to store the node/type/options information as Array in\n  // `fn` itself rather than the node (we assume that the same callback is used\n  // for few nodes at most, whereas a node will likely have many event listeners).\n  // NOTE(valdrin) invoking external functions is costly, inline has better perf.\n  let capture, once, passive;\n  if (typeof optionsOrCapture === 'object') {\n    capture = Boolean(optionsOrCapture.capture);\n    once = Boolean(optionsOrCapture.once);\n    passive = Boolean(optionsOrCapture.passive);\n  } else {\n    capture = Boolean(optionsOrCapture);\n    once = false;\n    passive = false;\n  }\n  if (fn.__eventWrappers) {\n    // Stop if the wrapper function has already been created.\n    for (let i = 0; i < fn.__eventWrappers.length; i++) {\n      if (fn.__eventWrappers[i].node === this &&\n          fn.__eventWrappers[i].type === type &&\n          fn.__eventWrappers[i].capture === capture &&\n          fn.__eventWrappers[i].once === once &&\n          fn.__eventWrappers[i].passive === passive) {\n        return;\n      }\n    }\n  } else {\n    fn.__eventWrappers = [];\n  }\n\n  const wrapperFn = function(e) {\n    // Support `once` option.\n    if (once) {\n      this.removeEventListener(type, fn, optionsOrCapture);\n    }\n    if (!e.__target) {\n      e.__target = e.target;\n      e.__relatedTarget = e.relatedTarget;\n      patchPrototype(e, eventMixin);\n    }\n    // There are two critera that should stop events from firing on this node\n    // 1. the event is not composed and the current node is not in the same root as the target\n    // 2. when bubbling, if after retargeting, relatedTarget and target point to the same node\n    if (e.composed || e.composedPath().indexOf(this) > -1) {\n      if (e.eventPhase === Event.BUBBLING_PHASE) {\n        if (e.target === e.relatedTarget) {\n          e.stopImmediatePropagation();\n          return;\n        }\n      }\n      return fn(e);\n    }\n  };\n  // Store the wrapper information.\n  fn.__eventWrappers.push({\n    node: this,\n    type: type,\n    capture: capture,\n    once: once,\n    passive: passive,\n    wrapperFn: wrapperFn\n  });\n\n  if (nonBubblingEventsToRetarget[type]) {\n    this.__handlers = this.__handlers || {};\n    this.__handlers[type] = this.__handlers[type] || {capture: [], bubble: []};\n    this.__handlers[type][capture ? 'capture' : 'bubble'].push(wrapperFn);\n  } else {\n    addEventListener.call(this, type, wrapperFn, optionsOrCapture);\n  }\n}\n\nfunction removeEventListener$1(type, fn, optionsOrCapture) {\n  if (!fn) {\n    return;\n  }\n\n  // NOTE(valdrin) invoking external functions is costly, inline has better perf.\n  let capture, once, passive;\n  if (typeof optionsOrCapture === 'object') {\n    capture = Boolean(optionsOrCapture.capture);\n    once = Boolean(optionsOrCapture.once);\n    passive = Boolean(optionsOrCapture.passive);\n  } else {\n    capture = Boolean(optionsOrCapture);\n    once = false;\n    passive = false;\n  }\n  // Search the wrapped function.\n  let wrapperFn = undefined;\n  if (fn.__eventWrappers) {\n    for (let i = 0; i < fn.__eventWrappers.length; i++) {\n      if (fn.__eventWrappers[i].node === this &&\n          fn.__eventWrappers[i].type === type &&\n          fn.__eventWrappers[i].capture === capture &&\n          fn.__eventWrappers[i].once === once &&\n          fn.__eventWrappers[i].passive === passive) {\n        wrapperFn = fn.__eventWrappers.splice(i, 1)[0].wrapperFn;\n        // Cleanup.\n        if (!fn.__eventWrappers.length) {\n          fn.__eventWrappers = undefined;\n        }\n        break;\n      }\n    }\n  }\n\n  removeEventListener.call(this, type, wrapperFn || fn, optionsOrCapture);\n  if (wrapperFn && nonBubblingEventsToRetarget[type] &&\n      this.__handlers && this.__handlers[type]) {\n    const arr = this.__handlers[type][capture ? 'capture' : 'bubble'];\n    const idx = arr.indexOf(wrapperFn);\n    if (idx > -1) {\n      arr.splice(idx, 1);\n    }\n  }\n}\n\nfunction activateFocusEventOverrides() {\n  for (let ev in nonBubblingEventsToRetarget) {\n    window.addEventListener(ev, function(e) {\n      if (!e.__target) {\n        e.__target = e.target;\n        e.__relatedTarget = e.relatedTarget;\n        patchPrototype(e, eventMixin);\n        retargetNonBubblingEvent(e);\n        e.stopImmediatePropagation();\n      }\n    }, true);\n  }\n}\n\nlet PatchedEvent = mixinComposedFlag(window.Event);\nlet PatchedCustomEvent = mixinComposedFlag(window.CustomEvent);\nlet PatchedMouseEvent = mixinComposedFlag(window.MouseEvent);\n\nfunction patchEvents() {\n  window.Event = PatchedEvent;\n  window.CustomEvent = PatchedCustomEvent;\n  window.MouseEvent = PatchedMouseEvent;\n  activateFocusEventOverrides();\n}\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nfunction newSplice(index, removed, addedCount) {\n  return {\n    index: index,\n    removed: removed,\n    addedCount: addedCount\n  };\n}\n\nconst EDIT_LEAVE = 0;\nconst EDIT_UPDATE = 1;\nconst EDIT_ADD = 2;\nconst EDIT_DELETE = 3;\n\nlet ArraySplice = {\n\n  // Note: This function is *based* on the computation of the Levenshtein\n  // \"edit\" distance. The one change is that \"updates\" are treated as two\n  // edits - not one. With Array splices, an update is really a delete\n  // followed by an add. By retaining this, we optimize for \"keeping\" the\n  // maximum array items in the original array. For example:\n  //\n  //   'xxxx123' -> '123yyyy'\n  //\n  // With 1-edit updates, the shortest path would be just to update all seven\n  // characters. With 2-edit updates, we delete 4, leave 3, and add 4. This\n  // leaves the substring '123' intact.\n  calcEditDistances(current, currentStart, currentEnd,\n                              old, oldStart, oldEnd) {\n    // \"Deletion\" columns\n    let rowCount = oldEnd - oldStart + 1;\n    let columnCount = currentEnd - currentStart + 1;\n    let distances = new Array(rowCount);\n\n    // \"Addition\" rows. Initialize null column.\n    for (let i = 0; i < rowCount; i++) {\n      distances[i] = new Array(columnCount);\n      distances[i][0] = i;\n    }\n\n    // Initialize null row\n    for (let j = 0; j < columnCount; j++)\n      distances[0][j] = j;\n\n    for (let i = 1; i < rowCount; i++) {\n      for (let j = 1; j < columnCount; j++) {\n        if (this.equals(current[currentStart + j - 1], old[oldStart + i - 1]))\n          distances[i][j] = distances[i - 1][j - 1];\n        else {\n          let north = distances[i - 1][j] + 1;\n          let west = distances[i][j - 1] + 1;\n          distances[i][j] = north < west ? north : west;\n        }\n      }\n    }\n\n    return distances;\n  },\n\n  // This starts at the final weight, and walks \"backward\" by finding\n  // the minimum previous weight recursively until the origin of the weight\n  // matrix.\n  spliceOperationsFromEditDistances(distances) {\n    let i = distances.length - 1;\n    let j = distances[0].length - 1;\n    let current = distances[i][j];\n    let edits = [];\n    while (i > 0 || j > 0) {\n      if (i == 0) {\n        edits.push(EDIT_ADD);\n        j--;\n        continue;\n      }\n      if (j == 0) {\n        edits.push(EDIT_DELETE);\n        i--;\n        continue;\n      }\n      let northWest = distances[i - 1][j - 1];\n      let west = distances[i - 1][j];\n      let north = distances[i][j - 1];\n\n      let min;\n      if (west < north)\n        min = west < northWest ? west : northWest;\n      else\n        min = north < northWest ? north : northWest;\n\n      if (min == northWest) {\n        if (northWest == current) {\n          edits.push(EDIT_LEAVE);\n        } else {\n          edits.push(EDIT_UPDATE);\n          current = northWest;\n        }\n        i--;\n        j--;\n      } else if (min == west) {\n        edits.push(EDIT_DELETE);\n        i--;\n        current = west;\n      } else {\n        edits.push(EDIT_ADD);\n        j--;\n        current = north;\n      }\n    }\n\n    edits.reverse();\n    return edits;\n  },\n\n  /**\n   * Splice Projection functions:\n   *\n   * A splice map is a representation of how a previous array of items\n   * was transformed into a new array of items. Conceptually it is a list of\n   * tuples of\n   *\n   *   <index, removed, addedCount>\n   *\n   * which are kept in ascending index order of. The tuple represents that at\n   * the |index|, |removed| sequence of items were removed, and counting forward\n   * from |index|, |addedCount| items were added.\n   */\n\n  /**\n   * Lacking individual splice mutation information, the minimal set of\n   * splices can be synthesized given the previous state and final state of an\n   * array. The basic approach is to calculate the edit distance matrix and\n   * choose the shortest path through it.\n   *\n   * Complexity: O(l * p)\n   *   l: The length of the current array\n   *   p: The length of the old array\n   */\n  calcSplices(current, currentStart, currentEnd,\n                        old, oldStart, oldEnd) {\n    let prefixCount = 0;\n    let suffixCount = 0;\n    let splice;\n\n    let minLength = Math.min(currentEnd - currentStart, oldEnd - oldStart);\n    if (currentStart == 0 && oldStart == 0)\n      prefixCount = this.sharedPrefix(current, old, minLength);\n\n    if (currentEnd == current.length && oldEnd == old.length)\n      suffixCount = this.sharedSuffix(current, old, minLength - prefixCount);\n\n    currentStart += prefixCount;\n    oldStart += prefixCount;\n    currentEnd -= suffixCount;\n    oldEnd -= suffixCount;\n\n    if (currentEnd - currentStart == 0 && oldEnd - oldStart == 0)\n      return [];\n\n    if (currentStart == currentEnd) {\n      splice = newSplice(currentStart, [], 0);\n      while (oldStart < oldEnd)\n        splice.removed.push(old[oldStart++]);\n\n      return [ splice ];\n    } else if (oldStart == oldEnd)\n      return [ newSplice(currentStart, [], currentEnd - currentStart) ];\n\n    let ops = this.spliceOperationsFromEditDistances(\n        this.calcEditDistances(current, currentStart, currentEnd,\n                               old, oldStart, oldEnd));\n\n    splice = undefined;\n    let splices = [];\n    let index = currentStart;\n    let oldIndex = oldStart;\n    for (let i = 0; i < ops.length; i++) {\n      switch(ops[i]) {\n        case EDIT_LEAVE:\n          if (splice) {\n            splices.push(splice);\n            splice = undefined;\n          }\n\n          index++;\n          oldIndex++;\n          break;\n        case EDIT_UPDATE:\n          if (!splice)\n            splice = newSplice(index, [], 0);\n\n          splice.addedCount++;\n          index++;\n\n          splice.removed.push(old[oldIndex]);\n          oldIndex++;\n          break;\n        case EDIT_ADD:\n          if (!splice)\n            splice = newSplice(index, [], 0);\n\n          splice.addedCount++;\n          index++;\n          break;\n        case EDIT_DELETE:\n          if (!splice)\n            splice = newSplice(index, [], 0);\n\n          splice.removed.push(old[oldIndex]);\n          oldIndex++;\n          break;\n      }\n    }\n\n    if (splice) {\n      splices.push(splice);\n    }\n    return splices;\n  },\n\n  sharedPrefix(current, old, searchLength) {\n    for (let i = 0; i < searchLength; i++)\n      if (!this.equals(current[i], old[i]))\n        return i;\n    return searchLength;\n  },\n\n  sharedSuffix(current, old, searchLength) {\n    let index1 = current.length;\n    let index2 = old.length;\n    let count = 0;\n    while (count < searchLength && this.equals(current[--index1], old[--index2]))\n      count++;\n\n    return count;\n  },\n\n  calculateSplices(current, previous) {\n    return this.calcSplices(current, 0, current.length, previous, 0,\n                            previous.length);\n  },\n\n  equals(currentValue, previousValue) {\n    return currentValue === previousValue;\n  }\n\n};\n\nlet calculateSplices = (current, previous) =>\n  ArraySplice.calculateSplices(current, previous);\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n// NOTE: normalize event contruction where necessary (IE11)\nlet NormalizedEvent = typeof Event === 'function' ? Event :\n  function(inType, params) {\n    params = params || {};\n    var e = document.createEvent('Event');\n    e.initEvent(inType, Boolean(params.bubbles), Boolean(params.cancelable));\n    return e;\n  };\n\nvar Distributor = class {\n\n  constructor(root) {\n    this.root = root;\n    this.insertionPointTag = 'slot';\n  }\n\n  getInsertionPoints() {\n    return this.root.querySelectorAll(this.insertionPointTag);\n  }\n\n  hasInsertionPoint() {\n    return Boolean(this.root._insertionPoints &&\n      this.root._insertionPoints.length);\n  }\n\n  isInsertionPoint(node) {\n    return node.localName && node.localName == this.insertionPointTag;\n  }\n\n  distribute() {\n    if (this.hasInsertionPoint()) {\n      return this.distributePool(this.root, this.collectPool());\n    }\n    return [];\n  }\n\n  // Gather the pool of nodes that should be distributed. We will combine\n  // these with the \"content root\" to arrive at the composed tree.\n  collectPool() {\n    let host = this.root.host;\n    let pool=[], i=0;\n    for (let n=host.firstChild; n; n=n.nextSibling) {\n      pool[i++] = n;\n    }\n    return pool;\n  }\n\n  // perform \"logical\" distribution; note, no actual dom is moved here,\n  // instead elements are distributed into storage\n  // array where applicable.\n  distributePool(node, pool) {\n    let dirtyRoots = [];\n    let p$ = this.root._insertionPoints;\n    for (let i=0, l=p$.length, p; (i<l) && (p=p$[i]); i++) {\n      this.distributeInsertionPoint(p, pool);\n      // provoke redistribution on insertion point parents\n      // must do this on all candidate hosts since distribution in this\n      // scope invalidates their distribution.\n      // only get logical parent.\n      let parent = p.parentNode;\n      if (parent && parent.shadyRoot &&\n          this.hasInsertionPoint(parent.shadyRoot)) {\n        dirtyRoots.push(parent.shadyRoot);\n      }\n    }\n    for (let i=0; i < pool.length; i++) {\n      let p = pool[i];\n      if (p) {\n        p.__shady = p.__shady || {};\n        p.__shady.assignedSlot = undefined;\n        // remove undistributed elements from physical dom.\n        let parent = parentNode(p);\n        if (parent) {\n          removeChild.call(parent, p);\n        }\n      }\n    }\n    return dirtyRoots;\n  }\n\n  distributeInsertionPoint(insertionPoint, pool) {\n    let prevAssignedNodes = insertionPoint.__shady.assignedNodes;\n    if (prevAssignedNodes) {\n      this.clearAssignedSlots(insertionPoint, true);\n    }\n    insertionPoint.__shady.assignedNodes = [];\n    let needsSlotChange = false;\n    // distribute nodes from the pool that this selector matches\n    let anyDistributed = false;\n    for (let i=0, l=pool.length, node; i < l; i++) {\n      node=pool[i];\n      // skip nodes that were already used\n      if (!node) {\n        continue;\n      }\n      // distribute this node if it matches\n      if (this.matchesInsertionPoint(node, insertionPoint)) {\n        if (node.__shady._prevAssignedSlot != insertionPoint) {\n          needsSlotChange = true;\n        }\n        this.distributeNodeInto(node, insertionPoint);\n        // remove this node from the pool\n        pool[i] = undefined;\n        // since at least one node matched, we won't need fallback content\n        anyDistributed = true;\n      }\n    }\n    // Fallback content if nothing was distributed here\n    if (!anyDistributed) {\n      let children$$1 = insertionPoint.childNodes;\n      for (let j = 0, node; j < children$$1.length; j++) {\n        node = children$$1[j];\n        if (node.__shady._prevAssignedSlot != insertionPoint) {\n          needsSlotChange = true;\n        }\n        this.distributeNodeInto(node, insertionPoint);\n      }\n    }\n    // we're already dirty if a node was newly added to the slot\n    // and we're also dirty if the assigned count decreased.\n    if (prevAssignedNodes) {\n      // TODO(sorvell): the tracking of previously assigned slots\n      // could instead by done with a Set and then we could\n      // avoid needing to iterate here to clear the info.\n      for (let i=0; i < prevAssignedNodes.length; i++) {\n        prevAssignedNodes[i].__shady._prevAssignedSlot = null;\n      }\n      if (insertionPoint.__shady.assignedNodes.length < prevAssignedNodes.length) {\n        needsSlotChange = true;\n      }\n    }\n    this.setDistributedNodesOnInsertionPoint(insertionPoint);\n    if (needsSlotChange) {\n      this._fireSlotChange(insertionPoint);\n    }\n  }\n\n  clearAssignedSlots(slot, savePrevious) {\n    let n$ = slot.__shady.assignedNodes;\n    if (n$) {\n      for (let i=0; i < n$.length; i++) {\n        let n = n$[i];\n        if (savePrevious) {\n          n.__shady._prevAssignedSlot = n.__shady.assignedSlot;\n        }\n        // only clear if it was previously set to this slot;\n        // this helps ensure that if the node has otherwise been distributed\n        // ignore it.\n        if (n.__shady.assignedSlot === slot) {\n          n.__shady.assignedSlot = null;\n        }\n      }\n    }\n  }\n\n  matchesInsertionPoint(node, insertionPoint) {\n    let slotName = insertionPoint.getAttribute('name');\n    slotName = slotName ? slotName.trim() : '';\n    let slot = node.getAttribute && node.getAttribute('slot');\n    slot = slot ? slot.trim() : '';\n    return (slot == slotName);\n  }\n\n  distributeNodeInto(child, insertionPoint) {\n    insertionPoint.__shady.assignedNodes.push(child);\n    child.__shady.assignedSlot = insertionPoint;\n  }\n\n  setDistributedNodesOnInsertionPoint(insertionPoint) {\n    let n$ = insertionPoint.__shady.assignedNodes;\n    insertionPoint.__shady.distributedNodes = [];\n    for (let i=0, n; (i<n$.length) && (n=n$[i]) ; i++) {\n      if (this.isInsertionPoint(n)) {\n        let d$ = n.__shady.distributedNodes;\n        if (d$) {\n          for (let j=0; j < d$.length; j++) {\n            insertionPoint.__shady.distributedNodes.push(d$[j]);\n          }\n        }\n      } else {\n        insertionPoint.__shady.distributedNodes.push(n$[i]);\n      }\n    }\n  }\n\n  _fireSlotChange(insertionPoint) {\n    // NOTE: cannot bubble correctly here so not setting bubbles: true\n    // Safari tech preview does not bubble but chrome does\n    // Spec says it bubbles (https://dom.spec.whatwg.org/#mutation-observers)\n    insertionPoint.dispatchEvent(new NormalizedEvent('slotchange'));\n    if (insertionPoint.__shady.assignedSlot) {\n      this._fireSlotChange(insertionPoint.__shady.assignedSlot);\n    }\n  }\n\n  isFinalDestination(insertionPoint) {\n    return !(insertionPoint.__shady.assignedSlot);\n  }\n\n};\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n/**\n  Implements a pared down version of ShadowDOM's scoping, which is easy to\n  polyfill across browsers.\n*/\nfunction attachShadow(host, options) {\n  if (!host) {\n    throw 'Must provide a host.';\n  }\n  if (!options) {\n    throw 'Not enough arguments.'\n  }\n  // NOTE: this strange construction is necessary because\n  // DocumentFragment cannot be subclassed on older browsers.\n  let shadowRoot = document.createDocumentFragment();\n  shadowRoot.__proto__ = ShadyRootPrototype;\n  shadowRoot._init(host);\n  return shadowRoot;\n}\n\nlet ShadyRootPrototype = Object.create(DocumentFragment.prototype);\nextendAll(ShadyRootPrototype, {\n\n  _init(host) {\n    // NOTE: set a fake local name so this element can be\n    // distinguished from a DocumentFragment when patching.\n    // FF doesn't allow this to be `localName`\n    this.__localName = 'ShadyRoot';\n    // logical dom setup\n    recordChildNodes(host);\n    recordChildNodes(this);\n    // root <=> host\n    host.shadowRoot = this;\n    this.host = host;\n    // state flags\n    this._renderPending = false;\n    this._hasRendered = false;\n    this._changePending = false;\n    this._distributor = new Distributor(this);\n    this.update();\n  },\n\n  // async render\n  update() {\n    if (!this._renderPending) {\n      this._renderPending = true;\n      enqueue(() => this.render());\n    }\n  },\n\n  // returns the oldest renderPending ancestor root.\n  _getRenderRoot() {\n    let renderRoot = this;\n    let root = this;\n    while (root) {\n      if (root._renderPending) {\n        renderRoot = root;\n      }\n      root = root._rendererForHost();\n    }\n    return renderRoot;\n  },\n\n  // Returns the shadyRoot `this.host` if `this.host`\n  // has children that require distribution.\n  _rendererForHost() {\n    let root = this.host.getRootNode();\n    if (isShadyRoot(root)) {\n      let c$ = this.host.childNodes;\n      for (let i=0, c; i < c$.length; i++) {\n        c = c$[i];\n        if (this._distributor.isInsertionPoint(c)) {\n          return root;\n        }\n      }\n    }\n  },\n\n  render() {\n    if (this._renderPending) {\n      this._getRenderRoot()._render();\n    }\n  },\n\n  _render() {\n    this._renderPending = false;\n    this._changePending = false;\n    if (!this._skipUpdateInsertionPoints) {\n      this.updateInsertionPoints();\n    } else if (!this._hasRendered) {\n      this._insertionPoints = [];\n    }\n    this._skipUpdateInsertionPoints = false;\n    // TODO(sorvell): can add a first render optimization here\n    // to use if there are no insertion points\n    // 1. clear host node of composed children\n    // 2. appendChild the shadowRoot itself or (more robust) its logical children\n    // NOTE: this didn't seem worth it in perf testing\n    // but not ready to delete this info.\n    // logical\n    this.distribute();\n    // physical\n    this.compose();\n    this._hasRendered = true;\n  },\n\n  forceRender() {\n    this._renderPending = true;\n    this.render();\n  },\n\n  distribute() {\n    let dirtyRoots = this._distributor.distribute();\n    for (let i=0; i<dirtyRoots.length; i++) {\n      dirtyRoots[i]._render();\n    }\n  },\n\n  updateInsertionPoints() {\n    let i$ = this.__insertionPoints;\n    // if any insertion points have been removed, clear their distribution info\n    if (i$) {\n      for (let i=0, c; i < i$.length; i++) {\n        c = i$[i];\n        if (c.getRootNode() !== this) {\n          this._distributor.clearAssignedSlots(c);\n        }\n      }\n    }\n    i$ = this._insertionPoints = this._distributor.getInsertionPoints();\n    // ensure insertionPoints's and their parents have logical dom info.\n    // save logical tree info\n    // a. for shadyRoot\n    // b. for insertion points (fallback)\n    // c. for parents of insertion points\n    for (let i=0, c; i < i$.length; i++) {\n      c = i$[i];\n      c.__shady = c.__shady || {};\n      recordChildNodes(c);\n      recordChildNodes(c.parentNode);\n    }\n  },\n\n  get _insertionPoints() {\n    if (!this.__insertionPoints) {\n      this.updateInsertionPoints();\n    }\n    return this.__insertionPoints || (this.__insertionPoints = []);\n  },\n\n  set _insertionPoints(insertionPoints) {\n    this.__insertionPoints = insertionPoints;\n  },\n\n  hasInsertionPoint() {\n    return this._distributor.hasInsertionPoint();\n  },\n\n  compose() {\n    // compose self\n    // note: it's important to mark this clean before distribution\n    // so that attachment that provokes additional distribution (e.g.\n    // adding something to your parentNode) works\n    this._composeTree();\n    // TODO(sorvell): See fast paths here in Polymer v1\n    // (these seem unnecessary)\n  },\n\n  // Reify dom such that it is at its correct rendering position\n  // based on logical distribution.\n  _composeTree() {\n    this._updateChildNodes(this.host, this._composeNode(this.host));\n    let p$ = this._insertionPoints || [];\n    for (let i=0, l=p$.length, p, parent; (i<l) && (p=p$[i]); i++) {\n      parent = p.parentNode;\n      if ((parent !== this.host) && (parent !== this)) {\n        this._updateChildNodes(parent, this._composeNode(parent));\n      }\n    }\n  },\n\n  // Returns the list of nodes which should be rendered inside `node`.\n  _composeNode(node) {\n    let children$$1 = [];\n    let c$ = (node.shadyRoot || node).childNodes;\n    for (let i = 0; i < c$.length; i++) {\n      let child = c$[i];\n      if (this._distributor.isInsertionPoint(child)) {\n        let distributedNodes = child.__shady.distributedNodes ||\n          (child.__shady.distributedNodes = []);\n        for (let j = 0; j < distributedNodes.length; j++) {\n          let distributedNode = distributedNodes[j];\n          if (this.isFinalDestination(child, distributedNode)) {\n            children$$1.push(distributedNode);\n          }\n        }\n      } else {\n        children$$1.push(child);\n      }\n    }\n    return children$$1;\n  },\n\n  isFinalDestination(insertionPoint, node) {\n    return this._distributor.isFinalDestination(\n      insertionPoint, node);\n  },\n\n  // Ensures that the rendered node list inside `container` is `children`.\n  _updateChildNodes(container, children$$1) {\n    let composed = childNodes(container);\n    let splices = calculateSplices(children$$1, composed);\n    // process removals\n    for (let i=0, d=0, s; (i<splices.length) && (s=splices[i]); i++) {\n      for (let j=0, n; (j < s.removed.length) && (n=s.removed[j]); j++) {\n        // check if the node is still where we expect it is before trying\n        // to remove it; this can happen if we move a node and\n        // then schedule its previous host for distribution resulting in\n        // the node being removed here.\n        if (parentNode(n) === container) {\n          removeChild.call(container, n);\n        }\n        composed.splice(s.index + d, 1);\n      }\n      d -= s.addedCount;\n    }\n    // process adds\n    for (let i=0, s, next; (i<splices.length) && (s=splices[i]); i++) { //eslint-disable-line no-redeclare\n      next = composed[s.index];\n      for (let j=s.index, n; j < s.index + s.addedCount; j++) {\n        n = children$$1[j];\n        insertBefore.call(container, n, next);\n        // TODO(sorvell): is this splice strictly needed?\n        composed.splice(j, 0, n);\n      }\n    }\n  },\n\n  getInsertionPointTag() {\n    return this._distributor.insertionPointTag;\n  }\n\n});\n\npatchShadowRootAccessors(ShadyRootPrototype);\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nfunction getAssignedSlot(node) {\n  renderRootNode(node);\n  return getProperty(node, 'assignedSlot') || null;\n}\n\nlet nodeMixin = {\n\n  addEventListener: addEventListener$1,\n\n  removeEventListener: removeEventListener$1,\n\n  appendChild(node) {\n    return insertBefore$1(this, node);\n  },\n\n  insertBefore(node, ref_node) {\n    return insertBefore$1(this, node, ref_node);\n  },\n\n  removeChild(node) {\n    return removeChild$1(this, node);\n  },\n\n  replaceChild(node, ref_node) {\n    this.insertBefore(node, ref_node);\n    this.removeChild(ref_node);\n    return node;\n  },\n\n  cloneNode(deep) {\n    return cloneNode$1(this, deep);\n  },\n\n  getRootNode(options) {\n    return getRootNode(this, options);\n  },\n\n  get isConnected() {\n    return document.documentElement.contains(this)\n  }\n\n};\n\n// NOTE: For some reason `Text` redefines `assignedSlot`\nlet textMixin = {\n  get assignedSlot() {\n    return getAssignedSlot(this);\n  }\n};\n\nlet fragmentMixin = {\n\n  // TODO(sorvell): consider doing native QSA and filtering results.\n  querySelector(selector) {\n    // match selector and halt on first result.\n    let result = query(this, function(n) {\n      return matchesSelector(n, selector);\n    }, function(n) {\n      return Boolean(n);\n    })[0];\n    return result || null;\n  },\n\n  querySelectorAll(selector) {\n    return query(this, function(n) {\n      return matchesSelector(n, selector);\n    });\n  }\n\n};\n\nlet slotMixin = {\n\n  assignedNodes(options) {\n    if (this.localName === 'slot') {\n      renderRootNode(this);\n      return this.__shady ?\n        ((options && options.flatten ? this.__shady.distributedNodes :\n        this.__shady.assignedNodes) || []) :\n        [];\n    }\n  }\n\n};\n\nlet elementMixin = extendAll({\n\n  setAttribute(name, value) {\n    setAttribute$1(this, name, value);\n  },\n\n  removeAttribute(name) {\n    removeAttribute$1(this, name);\n  },\n\n  attachShadow(options) {\n    return attachShadow(this, options);\n  },\n\n  get slot() {\n    return this.getAttribute('slot');\n  },\n\n  set slot(value) {\n    this.setAttribute('slot', value);\n  },\n\n  get assignedSlot() {\n    return getAssignedSlot(this);\n  }\n\n}, fragmentMixin, slotMixin);\n\nObject.defineProperties(elementMixin, ShadowRootAccessor);\n\nlet documentMixin = extendAll({\n\n}, fragmentMixin);\n\nObject.defineProperties(documentMixin, {\n  _activeElement: ActiveElementAccessor.activeElement\n});\n\nfunction patchBuiltin(proto, obj) {\n  let n$ = Object.getOwnPropertyNames(obj);\n  for (let i=0; i < n$.length; i++) {\n    let n = n$[i];\n    let d = Object.getOwnPropertyDescriptor(obj, n);\n    // NOTE: we prefer writing directly here because some browsers\n    // have descriptors that are writable but not configurable (e.g.\n    // `appendChild` on older browsers)\n    if (d.value) {\n      proto[n] = d.value;\n    } else {\n      Object.defineProperty(proto, n, d);\n    }\n  }\n}\n\n\n// Apply patches to builtins (e.g. Element.prototype). Some of these patches\n// can be done unconditionally (mostly methods like\n// `Element.prototype.appendChild`) and some can only be done when the browser\n// has proper descriptors on the builtin prototype\n// (e.g. `Element.prototype.firstChild`)`. When descriptors are not available,\n// elements are individually patched when needed (see e.g.\n// `patchInside/OutsideElementAccessors` in `patch-accessors.js`).\nfunction patchBuiltins() {\n  // These patches can always be done, for all supported browsers.\n  patchBuiltin(window.Node.prototype, nodeMixin);\n  patchBuiltin(window.Text.prototype, textMixin);\n  patchBuiltin(window.DocumentFragment.prototype, fragmentMixin);\n  patchBuiltin(window.Element.prototype, elementMixin);\n  patchBuiltin(window.Document.prototype, documentMixin);\n  // patch this only on the instance because (1) main document is only\n  // one we care about; (2) better compatibility with other polyfills\n  // that may also patch the instance (e.g. CE)\n  let previousImportNode = document.importNode;\n  document.importNode = function(node, deep) {\n    return importNode$1(node, deep, previousImportNode);\n  };\n  if (window.HTMLSlotElement) {\n    patchBuiltin(window.HTMLSlotElement.prototype, slotMixin);\n  }\n  // These patches can *only* be done\n  // on browsers that have proper property descriptors on builtin prototypes.\n  // This includes: IE11, Edge, Chrome >= 4?; Safari >= 10, Firefox\n  // On older browsers (Chrome <= 4?, Safari 9), a per element patching\n  // strategy is used for patching accessors.\n  if (settings.hasDescriptors) {\n    patchAccessors(window.Node.prototype);\n    patchAccessors(window.Text.prototype);\n    patchAccessors(window.DocumentFragment.prototype);\n    patchAccessors(window.Element.prototype);\n    let nativeHTMLElement =\n      (window.customElements && customElements.nativeHTMLElement) ||\n      HTMLElement;\n    patchAccessors(nativeHTMLElement.prototype);\n    patchAccessors(window.Document.prototype);\n    if (window.HTMLSlotElement) {\n      patchAccessors(window.HTMLSlotElement.prototype);\n    }\n  }\n}\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n/**\n * Patches elements that interacts with ShadyDOM\n * such that tree traversal and mutation apis act like they would under\n * ShadowDOM.\n *\n * This import enables seemless interaction with ShadyDOM powered\n * custom elements, enabling better interoperation with 3rd party code,\n * libraries, and frameworks that use DOM tree manipulation apis.\n */\n\nif (settings.inUse) {\n\n  window.ShadyDOM = {\n    // TODO(sorvell): remove when Polymer does not depend on this.\n    inUse: settings.inUse,\n    // TODO(sorvell): remove when Polymer does not depend on this.\n    patch: function(node) { return node; },\n    isShadyRoot: isShadyRoot,\n    enqueue: enqueue,\n    flush: flush,\n    settings: settings,\n    filterMutations: filterMutations,\n    observeChildren: observeChildren,\n    unobserveChildren: unobserveChildren,\n    nativeMethods: nativeMethods,\n    nativeTree: nativeTree\n  };\n\n  // Apply patches to events...\n  patchEvents();\n  // Apply patches to builtins (e.g. Element.prototype) where applicable.\n  patchBuiltins();\n\n}\n\n}());\n"]}