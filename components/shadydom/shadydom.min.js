(function(){'use strict';/**
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function t(Ht){return!('ShadyRoot'!==Ht.__localName)}function o(Ht){let jt=Ht.getRootNode();if(t(jt))return jt}function r(Ht,jt){return ke.call(Ht,jt)}function a(Ht,jt,qt){let Gt=Object.getOwnPropertyDescriptor(jt,Ht);Gt&&Object.defineProperty(qt,Ht,Gt)}function _(Ht,jt){if(Ht&&jt){let qt=Object.getOwnPropertyNames(jt);for(let Bt,Gt=0;Gt<qt.length&&(Bt=qt[Gt]);Gt++)a(Bt,jt,Ht)}return Ht||jt}function h(Ht,...jt){for(let qt=0;qt<jt.length;qt++)_(Ht,jt[qt]);return Ht}function u(Ht,jt){for(var qt in jt)Ht[qt]=jt[qt];return Ht}function g(Ht,jt){let qt=Object.getPrototypeOf(Ht);if(!qt.hasOwnProperty('__patchProto')){let Gt=Object.create(qt);Gt.__sourceProto=qt,_(Gt,jt),qt.__patchProto=Gt}Ht.__proto__=qt.__patchProto}function y(Ht){He||(He=!0,We.then(N)),Ue.push(Ht)}function N(){for(He=!1,je++;Ue.length;)Ue.shift()();Fe&&Fe.flush&&Fe.flush();const Ht=100<je;if(Ue.length&&!Ht&&N(),je=0,Ht)throw new Error('Loop detected in ShadyDOM distribution, aborting.')}function f(Ht,jt){const qt=jt.getRootNode();return Ht.map(function(Gt){const Bt=qt===Gt.target.getRootNode();if(Bt&&Gt.addedNodes){let zt=Array.from(Gt.addedNodes).filter(function(Vt){return qt===Vt.getRootNode()});if(zt.length)return Gt=Object.create(Gt),Object.defineProperty(Gt,'addedNodes',{value:zt,configurable:!0}),Gt}else if(Bt)return Gt}).filter(function(Gt){return Gt})}function b(Ht){return'&'===Ht?'&amp;':'<'===Ht?'&lt;':'>'===Ht?'&gt;':'"'===Ht?'&quot;':'\xA0'===Ht?'&nbsp;':void 0}function v(Ht){return Ht.replace(tt,b)}function E(Ht){return Ht.replace(ot,b)}function S(Ht){let jt={};for(let qt=0;qt<Ht.length;qt++)jt[Ht[qt]]=!0;return jt}function P(Ht,jt,qt){switch(Ht.nodeType){case Node.ELEMENT_NODE:{let Gt=Ht.localName,Bt='<'+Gt,zt=Ht.attributes;for(let Xt,Vt=0;Xt=zt[Vt];Vt++)Bt+=' '+Xt.name+'="'+v(Xt.value)+'"';return Bt+='>',rt[Gt]?Bt:Bt+T(Ht,qt)+'</'+Gt+'>'}case Node.TEXT_NODE:{let Gt=Ht.data;return jt&&nt[jt.localName]?Gt:E(Gt)}case Node.COMMENT_NODE:return'<!--'+Ht.data+'-->';default:throw window.console.error(Ht),new Error('not implemented');}}function T(Ht,jt){'template'===Ht.localName&&(Ht=Ht.content);let qt='',Gt=jt?jt(Ht):Ht.childNodes;for(let Vt,Bt=0,zt=Gt.length;Bt<zt&&(Vt=Gt[Bt]);Bt++)qt+=P(Vt,Ht,jt);return qt}function C(Ht){return st.currentNode=Ht,st.parentNode()}function D(Ht){return st.currentNode=Ht,st.firstChild()}function M(Ht){return st.currentNode=Ht,st.lastChild()}function O(Ht){let jt=[];st.currentNode=Ht;for(let qt=st.firstChild();qt;)jt.push(qt),qt=st.nextSibling();return jt}function R(Ht){return dt.currentNode=Ht,dt.firstChild()}function x(Ht){return dt.currentNode=Ht,dt.lastChild()}function I(Ht){return dt.currentNode=Ht,dt.previousSibling()}function A(Ht){return dt.currentNode=Ht,dt.nextSibling()}function L(Ht){let jt=[];dt.currentNode=Ht;for(let qt=dt.firstChild();qt;)jt.push(qt),qt=dt.nextSibling();return jt}function w(Ht){return T(Ht,jt=>O(jt))}function k(Ht){if(Ht.nodeType!==Node.ELEMENT_NODE)return Ht.nodeValue;let jt=document.createTreeWalker(Ht,NodeFilter.SHOW_TEXT,null,!1),qt='',Gt;for(;Gt=jt.nextNode();)qt+=Gt.nodeValue;return qt}function W(Ht,jt){return Ht.__shady&&Ht.__shady[jt]}function F(Ht,jt){return W(Ht,jt)!==void 0}function U(Ht){return{get(){let jt=W(this,Ht);return jt===void 0?it[Ht](this):jt},configurable:!0}}function H(Ht){for(;Ht.firstChild;)Ht.removeChild(Ht.firstChild)}function q(){if(ht&&ht.get)return ht.get.call(document);return Ae.hasDescriptors?void 0:document.activeElement}function G(Ht){let jt=q();if(!jt)return null;let qt=!!t(Ht);if(Ht!==document){if(!qt)return null;if(Ht.host===jt||!Ht.host.contains(jt))return null}let Gt=o(jt);for(;Gt&&Gt!==Ht;)jt=Gt.host,Gt=o(jt);return Ht===document?Gt?null:jt:Gt===Ht?jt:null}function B(Ht,jt,qt){for(let Gt in jt){let Bt=Object.getOwnPropertyDescriptor(Ht,Gt);Bt&&Bt.configurable||!Bt&&qt?Object.defineProperty(Ht,Gt,jt[Gt]):qt&&console.warn('Could not define',Gt,'on',Ht)}}function z(Ht){B(Ht,pt),B(Ht,ut),B(Ht,gt)}function V(Ht,jt,qt){if(Nt(jt),jt.__shady=jt.__shady||{},F(jt,'firstChild')&&(jt.__shady.childNodes=null),Ht.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let Gt=Ht.childNodes;for(let zt=0;zt<Gt.length;zt++)X(Gt[zt],jt,qt);Ht.__shady=Ht.__shady||{};let Bt=F(Ht,'firstChild')?null:void 0;Ht.__shady.firstChild=Ht.__shady.lastChild=Bt,Ht.__shady.childNodes=Bt}else X(Ht,jt,qt)}function X(Ht,jt,qt){yt(Ht),qt=qt||null,Ht.__shady=Ht.__shady||{},jt.__shady=jt.__shady||{},qt&&(qt.__shady=qt.__shady||{}),Ht.__shady.previousSibling=qt?qt.__shady.previousSibling:jt.lastChild;let Gt=Ht.__shady.previousSibling;Gt&&Gt.__shady&&(Gt.__shady.nextSibling=Ht);let Bt=Ht.__shady.nextSibling=qt;Bt&&Bt.__shady&&(Bt.__shady.previousSibling=Ht),Ht.__shady.parentNode=jt,qt?qt===jt.__shady.firstChild&&(jt.__shady.firstChild=Ht):(jt.__shady.lastChild=Ht,!jt.__shady.firstChild&&(jt.__shady.firstChild=Ht)),jt.__shady.childNodes=null}function Q(Ht,jt){Ht.__shady=Ht.__shady||{},jt.__shady=jt.__shady||{},Ht===jt.__shady.firstChild&&(jt.__shady.firstChild=Ht.__shady.nextSibling),Ht===jt.__shady.lastChild&&(jt.__shady.lastChild=Ht.__shady.previousSibling);let qt=Ht.__shady.previousSibling,Gt=Ht.__shady.nextSibling;qt&&(qt.__shady=qt.__shady||{},qt.__shady.nextSibling=Gt),Gt&&(Gt.__shady=Gt.__shady||{},Gt.__shady.previousSibling=qt),Ht.__shady.parentNode=Ht.__shady.previousSibling=Ht.__shady.nextSibling=void 0,F(jt,'childNodes')&&(jt.__shady.childNodes=null)}function K(Ht,jt,qt){let Gt=o(Ht),Bt;Gt&&(jt.__noInsertionPoint&&!Gt._changePending&&(Gt._skipUpdateInsertionPoints=!0),Bt=oe(jt,Ht,Gt),Bt&&(Gt._skipUpdateInsertionPoints=!1)),F(Ht,'firstChild')&&V(jt,Ht,qt);let zt=te(jt,Ht,Gt,Bt)||Ht.shadyRoot;return zt}function J(Ht){let qt,jt=F(Ht,'parentNode')&&W(Ht,'parentNode'),Gt=o(Ht);if(jt||Gt){qt=ae(Ht),jt&&Q(Ht,jt);let Bt=Gt&&ne(Gt,Ht),zt=jt&&Gt&&jt.localName===Gt.getInsertionPointTag();(Bt||zt)&&(Gt._skipUpdateInsertionPoints=!1,le(Gt))}return de(Ht),qt}function Y(Ht,jt,qt){let Gt=Ht.__shady&&Ht.__shady.observer;Gt&&(jt&&Gt.addedNodes.push(jt),qt&&Gt.removedNodes.push(qt),Gt.schedule())}function Z(Ht,jt){return jt?(Y(jt,null,Ht),J(Ht)):void de(Ht)}function $(Ht){return!(Ht.__ownerShadyRoot===void 0)}function ee(Ht){if(Ht&&Ht.nodeType){let jt=Ht.__ownerShadyRoot;if(void 0===jt){if(t(Ht))jt=Ht;else{let qt=Ht.parentNode;jt=qt?ee(qt):Ht}document.documentElement.contains(Ht)&&(Ht.__ownerShadyRoot=jt)}return jt}}function te(Ht,jt,qt,Gt){let Bt=qt&&qt.getInsertionPointTag()||'',zt=Ht.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&!Ht.__noInsertionPoint&&Bt&&Ht.querySelector(Bt),Vt=zt&&zt.parentNode.nodeType!==Node.DOCUMENT_FRAGMENT_NODE,Xt=zt||Ht.localName===Bt;(Xt||jt.localName===Bt||Gt)&&qt&&le(qt);let Qt=re(jt);return Qt&&le(jt.shadyRoot),Qt||Xt&&!Vt}function oe(Ht,jt,qt){let Gt,Bt=qt.getInsertionPointTag();if(Ht.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&!Ht.__noInsertionPoint){let zt=Ht.querySelectorAll(Bt);for(let Xt,Qt,Kt,Vt=0;Vt<zt.length&&(Xt=zt[Vt]);Vt++)Qt=Xt.parentNode,Qt===Ht&&(Qt=jt),Kt=oe(Xt,Qt,qt),Gt=Gt||Kt}else Ht.localName===Bt&&(mt(jt),mt(Ht),Gt=!0);return Gt}function re(Ht){return Ht&&Ht.shadyRoot&&Ht.shadyRoot.hasInsertionPoint()}function ne(Ht,jt){let qt,Gt=Ht._insertionPoints;for(let Bt=0;Bt<Gt.length;Bt++){let zt=Gt[Bt];if(se(jt,zt)){let Vt=zt.assignedNodes({flatten:!0});for(let Xt=0;Xt<Vt.length;Xt++){qt=!0;let Qt=Vt[Xt],Kt=C(Qt);Kt&&Xe.call(Kt,Qt)}}}return qt}function se(Ht,jt){for(;jt;){if(jt==Ht)return!0;jt=jt.parentNode}}function de(Ht){if($(Ht)){let jt=Ht.childNodes;for(let Bt,qt=0,Gt=jt.length;qt<Gt&&(Bt=jt[qt]);qt++)de(Bt)}Ht.__ownerShadyRoot=void 0}function ie(Ht){let jt=Ht.assignedNodes({flatten:!0}),qt=ee(Ht);for(let zt,Gt=0,Bt=jt.length;Gt<Bt&&(zt=jt[Gt]);Gt++)if(qt.isFinalDestination(Ht,zt))return zt}function ae(Ht){let jt=Ht.parentNode;if(re(jt))return le(jt.shadyRoot),!0}function le(Ht){Ht._changePending=!0,Ht.update()}function _e(Ht,jt){if('slot'===jt)ae(Ht);else if('slot'===Ht.localName&&'name'===jt){let qt=o(Ht);qt&&qt.update()}}function he(Ht,jt,qt){let Gt=[];return pe(Ht.childNodes,jt,qt,Gt),Gt}function pe(Ht,jt,qt,Gt){for(let Vt,Bt=0,zt=Ht.length;Bt<zt&&(Vt=Ht[Bt]);Bt++)if(Vt.nodeType===Node.ELEMENT_NODE&&ue(Vt,jt,qt,Gt))return!0}function ue(Ht,jt,qt,Gt){let Bt=jt(Ht);return Bt&&Gt.push(Ht),qt&&qt(Bt)?Bt:void pe(Ht.childNodes,jt,qt,Gt)}function ce(Ht){var jt=Ht.getRootNode();t(jt)&&jt.render()}function ge(Ht,jt,qt){window.ShadyCSS&&'class'===jt&&Ht.ownerDocument===document?window.ShadyCSS.setElementClass(Ht,qt):(Qe.call(Ht,jt,qt),_e(Ht,jt))}function ye(Ht,jt){Ke.call(Ht,jt),_e(Ht,jt)}function Ne(Ht,jt,qt){if(qt){let Gt=W(qt,'parentNode');if(void 0!==Gt&&Gt!==Ht)throw Error('The ref_node to be inserted before is not a child of this node')}if(jt.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){let Gt=W(jt,'parentNode');Gt?Z(jt,Gt):jt.parentNode&&Xe.call(jt.parentNode,jt)}if(!K(Ht,jt,qt)){if(qt){let Bt=o(qt);Bt&&(qt=qt.localName===Bt.getInsertionPointTag()?ie(qt):qt)}let Gt=t(Ht)?Ht.host:Ht;qt?Ve.call(Gt,jt,qt):ze.call(Gt,jt)}return Y(Ht,jt),jt}function me(Ht,jt){if(jt.parentNode!==Ht)throw Error('The node to be removed is not a child of this node: '+jt);if(!J(jt)){let qt=t(Ht)?Ht.host:Ht,Gt=C(jt);qt===Gt&&Xe.call(qt,jt)}return Y(Ht,null,jt),jt}function fe(Ht,jt){if('template'==Ht.localName)return Je.call(Ht,jt);let qt=Je.call(Ht,!1);if(jt){let Gt=Ht.childNodes;for(let zt,Bt=0;Bt<Gt.length;Bt++)zt=Gt[Bt].cloneNode(!0),qt.appendChild(zt)}return qt}function be(Ht,jt,qt){if(qt||(qt=Ye),Ht.ownerDocument!==document)return qt.call(document,Ht,jt);let Gt=qt.call(document,Ht,!1);if(jt){let Bt=Ht.childNodes;for(let Vt,zt=0;zt<Bt.length;zt++)Vt=be(Bt[zt],!0,qt),Gt.appendChild(Vt)}return Gt}function ve(Ht,jt){let qt=[],Gt=Ht,Bt=Ht===window?window:Ht.getRootNode();for(;Gt;)qt.push(Gt),Gt=Gt.assignedSlot?Gt.assignedSlot:Gt.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&Gt.host&&(jt||Gt!==Bt)?Gt.host:Gt.parentNode;return qt[qt.length-1]===document&&qt.push(window),qt}function Ee(Ht,jt){if(!t)return Ht;let qt=ve(Ht,!0),Gt=jt;for(let zt,Vt,Xt,Qt,Bt=0;Bt<Gt.length;Bt++)if(zt=Gt[Bt],Xt=zt===window?window:zt.getRootNode(),Xt!=Vt&&(Qt=qt.indexOf(Xt),Vt=Xt),!t(Xt)||-1<Qt)return zt}function Se(Ht){let jt=function(qt,Gt){let Bt=new Ht(qt,Gt);return Bt.__composed=Gt&&!!Gt.composed,Bt};return u(jt,Ht),jt.prototype=Ht.prototype,jt}function Pe(Ht,jt,qt){let Gt=jt.__handlers&&jt.__handlers[Ht.type]&&jt.__handlers[Ht.type][qt];if(Gt)for(let zt,Bt=0;zt=Gt[Bt];Bt++)if(zt.call(jt,Ht),Ht.__immediatePropagationStopped)return}function Te(Ht){let jt=Ht.composedPath(),qt;Object.defineProperty(Ht,'currentTarget',{get:function(){return qt},configurable:!0});for(let Bt=jt.length-1;0<=Bt;Bt--)if(qt=jt[Bt],Pe(Ht,qt,'capture'),Ht.__propagationStopped)return;Object.defineProperty(Ht,'eventPhase',{value:Event.AT_TARGET});let Gt;for(let Bt=0;Bt<jt.length;Bt++)if(qt=jt[Bt],(0===Bt||qt.shadowRoot&&qt.shadowRoot===Gt)&&(Pe(Ht,qt,'bubble'),qt!==window&&(Gt=qt.getRootNode()),Ht.__propagationStopped))return}function Ce(){for(let Ht in vt)window.addEventListener(Ht,function(jt){jt.__target||(jt.__target=jt.target,jt.__relatedTarget=jt.relatedTarget,g(jt,bt),Te(jt),jt.stopImmediatePropagation())},!0)}function De(){window.Event=Et,window.CustomEvent=St,window.MouseEvent=Pt,Ce()}function Me(Ht,jt,qt){return{index:Ht,removed:jt,addedCount:qt}}function Oe(Ht,jt){if(!Ht)throw'Must provide a host.';if(!jt)throw'Not enough arguments.';let qt=document.createDocumentFragment();return qt.__proto__=At,qt._init(Ht),qt}function Re(Ht){return ce(Ht),W(Ht,'assignedSlot')||null}function xe(Ht,jt){let qt=Object.getOwnPropertyNames(jt);for(let Gt=0;Gt<qt.length;Gt++){let Bt=qt[Gt],zt=Object.getOwnPropertyDescriptor(jt,Bt);zt.value?Ht[Bt]=zt.value:Object.defineProperty(Ht,Bt,zt)}}function Ie(){xe(window.Node.prototype,Lt),xe(window.Text.prototype,wt),xe(window.DocumentFragment.prototype,kt),xe(window.Element.prototype,Ft),xe(window.Document.prototype,Ut);let Ht=document.importNode;if(document.importNode=function(jt,qt){return be(jt,qt,Ht)},window.HTMLSlotElement&&xe(window.HTMLSlotElement.prototype,Wt),Ae.hasDescriptors){z(window.Node.prototype),z(window.Text.prototype),z(window.DocumentFragment.prototype),z(window.Element.prototype);let jt=window.customElements&&customElements.nativeHTMLElement||HTMLElement;z(jt.prototype),z(window.Document.prototype),window.HTMLSlotElement&&z(window.HTMLSlotElement.prototype)}}let Ae=window.ShadyDOM||{};Ae.hasNativeShadowDOM=!!(Element.prototype.attachShadow&&Node.prototype.getRootNode);let Le=Object.getOwnPropertyDescriptor(Node.prototype,'firstChild');Ae.hasDescriptors=!!(Le&&Le.configurable&&Le.get),Ae.inUse=Ae.force||!Ae.hasNativeShadowDOM;let we=Element.prototype,ke=we.matches||we.matchesSelector||we.mozMatchesSelector||we.msMatchesSelector||we.oMatchesSelector||we.webkitMatchesSelector,We;if(window.Promise)We=Promise.resolve();else{let Ht=document.createTextNode(''),jt=0;We={then(qt){let Gt=new MutationObserver(function(){Gt.disconnect(),qt()});Gt.observe(Ht,{characterData:!0}),Ht.textContent=jt++}}}let Fe=window.customElements,Ue=[],He,je=0;N.list=Ue;class qe{constructor(){this._scheduled=!1,this.addedNodes=[],this.removedNodes=[],this.callbacks=new Set}schedule(){this._scheduled||(this._scheduled=!0,We.then(()=>{this.flush()}))}flush(){if(this._scheduled){this._scheduled=!1;let Ht=this.takeRecords();Ht.length&&this.callbacks.forEach(function(jt){jt(Ht)})}}takeRecords(){if(this.addedNodes.length||this.removedNodes.length){let Ht=[{addedNodes:this.addedNodes,removedNodes:this.removedNodes}];return this.addedNodes=[],this.removedNodes=[],Ht}return[]}}let Ge=function(Ht,jt){Ht.__shady=Ht.__shady||{},Ht.__shady.observer||(Ht.__shady.observer=new qe),Ht.__shady.observer.callbacks.add(jt);let qt=Ht.__shady.observer;return{_callback:jt,_observer:qt,_node:Ht,takeRecords(){return qt.takeRecords()}}},Be=function(Ht){let jt=Ht&&Ht._observer;jt&&(jt.callbacks.delete(Ht._callback),!jt.callbacks.size&&(Ht._node.__shady.observer=null))},ze=Element.prototype.appendChild,Ve=Element.prototype.insertBefore,Xe=Element.prototype.removeChild,Qe=Element.prototype.setAttribute,Ke=Element.prototype.removeAttribute,Je=Element.prototype.cloneNode,Ye=Document.prototype.importNode,Ze=Element.prototype.addEventListener,$e=Element.prototype.removeEventListener;var et=Object.freeze({appendChild:ze,insertBefore:Ve,removeChild:Xe,setAttribute:Qe,removeAttribute:Ke,cloneNode:Je,importNode:Ye,addEventListener:Ze,removeEventListener:$e});let tt=/[&\u00A0"]/g,ot=/[&\u00A0<>]/g,rt=S(['area','base','br','col','command','embed','hr','img','input','keygen','link','meta','param','source','track','wbr']),nt=S(['style','script','xmp','iframe','noembed','noframes','plaintext','noscript']),st=document.createTreeWalker(document,NodeFilter.SHOW_ALL,null,!1),dt=document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,null,!1);var it=Object.freeze({parentNode:C,firstChild:D,lastChild:M,previousSibling:function(jt){return st.currentNode=jt,st.previousSibling()},nextSibling:function(jt){return st.currentNode=jt,st.nextSibling()},childNodes:O,parentElement:function(jt){return dt.currentNode=jt,dt.parentNode()},firstElementChild:R,lastElementChild:x,previousElementSibling:I,nextElementSibling:A,children:L,innerHTML:w,textContent:k});const at=Object.getOwnPropertyDescriptor(Element.prototype,'innerHTML')||Object.getOwnPropertyDescriptor(HTMLElement.prototype,'innerHTML'),lt=document.implementation.createHTMLDocument('inert'),_t=lt.createElement('div'),ht=Object.getOwnPropertyDescriptor(Document.prototype,'activeElement');let pt={parentElement:U('parentElement'),parentNode:U('parentNode'),nextSibling:U('nextSibling'),previousSibling:U('previousSibling'),className:{get(){return this.getAttribute('class')},set(Ht){this.setAttribute('class',Ht)},configurable:!0},nextElementSibling:{get(){if(F(this,'nextSibling')){let Ht=this.nextSibling;for(;Ht&&Ht.nodeType!==Node.ELEMENT_NODE;)Ht=Ht.nextSibling;return Ht}return A(this)},configurable:!0},previousElementSibling:{get(){if(F(this,'previousSibling')){let Ht=this.previousSibling;for(;Ht&&Ht.nodeType!==Node.ELEMENT_NODE;)Ht=Ht.previousSibling;return Ht}return I(this)},configurable:!0}},ut={childNodes:{get(){if(F(this,'firstChild')){if(!this.__shady.childNodes){this.__shady.childNodes=[];for(let Ht=this.firstChild;Ht;Ht=Ht.nextSibling)this.__shady.childNodes.push(Ht)}return this.__shady.childNodes}return O(this)},configurable:!0},firstChild:U('firstChild'),lastChild:U('lastChild'),textContent:{get(){if(F(this,'firstChild')){let Ht=[];for(let Gt,jt=0,qt=this.childNodes;Gt=qt[jt];jt++)Gt.nodeType!==Node.COMMENT_NODE&&Ht.push(Gt.textContent);return Ht.join('')}return k(this)},set(Ht){this.nodeType===Node.ELEMENT_NODE?(H(this),Ht&&this.appendChild(document.createTextNode(Ht))):this.nodeValue=Ht},configurable:!0},firstElementChild:{get(){if(F(this,'firstChild')){let Ht=this.firstChild;for(;Ht&&Ht.nodeType!==Node.ELEMENT_NODE;)Ht=Ht.nextSibling;return Ht}return R(this)},configurable:!0},lastElementChild:{get(){if(F(this,'lastChild')){let Ht=this.lastChild;for(;Ht&&Ht.nodeType!==Node.ELEMENT_NODE;)Ht=Ht.previousSibling;return Ht}return x(this)},configurable:!0},children:{get(){return F(this,'firstChild')?Array.prototype.filter.call(this.childNodes,function(Ht){return Ht.nodeType===Node.ELEMENT_NODE}):L(this)},configurable:!0},innerHTML:{get(){let Ht='template'===this.localName?this.content:this;return F(this,'firstChild')?T(Ht):w(Ht)},set(Ht){let jt='template'===this.localName?this.content:this;for(H(jt),at&&at.set?at.set.call(_t,Ht):_t.innerHTML=Ht;_t.firstChild;)jt.appendChild(_t.firstChild)},configurable:!0}},ct={shadowRoot:{get(){return this.shadyRoot},set(Ht){this.shadyRoot=Ht},configurable:!0}},gt={activeElement:{get(){return G(this)},set(){},configurable:!0}},yt=Ae.hasDescriptors?function(){}:function(Ht){Ht.__shady&&Ht.__shady.__outsideAccessors||(Ht.__shady=Ht.__shady||{},Ht.__shady.__outsideAccessors=!0,B(Ht,pt,!0))},Nt=Ae.hasDescriptors?function(){}:function(Ht){Ht.__shady&&Ht.__shady.__insideAccessors||(Ht.__shady=Ht.__shady||{},Ht.__shady.__insideAccessors=!0,B(Ht,ut,!0),B(Ht,ct,!0))},mt=function(Ht){if(!F(Ht,'firstChild')){Ht.__shady=Ht.__shady||{},Ht.__shady.firstChild=D(Ht),Ht.__shady.lastChild=M(Ht),Nt(Ht);let jt=Ht.__shady.childNodes=O(Ht);for(let Gt,qt=0;qt<jt.length&&(Gt=jt[qt]);qt++)Gt.__shady=Gt.__shady||{},Gt.__shady.parentNode=Ht,Gt.__shady.nextSibling=jt[qt+1]||null,Gt.__shady.previousSibling=jt[qt-1]||null,yt(Gt)}},ft={blur:!0,focus:!0,focusin:!0,focusout:!0,click:!0,dblclick:!0,mousedown:!0,mouseenter:!0,mouseleave:!0,mousemove:!0,mouseout:!0,mouseover:!0,mouseup:!0,wheel:!0,beforeinput:!0,input:!0,keydown:!0,keyup:!0,compositionstart:!0,compositionupdate:!0,compositionend:!0,touchstart:!0,touchend:!0,touchmove:!0,touchcancel:!0,pointerover:!0,pointerenter:!0,pointerdown:!0,pointermove:!0,pointerup:!0,pointercancel:!0,pointerout:!0,pointerleave:!0,gotpointercapture:!0,lostpointercapture:!0,dragstart:!0,drag:!0,dragenter:!0,dragleave:!0,dragover:!0,drop:!0,dragend:!0,DOMActivate:!0,DOMFocusIn:!0,DOMFocusOut:!0,keypress:!0},bt={get composed(){return this.isTrusted&&void 0===this.__composed&&(this.__composed=ft[this.type]),this.__composed||!1},composedPath(){return this.__composedPath||(this.__composedPath=ve(this.__target,this.composed)),this.__composedPath},get target(){return Ee(this.currentTarget,this.composedPath())},get relatedTarget(){return this.__relatedTarget?(this.__relatedTargetComposedPath||(this.__relatedTargetComposedPath=ve(this.__relatedTarget,!0)),Ee(this.currentTarget,this.__relatedTargetComposedPath)):null},stopPropagation(){Event.prototype.stopPropagation.call(this),this.__propagationStopped=!0},stopImmediatePropagation(){Event.prototype.stopImmediatePropagation.call(this),this.__immediatePropagationStopped=!0,this.__propagationStopped=!0}},vt={focus:!0,blur:!0},Et=Se(window.Event),St=Se(window.CustomEvent),Pt=Se(window.MouseEvent);const Tt=0,Ct=1,Dt=2,Mt=3;let Ot={calcEditDistances(Ht,jt,qt,Gt,Bt,zt){let Vt=zt-Bt+1,Xt=qt-jt+1,Qt=Array(Vt);for(let Kt=0;Kt<Vt;Kt++)Qt[Kt]=Array(Xt),Qt[Kt][0]=Kt;for(let Kt=0;Kt<Xt;Kt++)Qt[0][Kt]=Kt;for(let Kt=1;Kt<Vt;Kt++)for(let Jt=1;Jt<Xt;Jt++)if(this.equals(Ht[jt+Jt-1],Gt[Bt+Kt-1]))Qt[Kt][Jt]=Qt[Kt-1][Jt-1];else{let Yt=Qt[Kt-1][Jt]+1,Zt=Qt[Kt][Jt-1]+1;Qt[Kt][Jt]=Yt<Zt?Yt:Zt}return Qt},spliceOperationsFromEditDistances(Ht){let jt=Ht.length-1,qt=Ht[0].length-1,Gt=Ht[jt][qt],Bt=[];for(;0<jt||0<qt;){if(0==jt){Bt.push(Dt),qt--;continue}if(0==qt){Bt.push(Mt),jt--;continue}let Qt,zt=Ht[jt-1][qt-1],Vt=Ht[jt-1][qt],Xt=Ht[jt][qt-1];Qt=Vt<Xt?Vt<zt?Vt:zt:Xt<zt?Xt:zt,Qt==zt?(zt==Gt?Bt.push(Tt):(Bt.push(Ct),Gt=zt),jt--,qt--):Qt==Vt?(Bt.push(Mt),jt--,Gt=Vt):(Bt.push(Dt),qt--,Gt=Xt)}return Bt.reverse(),Bt},calcSplices(Ht,jt,qt,Gt,Bt,zt){let Qt,Vt=0,Xt=0,Kt=Math.min(qt-jt,zt-Bt);if(0==jt&&0==Bt&&(Vt=this.sharedPrefix(Ht,Gt,Kt)),qt==Ht.length&&zt==Gt.length&&(Xt=this.sharedSuffix(Ht,Gt,Kt-Vt)),jt+=Vt,Bt+=Vt,qt-=Xt,zt-=Xt,0==qt-jt&&0==zt-Bt)return[];if(jt==qt){for(Qt=Me(jt,[],0);Bt<zt;)Qt.removed.push(Gt[Bt++]);return[Qt]}if(Bt==zt)return[Me(jt,[],qt-jt)];let Jt=this.spliceOperationsFromEditDistances(this.calcEditDistances(Ht,jt,qt,Gt,Bt,zt));Qt=void 0;let Yt=[],Zt=jt,$t=Bt;for(let eo=0;eo<Jt.length;eo++)switch(Jt[eo]){case Tt:Qt&&(Yt.push(Qt),Qt=void 0),Zt++,$t++;break;case Ct:Qt||(Qt=Me(Zt,[],0)),Qt.addedCount++,Zt++,Qt.removed.push(Gt[$t]),$t++;break;case Dt:Qt||(Qt=Me(Zt,[],0)),Qt.addedCount++,Zt++;break;case Mt:Qt||(Qt=Me(Zt,[],0)),Qt.removed.push(Gt[$t]),$t++;}return Qt&&Yt.push(Qt),Yt},sharedPrefix(Ht,jt,qt){for(let Gt=0;Gt<qt;Gt++)if(!this.equals(Ht[Gt],jt[Gt]))return Gt;return qt},sharedSuffix(Ht,jt,qt){let Gt=Ht.length,Bt=jt.length,zt=0;for(;zt<qt&&this.equals(Ht[--Gt],jt[--Bt]);)zt++;return zt},calculateSplices(Ht,jt){return this.calcSplices(Ht,0,Ht.length,jt,0,jt.length)},equals(Ht,jt){return Ht===jt}},Rt=(Ht,jt)=>Ot.calculateSplices(Ht,jt),xt='function'==typeof Event?Event:function(Ht,jt){jt=jt||{};var qt=document.createEvent('Event');return qt.initEvent(Ht,!!jt.bubbles,!!jt.cancelable),qt};var It=class{constructor(Ht){this.root=Ht,this.insertionPointTag='slot'}getInsertionPoints(){return this.root.querySelectorAll(this.insertionPointTag)}hasInsertionPoint(){return!!(this.root._insertionPoints&&this.root._insertionPoints.length)}isInsertionPoint(Ht){return Ht.localName&&Ht.localName==this.insertionPointTag}distribute(){return this.hasInsertionPoint()?this.distributePool(this.root,this.collectPool()):[]}collectPool(){let Ht=this.root.host,jt=[],qt=0;for(let Gt=Ht.firstChild;Gt;Gt=Gt.nextSibling)jt[qt++]=Gt;return jt}distributePool(Ht,jt){let qt=[],Gt=this.root._insertionPoints;for(let Vt,Bt=0,zt=Gt.length;Bt<zt&&(Vt=Gt[Bt]);Bt++){this.distributeInsertionPoint(Vt,jt);let Xt=Vt.parentNode;Xt&&Xt.shadyRoot&&this.hasInsertionPoint(Xt.shadyRoot)&&qt.push(Xt.shadyRoot)}for(let Bt=0;Bt<jt.length;Bt++){let zt=jt[Bt];if(zt){zt.__shady=zt.__shady||{},zt.__shady.assignedSlot=void 0;let Vt=C(zt);Vt&&Xe.call(Vt,zt)}}return qt}distributeInsertionPoint(Ht,jt){let qt=Ht.__shady.assignedNodes;qt&&this.clearAssignedSlots(Ht,!0),Ht.__shady.assignedNodes=[];let Gt=!1,Bt=!1;for(let Xt,zt=0,Vt=jt.length;zt<Vt;zt++)(Xt=jt[zt],!!Xt)&&this.matchesInsertionPoint(Xt,Ht)&&(Xt.__shady._prevAssignedSlot!=Ht&&(Gt=!0),this.distributeNodeInto(Xt,Ht),jt[zt]=void 0,Bt=!0);if(!Bt){let zt=Ht.childNodes;for(let Xt,Vt=0;Vt<zt.length;Vt++)Xt=zt[Vt],Xt.__shady._prevAssignedSlot!=Ht&&(Gt=!0),this.distributeNodeInto(Xt,Ht)}if(qt){for(let zt=0;zt<qt.length;zt++)qt[zt].__shady._prevAssignedSlot=null;Ht.__shady.assignedNodes.length<qt.length&&(Gt=!0)}this.setDistributedNodesOnInsertionPoint(Ht),Gt&&this._fireSlotChange(Ht)}clearAssignedSlots(Ht,jt){let qt=Ht.__shady.assignedNodes;if(qt)for(let Gt=0;Gt<qt.length;Gt++){let Bt=qt[Gt];jt&&(Bt.__shady._prevAssignedSlot=Bt.__shady.assignedSlot),Bt.__shady.assignedSlot===Ht&&(Bt.__shady.assignedSlot=null)}}matchesInsertionPoint(Ht,jt){let qt=jt.getAttribute('name');qt=qt?qt.trim():'';let Gt=Ht.getAttribute&&Ht.getAttribute('slot');return Gt=Gt?Gt.trim():'',Gt==qt}distributeNodeInto(Ht,jt){jt.__shady.assignedNodes.push(Ht),Ht.__shady.assignedSlot=jt}setDistributedNodesOnInsertionPoint(Ht){let jt=Ht.__shady.assignedNodes;Ht.__shady.distributedNodes=[];for(let Gt,qt=0;qt<jt.length&&(Gt=jt[qt]);qt++)if(this.isInsertionPoint(Gt)){let Bt=Gt.__shady.distributedNodes;if(Bt)for(let zt=0;zt<Bt.length;zt++)Ht.__shady.distributedNodes.push(Bt[zt])}else Ht.__shady.distributedNodes.push(jt[qt])}_fireSlotChange(Ht){Ht.dispatchEvent(new xt('slotchange')),Ht.__shady.assignedSlot&&this._fireSlotChange(Ht.__shady.assignedSlot)}isFinalDestination(Ht){return!Ht.__shady.assignedSlot}};let At=Object.create(DocumentFragment.prototype);h(At,{_init(Ht){this.__localName='ShadyRoot',mt(Ht),mt(this),Ht.shadowRoot=this,this.host=Ht,this._renderPending=!1,this._hasRendered=!1,this._changePending=!1,this._distributor=new It(this),this.update()},update(){this._renderPending||(this._renderPending=!0,y(()=>this.render()))},_getRenderRoot(){let Ht=this,jt=this;for(;jt;)jt._renderPending&&(Ht=jt),jt=jt._rendererForHost();return Ht},_rendererForHost(){let Ht=this.host.getRootNode();if(t(Ht)){let jt=this.host.childNodes;for(let Gt,qt=0;qt<jt.length;qt++)if(Gt=jt[qt],this._distributor.isInsertionPoint(Gt))return Ht}},render(){this._renderPending&&this._getRenderRoot()._render()},_render(){this._renderPending=!1,this._changePending=!1,this._skipUpdateInsertionPoints?!this._hasRendered&&(this._insertionPoints=[]):this.updateInsertionPoints(),this._skipUpdateInsertionPoints=!1,this.distribute(),this.compose(),this._hasRendered=!0},forceRender(){this._renderPending=!0,this.render()},distribute(){let Ht=this._distributor.distribute();for(let jt=0;jt<Ht.length;jt++)Ht[jt]._render()},updateInsertionPoints(){let Ht=this.__insertionPoints;if(Ht)for(let qt,jt=0;jt<Ht.length;jt++)qt=Ht[jt],qt.getRootNode()!==this&&this._distributor.clearAssignedSlots(qt);Ht=this._insertionPoints=this._distributor.getInsertionPoints();for(let qt,jt=0;jt<Ht.length;jt++)qt=Ht[jt],qt.__shady=qt.__shady||{},mt(qt),mt(qt.parentNode)},get _insertionPoints(){return this.__insertionPoints||this.updateInsertionPoints(),this.__insertionPoints||(this.__insertionPoints=[])},set _insertionPoints(Ht){this.__insertionPoints=Ht},hasInsertionPoint(){return this._distributor.hasInsertionPoint()},compose(){this._composeTree()},_composeTree(){this._updateChildNodes(this.host,this._composeNode(this.host));let Ht=this._insertionPoints||[];for(let Gt,Bt,jt=0,qt=Ht.length;jt<qt&&(Gt=Ht[jt]);jt++)Bt=Gt.parentNode,Bt!==this.host&&Bt!==this&&this._updateChildNodes(Bt,this._composeNode(Bt))},_composeNode(Ht){let jt=[],qt=(Ht.shadyRoot||Ht).childNodes;for(let Gt=0;Gt<qt.length;Gt++){let Bt=qt[Gt];if(this._distributor.isInsertionPoint(Bt)){let zt=Bt.__shady.distributedNodes||(Bt.__shady.distributedNodes=[]);for(let Vt=0;Vt<zt.length;Vt++){let Xt=zt[Vt];this.isFinalDestination(Bt,Xt)&&jt.push(Xt)}}else jt.push(Bt)}return jt},isFinalDestination(Ht,jt){return this._distributor.isFinalDestination(Ht,jt)},_updateChildNodes(Ht,jt){let qt=O(Ht),Gt=Rt(jt,qt);for(let Vt,Bt=0,zt=0;Bt<Gt.length&&(Vt=Gt[Bt]);Bt++){for(let Qt,Xt=0;Xt<Vt.removed.length&&(Qt=Vt.removed[Xt]);Xt++)C(Qt)===Ht&&Xe.call(Ht,Qt),qt.splice(Vt.index+zt,1);zt-=Vt.addedCount}for(let zt,Vt,Bt=0;Bt<Gt.length&&(zt=Gt[Bt]);Bt++){Vt=qt[zt.index];for(let Qt,Xt=zt.index;Xt<zt.index+zt.addedCount;Xt++)Qt=jt[Xt],Ve.call(Ht,Qt,Vt),qt.splice(Xt,0,Qt)}},getInsertionPointTag(){return this._distributor.insertionPointTag}}),function(jt){B(jt,ut,!0),B(jt,gt,!0)}(At);let Lt={addEventListener:function(jt,qt,Gt){if(qt){let Bt,zt,Vt;if('object'==typeof Gt?(Bt=!!Gt.capture,zt=!!Gt.once,Vt=!!Gt.passive):(Bt=!!Gt,zt=!1,Vt=!1),qt.__eventWrappers){for(let Qt=0;Qt<qt.__eventWrappers.length;Qt++)if(qt.__eventWrappers[Qt].node===this&&qt.__eventWrappers[Qt].type===jt&&qt.__eventWrappers[Qt].capture===Bt&&qt.__eventWrappers[Qt].once===zt&&qt.__eventWrappers[Qt].passive===Vt)return;}else qt.__eventWrappers=[];const Xt=function(Qt){if(zt&&this.removeEventListener(jt,qt,Gt),Qt.__target||(Qt.__target=Qt.target,Qt.__relatedTarget=Qt.relatedTarget,g(Qt,bt)),Qt.composed||-1<Qt.composedPath().indexOf(this))return Qt.eventPhase===Event.BUBBLING_PHASE&&Qt.target===Qt.relatedTarget?void Qt.stopImmediatePropagation():qt(Qt)};qt.__eventWrappers.push({node:this,type:jt,capture:Bt,once:zt,passive:Vt,wrapperFn:Xt}),vt[jt]?(this.__handlers=this.__handlers||{},this.__handlers[jt]=this.__handlers[jt]||{capture:[],bubble:[]},this.__handlers[jt][Bt?'capture':'bubble'].push(Xt)):Ze.call(this,jt,Xt,Gt)}},removeEventListener:function(jt,qt,Gt){if(qt){let Bt,zt,Vt;'object'==typeof Gt?(Bt=!!Gt.capture,zt=!!Gt.once,Vt=!!Gt.passive):(Bt=!!Gt,zt=!1,Vt=!1);let Xt;if(qt.__eventWrappers)for(let Qt=0;Qt<qt.__eventWrappers.length;Qt++)if(qt.__eventWrappers[Qt].node===this&&qt.__eventWrappers[Qt].type===jt&&qt.__eventWrappers[Qt].capture===Bt&&qt.__eventWrappers[Qt].once===zt&&qt.__eventWrappers[Qt].passive===Vt){Xt=qt.__eventWrappers.splice(Qt,1)[0].wrapperFn,qt.__eventWrappers.length||(qt.__eventWrappers=void 0);break}if($e.call(this,jt,Xt||qt,Gt),Xt&&vt[jt]&&this.__handlers&&this.__handlers[jt]){const Qt=this.__handlers[jt][Bt?'capture':'bubble'],Kt=Qt.indexOf(Xt);-1<Kt&&Qt.splice(Kt,1)}}},appendChild(Ht){return Ne(this,Ht)},insertBefore(Ht,jt){return Ne(this,Ht,jt)},removeChild(Ht){return me(this,Ht)},replaceChild(Ht,jt){return this.insertBefore(Ht,jt),this.removeChild(jt),Ht},cloneNode(Ht){return fe(this,Ht)},getRootNode(Ht){return ee(this,Ht)},get isConnected(){return document.documentElement.contains(this)}},wt={get assignedSlot(){return Re(this)}},kt={querySelector(Ht){let jt=he(this,function(qt){return r(qt,Ht)},function(qt){return!!qt})[0];return jt||null},querySelectorAll(Ht){return he(this,function(jt){return r(jt,Ht)})}},Wt={assignedNodes(Ht){if('slot'===this.localName)return ce(this),this.__shady?(Ht&&Ht.flatten?this.__shady.distributedNodes:this.__shady.assignedNodes)||[]:[]}},Ft=h({setAttribute(Ht,jt){ge(this,Ht,jt)},removeAttribute(Ht){ye(this,Ht)},attachShadow(Ht){return Oe(this,Ht)},get slot(){return this.getAttribute('slot')},set slot(Ht){this.setAttribute('slot',Ht)},get assignedSlot(){return Re(this)}},kt,Wt);Object.defineProperties(Ft,ct);let Ut=h({},kt);Object.defineProperties(Ut,{_activeElement:gt.activeElement}),Ae.inUse&&(window.ShadyDOM={inUse:Ae.inUse,patch:function(Ht){return Ht},isShadyRoot:t,enqueue:y,flush:N,settings:Ae,filterMutations:f,observeChildren:Ge,unobserveChildren:Be,nativeMethods:et,nativeTree:it},De(),Ie())})();
//# sourceMappingURL=shadydom.min.js.map
